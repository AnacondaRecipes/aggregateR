{% set version = '1.1.0' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-r5r
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/r5r_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/r5r/r5r_{{ version }}.tar.gz
  sha256: afaa5249d6eeb0cbd138e9ad2930151e651be6621896b8f12778ee0371cc871f

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip
  noarch: generic

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

# Suggests: accessibility, covr, dplyr, ggplot2 (>= 3.3.1), gtfstools, h3jsr (>= 1.3.0), interp, knitr, parallel, patchwork, rmarkdown, testthat
requirements:
  build:
    - {{ posix }}zip               # [win]

  host:
    - r-base
    - r-checkmate
    - r-concaveman
    - r-curl
    - r-data.table
    - r-httr
    - r-jsonlite
    - r-rjava >=0.9_10
    - r-sf >=1.0_12
    - r-sfheaders
    - r-zip

  run:
    - r-base
    - r-checkmate
    - r-concaveman
    - r-curl
    - r-data.table
    - r-httr
    - r-jsonlite
    - r-rjava >=0.9_10
    - r-sf >=1.0_12
    - r-sfheaders
    - r-zip

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('r5r')"           # [not win]
    - "\"%R%\" -e \"library('r5r')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: https://github.com/ipeaGIT/r5r
  license: MIT
  summary: Rapid realistic routing on multimodal transport networks (walk, bike, public transport
    and car) using 'R5', the Rapid Realistic Routing on Real-world and Reimagined networks
    engine <https://github.com/conveyal/r5>. The package allows users to generate detailed
    routing analysis or calculate travel time matrices using seamless parallel computing
    on top of the R5 Java machine.  While R5 is developed by Conveyal, the package r5r
    is independently developed by a team at the Institute for Applied Economic Research
    (Ipea) with contributions from collaborators. Apart from the documentation in this
    package, users will find additional information on R5 documentation at <https://docs.conveyal.com/>.
    Although we try to keep new releases of r5r in synchrony with R5, the development
    of R5 follows Conveyal's independent update process. Hence, users should confirm
    the R5 version implied by the Conveyal user manual (see <https://docs.conveyal.com/changelog>)
    corresponds with the R5 version that r5r depends on.
  license_family: MIT
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/MIT'
    - LICENSE

# The original CRAN metadata for this package was:

# Type: Package
# Package: r5r
# Title: Rapid Realistic Routing with 'R5'
# Version: 1.1.0
# Authors@R: c( person("Marcus", "Saraiva", , "marcus.saraiva@gmail.com", role = "aut", comment = c(ORCID = "0000-0001-6218-2338")), person("Rafael H. M.", "Pereira", , "rafa.pereira.br@gmail.com", role = c("aut", "cre"), comment = c(ORCID = "0000-0003-2125-7465")), person("Daniel", "Herszenhut", , "dhersz@gmail.com", role = "aut", comment = c(ORCID = "0000-0001-8066-1105")), person("Carlos Kaue Vieira", "Braga", , "kaue@kauebraga.dev", role = "aut", comment = c(ORCID = "0000-0002-6104-7297")), person("Matthew Wigginton", "Conway", , "mwconway@asu.edu", role = "aut", comment = c(ORCID = "0000-0002-1210-2982")), person("Ipea - Institute for Applied Economic Research", role = c("cph", "fnd")) )
# Description: Rapid realistic routing on multimodal transport networks (walk, bike, public transport and car) using 'R5', the Rapid Realistic Routing on Real-world and Reimagined networks engine <https://github.com/conveyal/r5>. The package allows users to generate detailed routing analysis or calculate travel time matrices using seamless parallel computing on top of the R5 Java machine.  While R5 is developed by Conveyal, the package r5r is independently developed by a team at the Institute for Applied Economic Research (Ipea) with contributions from collaborators. Apart from the documentation in this package, users will find additional information on R5 documentation at <https://docs.conveyal.com/>. Although we try to keep new releases of r5r in synchrony with R5, the development of R5 follows Conveyal's independent update process. Hence, users should confirm the R5 version implied by the Conveyal user manual (see <https://docs.conveyal.com/changelog>) corresponds with the R5 version that r5r depends on.
# License: MIT + file LICENSE
# URL: https://github.com/ipeaGIT/r5r
# BugReports: https://github.com/ipeaGIT/r5r/issues
# Depends: R (>= 3.6)
# Imports: checkmate, concaveman, curl, data.table, httr, jsonlite, rJava (>= 0.9-10), sf (>= 1.0-12), sfheaders, utils, zip
# Suggests: accessibility, covr, dplyr, ggplot2 (>= 3.3.1), gtfstools, h3jsr (>= 1.3.0), interp, knitr, parallel, patchwork, rmarkdown, testthat
# VignetteBuilder: knitr
# Encoding: UTF-8
# RoxygenNote: 7.2.3
# SystemRequirements: Java JDK (>= 11.0)
# NeedsCompilation: no
# Packaged: 2023-08-08 00:46:34 UTC; user
# Author: Marcus Saraiva [aut] (<https://orcid.org/0000-0001-6218-2338>), Rafael H. M. Pereira [aut, cre] (<https://orcid.org/0000-0003-2125-7465>), Daniel Herszenhut [aut] (<https://orcid.org/0000-0001-8066-1105>), Carlos Kaue Vieira Braga [aut] (<https://orcid.org/0000-0002-6104-7297>), Matthew Wigginton Conway [aut] (<https://orcid.org/0000-0002-1210-2982>), Ipea - Institute for Applied Economic Research [cph, fnd]
# Maintainer: Rafael H. M. Pereira <rafa.pereira.br@gmail.com>
# Repository: CRAN
# Date/Publication: 2023-08-08 07:50:06 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
