{% set version = '4.4.15' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-asremlplus
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/asremlPlus_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/asremlPlus/asremlPlus_{{ version }}.tar.gz
  sha256: d1e805ecd6c16af88d4fc5086c3941326d3eb0eb4bdf1be30c02cae2f4576e7b

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip
  noarch: generic

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

# Suggests: emmeans (>= 1.8.8), lattice, lmerTest, pbkrtest, R.rsp, testthat, tictoc
requirements:
  build:
    - {{ posix }}zip               # [win]

  host:
    - r-base
    - r-rcolorbrewer
    - r-dae
    - r-devtools
    - r-doparallel
    - r-dplyr
    - r-foreach
    - r-ggplot2
    - r-qqplotr
    - r-reshape2
    - r-rlang
    - r-sticky
    - r-stringr

  run:
    - r-base
    - r-rcolorbrewer
    - r-dae
    - r-devtools
    - r-doparallel
    - r-dplyr
    - r-foreach
    - r-ggplot2
    - r-qqplotr
    - r-reshape2
    - r-rlang
    - r-sticky
    - r-stringr

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('asremlPlus')"           # [not win]
    - "\"%R%\" -e \"library('asremlPlus')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: http://chris.brien.name
  license: MIT
  summary: 'Assists in automating the selection of terms to include in mixed models when ''asreml''
    is used to fit the models. Also used to display, in tables and graphs, predictions
    obtained using any model fitting function and to explore differences between predictions.
    The content  falls into the following natural groupings: (i) Data, (ii) Object manipulation
    functions, (iii) Model modification functions, (iv) Model testing functions, (v)
    Model diagnostics functions, (vi) Prediction production and presentation functions,
    (vii) Response transformation functions, and (viii) Miscellaneous functions (for
    further details see ''asremlPlus-package'' in help). A history of the fitting of
    a sequence of models is kept in a data frame. Procedures are available for choosing
    models that conform to the hierarchy or marginality principle and for displaying
    predictions for significant terms in tables and graphs. The ''asreml'' package provides
    a computationally efficient algorithm for fitting a wide range of linear mixed models
    using Residual Maximum Likelihood. It is a commercial package that can be purchased
    from ''VSNi'' <https://vsni.co.uk/> as ''asreml-R'', who will supply a zip file
    for local installation/updating (see <https://asreml.kb.vsni.co.uk/>). It is not
    needed for functions that are methods for ''alldiffs''  and ''data.frame'' objects.
    The package ''asremPlus'' can also be installed from <http://chris.brien.name/rpackages/>.'
  license_family: MIT
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/MIT'
    - LICENSE

# The original CRAN metadata for this package was:

# Package: asremlPlus
# Version: 4.4.15
# Date: 2023-10-02
# Title: Augments 'ASReml-R' in Fitting Mixed Models and Packages Generally in Exploring Prediction Differences
# Authors@R: person("Chris","Brien", role = c("aut","cre"), comment = c(ORCID = "0000-0003-0581-1817"), email = "chris.brien@adelaide.edu.au")
# Depends: R (>= 3.5.0)
# Imports: dae, devtools, doParallel, dplyr, ggplot2, foreach, grDevices, graphics, methods, qqplotr, parallel, reshape2, RColorBrewer, rlang, stats, stringr, sticky, utils
# Suggests: emmeans (>= 1.8.8), lattice, lmerTest, pbkrtest, R.rsp, testthat, tictoc
# Enhances: asreml
# VignetteBuilder: R.rsp
# SystemRequirements: asreml
# LazyData: true
# Description: Assists in automating the selection of terms to include in mixed models when 'asreml' is used to fit the models. Also used to display, in tables and graphs, predictions obtained using any model fitting function and to explore differences between predictions. The content  falls into the following natural groupings: (i) Data, (ii) Object manipulation functions, (iii) Model modification functions, (iv) Model testing functions, (v) Model diagnostics functions, (vi) Prediction production and presentation functions, (vii) Response transformation functions, and (viii) Miscellaneous functions (for further details see 'asremlPlus-package' in help). A history of the fitting of a sequence of models is kept in a data frame. Procedures are available for choosing models that conform to the hierarchy or marginality principle and for displaying predictions for significant terms in tables and graphs. The 'asreml' package provides a computationally efficient algorithm for fitting a wide range of linear mixed models using Residual Maximum Likelihood. It is a commercial package that can be purchased from 'VSNi' <https://vsni.co.uk/> as 'asreml-R', who will supply a zip file for local installation/updating (see <https://asreml.kb.vsni.co.uk/>). It is not needed for functions that are methods for 'alldiffs'  and 'data.frame' objects. The package 'asremPlus' can also be installed from <http://chris.brien.name/rpackages/>.
# License: MIT + file LICENSE
# URL: http://chris.brien.name
# NeedsCompilation: no
# Packaged: 2023-10-02 08:30:35 UTC; briencj
# Author: Chris Brien [aut, cre] (<https://orcid.org/0000-0003-0581-1817>)
# Maintainer: Chris Brien <chris.brien@adelaide.edu.au>
# Repository: CRAN
# Date/Publication: 2023-10-02 13:40:15 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
