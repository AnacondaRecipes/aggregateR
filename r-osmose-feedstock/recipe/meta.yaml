{% set version = '3.3.4' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-osmose
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/osmose_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/osmose/osmose_{{ version }}.tar.gz
  sha256: 46cabe92d1c5a5c707b859b48fd7f8147b946cc525c9f37f55a9401d179d9590

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip
  noarch: generic

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

requirements:
  build:
    - {{ posix }}zip               # [win]

  host:
    - r-base
    - r-fields
    - r-knitr
    - r-mgcv
    - r-ncdf4
    - r-rlist
    - r-rmarkdown
    - r-stringr

  run:
    - r-base
    - r-fields
    - r-knitr
    - r-mgcv
    - r-ncdf4
    - r-rlist
    - r-rmarkdown
    - r-stringr

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('osmose')"           # [not win]
    - "\"%R%\" -e \"library('osmose')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: http://www.osmose-model.org/
  license: CeCILL
  summary: The multispecies and individual-based model (IBM) 'OSMOSE' (Shin and Curry (2001)
    <doi:10.1016/S0990-7440(01)01106-8> and Shin and Curry (2004) <doi:10.1139/f03-154>)
    focuses on fish species. This model assumes opportunistic predation based on spatial
    co-occurrence and size adequacy between a predator and its prey (size-based opportunistic
    predation). It represents fish individuals grouped into schools, which are characterized
    by their size, weight, age, taxonomy and geographical location (2D model), and which
    undergo major processes of fish life cycle (growth, explicit predation, natural
    and starvation mortalities, reproduction and migration) and fishing exploitation.
    The model needs basic biological parameters that are often available for a wide
    range of species, and which can be found in 'FishBase' for instance (see <http://www.fishbase.org/search.php>),
    and fish spatial distribution data. This package provides tools to build and run
    simulations using the 'OSMOSE' model.
  license_family: OTHER

extra:
  recipe-maintainers:
    - katietz

# The original CRAN metadata for this package was:

# Package: osmose
# Type: Package
# Title: Object Oriented Simulator of Marine Ecosystems
# Version: 3.3.4
# Date: 2020-04-03
# Authors@R: c(person(given = "Yunne-Jai", family = "Shin", role = "aut", comment = c(ORCID = "0000-0002-7259-9265")), person(given = "Travers", family = "Morgane", role = "aut", comment = c(ORCID = "0000-0003-1493-662X")), person(given = "Verley", family = "Philippe", role = "aut", comment = c(ORCID = "0000-0002-5686-2764")), person(given = "Ricardo", family = "Oliveros-Ramos", role = "aut", comment = c(ORCID = "0000-0002-8069-2101")), person(given = "Laure", family = "Velez", role = "aut"), person(given = "Nicolas", family = "Barrier", role = "cre", comment = c(ORCID = "0000-0002-1693-4719"), email = "nicolas.barrier@ird.fr"), person(given = "Criscely", family = "Lujan", role = "ctb"), person(given = "Michael", family = "Hurtado", role = "ctb"), person(given = "Wencheng", family = "Lau-Medrano", role = "ctb"))
# Description: The multispecies and individual-based model (IBM) 'OSMOSE' (Shin and Curry (2001) <doi:10.1016/S0990-7440(01)01106-8> and Shin and Curry (2004) <doi:10.1139/f03-154>) focuses on fish species. This model assumes opportunistic predation based on spatial co-occurrence and size adequacy between a predator and its prey (size-based opportunistic predation). It represents fish individuals grouped into schools, which are characterized by their size, weight, age, taxonomy and geographical location (2D model), and which undergo major processes of fish life cycle (growth, explicit predation, natural and starvation mortalities, reproduction and migration) and fishing exploitation. The model needs basic biological parameters that are often available for a wide range of species, and which can be found in 'FishBase' for instance (see <http://www.fishbase.org/search.php>), and fish spatial distribution data. This package provides tools to build and run simulations using the 'OSMOSE' model.
# License: CeCILL
# Encoding: UTF-8
# Depends: R (>= 3.5.0)
# Imports: graphics, grDevices, rlist, stats, knitr, rmarkdown, stringr, utils, ncdf4, mgcv, fields
# URL: http://www.osmose-model.org/
# LazyData: FALSE
# BugReports: https://github.com/osmose-model/osmose/issues
# SystemRequirements: Java (>= 8)
# VignetteBuilder: knitr
# RoxygenNote: 7.1.0
# NeedsCompilation: no
# Packaged: 2020-04-28 09:17:22 UTC; Nicolas
# Author: Yunne-Jai Shin [aut] (<https://orcid.org/0000-0002-7259-9265>), Travers Morgane [aut] (<https://orcid.org/0000-0003-1493-662X>), Verley Philippe [aut] (<https://orcid.org/0000-0002-5686-2764>), Ricardo Oliveros-Ramos [aut] (<https://orcid.org/0000-0002-8069-2101>), Laure Velez [aut], Nicolas Barrier [cre] (<https://orcid.org/0000-0002-1693-4719>), Criscely Lujan [ctb], Michael Hurtado [ctb], Wencheng Lau-Medrano [ctb]
# Maintainer: Nicolas Barrier <nicolas.barrier@ird.fr>
# Repository: CRAN
# Date/Publication: 2020-04-28 13:00:03 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
