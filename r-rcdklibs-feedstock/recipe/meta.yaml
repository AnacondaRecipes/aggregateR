{% set version = '2.8' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-rcdklibs
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/rcdklibs_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/rcdklibs/rcdklibs_{{ version }}.tar.gz
  sha256: fccb520abcaff54e157c41573ca279ef31f1440b8dfec13c7d52d5b6b1021949

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip
  noarch: generic

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

requirements:
  build:
    - {{ posix }}zip               # [win]

  host:
    - r-base
    - r-rjava
    - openjdk  # [linux]

  run:
    - r-base
    - r-rjava

test:
  requires:
    - openjdk  # [linux]
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('rcdklibs')"           # [not win]
    - "\"%R%\" -e \"library('rcdklibs')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: https://CRAN.R-project.org/package=rcdklibs
  license: LGPL-3
  summary: An R interface to the Chemistry Development Kit, a Java library for chemoinformatics.
    Given the size of the library itself, this package is not expected to change very
    frequently. To make use of the CDK within R, it is suggested that you use the 'rcdk'
    package. Note that it is possible to directly interact with the CDK using 'rJava'.
    However 'rcdk' exposes functionality in a more idiomatic way. The CDK library itself
    is released as LGPL and the sources can be obtained from <https://github.com/cdk/cdk>.
  license_family: LGPL
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/LGPL-3'

extra:
  recipe-maintainers:
    - katietz

# The original CRAN metadata for this package was:

# Package: rcdklibs
# Version: 2.8
# Date: 2022-09-20
# Authors@R: c(person('Rajarshi', 'Guha', role=c('aut'), email='rajarshi.guha@gmail.com'), person('Zachary', 'Charlop-Powers', role=c('cre'), email='zach.charlop.powers@gmail.com'), person('CDK Project', '', role=c('ctb', 'cph'), comment='CDK Java library contained in multiple jar files'))
# Depends: R (>= 2.0.0), rJava
# License: LGPL
# Title: The CDK Libraries Packaged for R
# Description: An R interface to the Chemistry Development Kit, a Java library for chemoinformatics. Given the size of the library itself, this package is not expected to change very frequently. To make use of the CDK within R, it is suggested that you use the 'rcdk' package. Note that it is possible to directly interact with the CDK using 'rJava'. However 'rcdk' exposes functionality in a more idiomatic way. The CDK library itself is released as LGPL and the sources can be obtained from <https://github.com/cdk/cdk>.
# RoxygenNote: 7.2.1
# NeedsCompilation: no
# Packaged: 2022-09-25 14:59:12 UTC; zcharlop-powers
# Author: Rajarshi Guha [aut], Zachary Charlop-Powers [cre], CDK Project [ctb, cph] (CDK Java library contained in multiple jar files)
# Maintainer: Zachary Charlop-Powers <zach.charlop.powers@gmail.com>
# Repository: CRAN
# Date/Publication: 2022-09-25 22:40:06 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
