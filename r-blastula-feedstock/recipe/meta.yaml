{% set version = '0.3.4' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-blastula
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/blastula_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/blastula/blastula_{{ version }}.tar.gz
  sha256: d4e7c90e8631935b6a35cab6460c9fc11d14d693571c40d5499eee9215a3ae29

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip
  noarch: generic

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

# Suggests: covr, ggplot2, glue, testthat (>= 3.0.0), keyring, knitr, spelling, xml2
requirements:
  build:
    - {{ posix }}zip               # [win]

  host:
    - r-base
    - r-base64enc >=0.1_3
    - r-commonmark >=1.7
    - r-curl >=4.3
    - r-digest
    - r-dplyr >=0.8.3
    - r-fs >=1.3.1
    - r-getpass >=0.2_2
    - r-here >=0.1
    - r-htmltools >=0.4.0
    - r-httr >=1.4.0
    - r-jsonlite >=1.6
    - r-magrittr >=1.5
    - r-mime >=0.6
    - r-rlang >=1.0
    - r-rmarkdown
    - r-stringr >=1.4.0
    - r-uuid >=0.1_2

  run:
    - r-base
    - r-base64enc >=0.1_3
    - r-commonmark >=1.7
    - r-curl >=4.3
    - r-digest
    - r-dplyr >=0.8.3
    - r-fs >=1.3.1
    - r-getpass >=0.2_2
    - r-here >=0.1
    - r-htmltools >=0.4.0
    - r-httr >=1.4.0
    - r-jsonlite >=1.6
    - r-magrittr >=1.5
    - r-mime >=0.6
    - r-rlang >=1.0
    - r-rmarkdown
    - r-stringr >=1.4.0
    - r-uuid >=0.1_2

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('blastula')"           # [not win]
    - "\"%R%\" -e \"library('blastula')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: https://github.com/rstudio/blastula
  license: MIT
  summary: Compose and send out responsive HTML email messages that render perfectly across a
    range of email clients and device sizes. Helper functions let the user insert embedded
    images, web link buttons, and 'ggplot2' plot objects into the message body. Messages
    can be sent through an 'SMTP' server, through the 'RStudio Connect' service, or
    through the 'Mailgun' API service <https://www.mailgun.com/>.
  license_family: MIT
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/MIT'
    - LICENSE

# The original CRAN metadata for this package was:

# Type: Package
# Package: blastula
# Version: 0.3.4
# Title: Easily Send HTML Email Messages
# Description: Compose and send out responsive HTML email messages that render perfectly across a range of email clients and device sizes. Helper functions let the user insert embedded images, web link buttons, and 'ggplot2' plot objects into the message body. Messages can be sent through an 'SMTP' server, through the 'RStudio Connect' service, or through the 'Mailgun' API service <https://www.mailgun.com/>.
# Authors@R: c( person("Richard", "Iannone", role = c("aut", "cre"), email = "rich@posit.co", comment = c(ORCID = "0000-0003-3925-190X")), person("Joe", "Cheng", role = "aut", email = "joe@posit.co"), person("Jeroen", "Ooms", role = "ctb", email = "jeroen@berkeley.edu", comment = c(ORCID = "0000-0002-4035-0289")), person("Ted", "Goas", role = "cph", comment = "cerberus-meta.html"), person("Posit Software, PBC", role = c("cph", "fnd")) )
# License: MIT + file LICENSE
# URL: https://github.com/rstudio/blastula
# BugReports: https://github.com/rstudio/blastula/issues
# Depends: R (>= 3.6)
# Imports: base64enc (>= 0.1-3), commonmark (>= 1.7), curl (>= 4.3), digest, dplyr (>= 0.8.3), fs (>= 1.3.1), getPass (>= 0.2-2), here (>= 0.1), htmltools (>= 0.4.0), httr (>= 1.4.0), jsonlite (>= 1.6), magrittr (>= 1.5), mime (>= 0.6), rlang (>= 1.0), rmarkdown, stringr (>= 1.4.0), uuid (>= 0.1-2)
# Suggests: covr, ggplot2, glue, testthat (>= 3.0.0), keyring, knitr, spelling, xml2
# SystemRequirements: pandoc (>= 1.12.3) - http://pandoc.org
# Encoding: UTF-8
# RoxygenNote: 7.2.3
# Config/testthat/edition: 3
# Language: en-US
# NeedsCompilation: no
# Packaged: 2023-09-22 22:36:38 UTC; rich
# Author: Richard Iannone [aut, cre] (<https://orcid.org/0000-0003-3925-190X>), Joe Cheng [aut], Jeroen Ooms [ctb] (<https://orcid.org/0000-0002-4035-0289>), Ted Goas [cph] (cerberus-meta.html), Posit Software, PBC [cph, fnd]
# Maintainer: Richard Iannone <rich@posit.co>
# Repository: CRAN
# Date/Publication: 2023-09-23 23:20:02 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
