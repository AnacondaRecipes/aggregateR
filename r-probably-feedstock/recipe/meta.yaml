{% set version = '1.0.2' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-probably
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/probably_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/probably/probably_{{ version }}.tar.gz
  sha256: b768d01d9af5b61459cbf4cdc85c1dedb6d9c8b88c54e10ee6c66fb5dea8932d

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip
  noarch: generic

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

# Suggests: betacal, covr, knitr, MASS, mgcv, modeldata (>= 1.1.0), nnet, parsnip, quantregForest, randomForest, recipes, rmarkdown, rsample, testthat (>= 3.0.0)
requirements:
  build:
    - {{ posix }}zip               # [win]

  host:
    - r-base
    - r-butcher
    - r-cli
    - r-dplyr >=1.1.0
    - r-furrr
    - r-generics >=0.1.3
    - r-ggplot2
    - r-hardhat
    - r-pillar
    - r-purrr
    - r-rlang >=1.0.4
    - r-tidyr >=1.3.0
    - r-tidyselect >=1.1.2
    - r-tune >=1.1.0
    - r-vctrs >=0.4.1
    - r-withr
    - r-workflows
    - r-yardstick >1.0.0

  run:
    - r-base
    - r-butcher
    - r-cli
    - r-dplyr >=1.1.0
    - r-furrr
    - r-generics >=0.1.3
    - r-ggplot2
    - r-hardhat
    - r-pillar
    - r-purrr
    - r-rlang >=1.0.4
    - r-tidyr >=1.3.0
    - r-tidyselect >=1.1.2
    - r-tune >=1.1.0
    - r-vctrs >=0.4.1
    - r-withr
    - r-workflows
    - r-yardstick >1.0.0

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('probably')"           # [not win]
    - "\"%R%\" -e \"library('probably')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: https://github.com/tidymodels/probably/, https://probably.tidymodels.org
  license: MIT
  summary: 'Models can be improved by post-processing class probabilities, by: recalibration,
    conversion to hard probabilities, assessment of equivocal zones, and other activities.
    ''probably'' contains tools for conducting these operations as well as calibration
    tools and conformal inference techniques for regression models.'
  license_family: MIT
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/MIT'
    - LICENSE

# The original CRAN metadata for this package was:

# Package: probably
# Title: Tools for Post-Processing Class Probability Estimates
# Version: 1.0.2
# Authors@R: c( person("Max", "Kuhn", , "max@posit.co", role = c("aut", "cre")), person("Davis", "Vaughan", , "davis@posit.co", role = "aut"), person("Edgar", "Ruiz", , "edgar@posit.co", role = "aut"), person(given = "Posit Software, PBC", role = c("cph", "fnd")) )
# Description: Models can be improved by post-processing class probabilities, by: recalibration, conversion to hard probabilities, assessment of equivocal zones, and other activities. 'probably' contains tools for conducting these operations as well as calibration tools and conformal inference techniques for regression models.
# License: MIT + file LICENSE
# URL: https://github.com/tidymodels/probably/, https://probably.tidymodels.org
# BugReports: https://github.com/tidymodels/probably/issues
# Depends: R (>= 3.5.0)
# Imports: butcher, cli, dplyr (>= 1.1.0), furrr, generics (>= 0.1.3), ggplot2, hardhat, pillar, purrr, rlang (>= 1.0.4), tidyr (>= 1.3.0), tidyselect (>= 1.1.2), tune (>= 1.1.0), vctrs (>= 0.4.1), withr, workflows, yardstick (> 1.0.0)
# Suggests: betacal, covr, knitr, MASS, mgcv, modeldata (>= 1.1.0), nnet, parsnip, quantregForest, randomForest, recipes, rmarkdown, rsample, testthat (>= 3.0.0)
# VignetteBuilder: knitr
# ByteCompile: true
# Config/Needs/website: tidyverse/tidytemplate
# Config/testthat/edition: 3
# Encoding: UTF-8
# LazyData: true
# RoxygenNote: 7.2.3
# NeedsCompilation: no
# Packaged: 2023-06-29 13:58:05 UTC; max
# Author: Max Kuhn [aut, cre], Davis Vaughan [aut], Edgar Ruiz [aut], Posit Software, PBC [cph, fnd]
# Maintainer: Max Kuhn <max@posit.co>
# Repository: CRAN
# Date/Publication: 2023-06-29 18:10:08 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
