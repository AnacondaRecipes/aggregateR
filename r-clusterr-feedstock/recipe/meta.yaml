{% set version = '1.3.1' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-clusterr
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/ClusterR_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/ClusterR/ClusterR_{{ version }}.tar.gz
  sha256: 6e8ecd005b2039f788c47ed84b9cc09d66248d52947a319fc2d63d25dffcc0f6

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

# Suggests: OpenImageR, FD, testthat, covr, knitr, rmarkdown
requirements:
  build:
    - {{ compiler('c') }}              # [not win]
    - {{ compiler('m2w64_c') }}        # [win]
    - {{ compiler('cxx') }}            # [not win]
    - {{ compiler('m2w64_cxx') }}      # [win]
    - {{ posix }}filesystem        # [win]
    - {{ posix }}make
    - {{ posix }}sed               # [win]
    - {{ posix }}coreutils         # [win]
    - {{ posix }}zip               # [win]

  host:
    - r-base
    - r-rcpp >=0.12.5
    - r-rcpparmadillo >=0.9.1
    - r-ggplot2
    - r-gmp
    - r-lifecycle
    - gmp
    - mpfr

  run:
    - r-base
    - {{native}}gcc-libs         # [win]
    - r-rcpp >=0.12.5
    - r-rcpparmadillo >=0.9.1
    - r-ggplot2
    - r-gmp
    - r-lifecycle
    - gmp
    - mpfr

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('ClusterR')"           # [not win]
    - "\"%R%\" -e \"library('ClusterR')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: https://github.com/mlampros/ClusterR
  license: GPL-3
  summary: 'Gaussian mixture models, k-means, mini-batch-kmeans, k-medoids and affinity propagation
    clustering with the option to plot, validate, predict (new data) and estimate the
    optimal number of clusters. The package takes advantage of ''RcppArmadillo'' to
    speed up the computationally intensive parts of the functions. For more information,
    see (i) "Clustering in an Object-Oriented Environment" by Anja Struyf, Mia Hubert,
    Peter Rousseeuw (1997), Journal of Statistical Software, <doi:10.18637/jss.v001.i04>;
    (ii) "Web-scale k-means clustering" by D. Sculley (2010), ACM Digital Library, <doi:10.1145/1772690.1772862>;
    (iii) "Armadillo: a template-based C++ library for linear algebra" by Sanderson
    et al (2016), The Journal of Open Source Software, <doi:10.21105/joss.00026>; (iv)
    "Clustering by Passing Messages Between Data Points" by Brendan J. Frey and Delbert
    Dueck, Science 16 Feb 2007: Vol. 315, Issue 5814, pp. 972-976, <doi:10.1126/science.1136800>.'
  license_family: GPL3
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-3'

# The original CRAN metadata for this package was:

# Package: ClusterR
# Type: Package
# Title: Gaussian Mixture Models, K-Means, Mini-Batch-Kmeans, K-Medoids and Affinity Propagation Clustering
# Version: 1.3.1
# Date: 2023-04-29
# Authors@R: c( person(given = "Lampros", family = "Mouselimis", email = "mouselimislampros@gmail.com", role = c("aut", "cre"), comment = c(ORCID = "https://orcid.org/0000-0002-8024-1546")), person(given = "Conrad", family = "Sanderson", role = "cph", comment = "Author of the C++ Armadillo library"), person(given = "Ryan", family = "Curtin", role = "cph", comment = "Author of the C++ Armadillo library"), person(given = "Siddharth", family = "Agrawal", role = "cph", comment = "Author of the C code of the Mini-Batch-Kmeans algorithm (https://github.com/siddharth-agrawal/Mini-Batch-K-Means)"), person(given = "Brendan", family = "Frey", email = "frey@psi.toronto.edu", role = "cph", comment = "Author of the matlab code of the Affinity propagation algorithm (for commercial use please contact the author of the matlab code)"), person(given = "Delbert", family = "Dueck", role = "cph", comment = "Author of the matlab code of the Affinity propagation algorithm"), person(given = "Vitalie", family = "Spinu", email = "spinuvit@gmail.com", role = "ctb", comment = c(Github = "Github Contributor")) )
# Maintainer: Lampros Mouselimis <mouselimislampros@gmail.com>
# BugReports: https://github.com/mlampros/ClusterR/issues
# URL: https://github.com/mlampros/ClusterR
# Description: Gaussian mixture models, k-means, mini-batch-kmeans, k-medoids and affinity propagation clustering with the option to plot, validate, predict (new data) and estimate the optimal number of clusters. The package takes advantage of 'RcppArmadillo' to speed up the computationally intensive parts of the functions. For more information, see (i) "Clustering in an Object-Oriented Environment" by Anja Struyf, Mia Hubert, Peter Rousseeuw (1997), Journal of Statistical Software, <doi:10.18637/jss.v001.i04>; (ii) "Web-scale k-means clustering" by D. Sculley (2010), ACM Digital Library, <doi:10.1145/1772690.1772862>; (iii) "Armadillo: a template-based C++ library for linear algebra" by Sanderson et al (2016), The Journal of Open Source Software, <doi:10.21105/joss.00026>; (iv) "Clustering by Passing Messages Between Data Points" by Brendan J. Frey and Delbert Dueck, Science 16 Feb 2007: Vol. 315, Issue 5814, pp. 972-976, <doi:10.1126/science.1136800>.
# License: GPL-3
# Encoding: UTF-8
# SystemRequirements: libarmadillo: apt-get install -y libarmadillo-dev (deb), libblas: apt-get install -y libblas-dev (deb), liblapack: apt-get install -y liblapack-dev (deb), libarpack++2: apt-get install -y libarpack++2-dev (deb), gfortran: apt-get install -y gfortran (deb), libgmp3: apt-get install -y libgmp3-dev (deb), libfftw3: apt-get install -y libfftw3-dev (deb), libtiff5: apt-get install -y libtiff5-dev (deb)
# LazyData: TRUE
# Depends: R(>= 3.2)
# Imports: Rcpp (>= 0.12.5), graphics, grDevices, utils, stats, gmp, ggplot2, lifecycle
# LinkingTo: Rcpp, RcppArmadillo (>= 0.9.1)
# Suggests: OpenImageR, FD, testthat, covr, knitr, rmarkdown
# VignetteBuilder: knitr
# RoxygenNote: 7.2.3
# NeedsCompilation: yes
# Packaged: 2023-04-29 18:12:49 UTC; lampros
# Author: Lampros Mouselimis [aut, cre] (<https://orcid.org/0000-0002-8024-1546>), Conrad Sanderson [cph] (Author of the C++ Armadillo library), Ryan Curtin [cph] (Author of the C++ Armadillo library), Siddharth Agrawal [cph] (Author of the C code of the Mini-Batch-Kmeans algorithm (https://github.com/siddharth-agrawal/Mini-Batch-K-Means)), Brendan Frey [cph] (Author of the matlab code of the Affinity propagation algorithm (for commercial use please contact the author of the matlab code)), Delbert Dueck [cph] (Author of the matlab code of the Affinity propagation algorithm), Vitalie Spinu [ctb] (Github Contributor)
# Repository: CRAN
# Date/Publication: 2023-04-29 19:00:06 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
