{% set version = '0.14.2' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-weightit
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/WeightIt_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/WeightIt/WeightIt_{{ version }}.tar.gz
  sha256: 4beff52995fea0310f87424f9edd587971f434fcb152d065767ee586b9aff28d

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip
  noarch: generic

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

# Suggests: CBPS (>= 0.18), optweight (>= 0.2.4), SuperLearner (>= 2.0-25), mlogit (>= 1.1.0), mclogit, MNP (>= 3.1-4), brglm2 (>= 0.5.2), osqp (>= 0.6.0.5), survey, survival, boot, splines, marginaleffects (>= 0.11.1), sandwich, MASS, gbm (>= 2.1.3), dbarts (>= 0.9-20), misaem (>= 1.0.1), knitr, rmarkdown
requirements:
  build:
    - {{ posix }}zip               # [win]

  host:
    - r-base
    - r-backports >=1.4.1
    - r-chk >=0.8.1
    - r-cobalt >=4.5.1
    - r-crayon
    - r-ggplot2 >=3.3.0
    - r-rlang >=1.1.0

  run:
    - r-base
    - r-backports >=1.4.1
    - r-chk >=0.8.1
    - r-cobalt >=4.5.1
    - r-crayon
    - r-ggplot2 >=3.3.0
    - r-rlang >=1.1.0

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('WeightIt')"           # [not win]
    - "\"%R%\" -e \"library('WeightIt')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: https://ngreifer.github.io/WeightIt/, https://github.com/ngreifer/WeightIt
  license: GPL-2
  summary: Generates balancing weights for causal effect estimation in observational studies
    with binary, multi-category, or continuous point or longitudinal treatments by easing
    and extending the functionality of several R packages and providing in-house estimation
    methods. Available methods include propensity score weighting using generalized
    linear models, gradient boosting machines, the covariate balancing propensity score
    algorithm, Bayesian additive regression trees, and SuperLearner, and directly estimating
    balancing weights using entropy balancing, energy balancing, and optimization-based
    weights. Also allows for assessment of weights and checking of covariate balance
    by interfacing directly with the 'cobalt' package. See the vignette "Installing
    Supporting Packages" for instructions on how to install any package 'WeightIt' uses,
    including those that may not be on CRAN.
  license_family: GPL2
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-2'

# The original CRAN metadata for this package was:

# Package: WeightIt
# Type: Package
# Title: Weighting for Covariate Balance in Observational Studies
# Version: 0.14.2
# Authors@R: c( person("Noah", "Greifer", role=c("aut", "cre"), email = "noah.greifer@gmail.com", comment=c(ORCID="0000-0003-3067-7154")) )
# Description: Generates balancing weights for causal effect estimation in observational studies with binary, multi-category, or continuous point or longitudinal treatments by easing and extending the functionality of several R packages and providing in-house estimation methods. Available methods include propensity score weighting using generalized linear models, gradient boosting machines, the covariate balancing propensity score algorithm, Bayesian additive regression trees, and SuperLearner, and directly estimating balancing weights using entropy balancing, energy balancing, and optimization-based weights. Also allows for assessment of weights and checking of covariate balance by interfacing directly with the 'cobalt' package. See the vignette "Installing Supporting Packages" for instructions on how to install any package 'WeightIt' uses, including those that may not be on CRAN.
# Depends: R (>= 3.3.0)
# Imports: cobalt (>= 4.5.1), ggplot2 (>= 3.3.0), chk (>= 0.8.1), rlang (>= 1.1.0), crayon, backports (>= 1.4.1), stats, utils
# Suggests: CBPS (>= 0.18), optweight (>= 0.2.4), SuperLearner (>= 2.0-25), mlogit (>= 1.1.0), mclogit, MNP (>= 3.1-4), brglm2 (>= 0.5.2), osqp (>= 0.6.0.5), survey, survival, boot, splines, marginaleffects (>= 0.11.1), sandwich, MASS, gbm (>= 2.1.3), dbarts (>= 0.9-20), misaem (>= 1.0.1), knitr, rmarkdown
# License: GPL (>= 2)
# Encoding: UTF-8
# URL: https://ngreifer.github.io/WeightIt/, https://github.com/ngreifer/WeightIt
# BugReports: https://github.com/ngreifer/WeightIt/issues
# VignetteBuilder: knitr
# LazyData: true
# NeedsCompilation: no
# Packaged: 2023-05-22 20:26:15 UTC; NoahGreifer
# Author: Noah Greifer [aut, cre] (<https://orcid.org/0000-0003-3067-7154>)
# Maintainer: Noah Greifer <noah.greifer@gmail.com>
# Repository: CRAN
# Date/Publication: 2023-05-23 07:20:02 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
