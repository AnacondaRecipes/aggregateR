{% set version = '0.8.3' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-maditr
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/maditr_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/maditr/maditr_{{ version }}.tar.gz
  sha256: 87a1a6d7f996db7dd076593d12c20bdb31db955a05e77465b6e58bb400111e81

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip
  noarch: generic

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

# Suggests: knitr, tinytest, utils, rmarkdown, stats
requirements:
  build:
    - {{ posix }}zip               # [win]

  host:
    - r-base
    - r-data.table >=1.12.6
    - r-magrittr >=1.5

  run:
    - r-base
    - r-data.table >=1.12.6
    - r-magrittr >=1.5

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('maditr')"           # [not win]
    - "\"%R%\" -e \"library('maditr')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: https://github.com/gdemin/maditr
  license: GPL-2
  summary: Provides pipe-style interface for 'data.table'. Package preserves all 'data.table'
    features without significant impact on performance. 'let' and 'take' functions are
    simplified interfaces for most common data manipulation tasks. For example, you
    can write 'take(mtcars, mean(mpg), by = am)' for aggregation or 'let(mtcars, hp_wt
    = hp/wt, hp_wt_mpg = hp_wt/mpg)' for modification. Use 'take_if/let_if' for conditional
    aggregation/modification. Additionally there are some conveniences such as automatic
    'data.frame' conversion to 'data.table'.
  license_family: GPL2
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-2'

extra:
  recipe-maintainers:
    - katietz

# The original CRAN metadata for this package was:

# Package: maditr
# Type: Package
# Title: Fast Data Aggregation, Modification, and Filtering with Pipes and 'data.table'
# Version: 0.8.3
# Maintainer: Gregory Demin <gdemin@gmail.com>
# Authors@R: person("Gregory", "Demin", email = "gdemin@gmail.com", role = c("aut", "cre"))
# Depends: R (>= 3.3.0)
# Imports: data.table (>= 1.12.6), magrittr (>= 1.5)
# Suggests: knitr, tinytest, utils, rmarkdown, stats
# Description: Provides pipe-style interface for 'data.table'. Package preserves all 'data.table' features without significant impact on performance. 'let' and 'take' functions are simplified interfaces for most common data manipulation tasks. For example, you can write 'take(mtcars, mean(mpg), by = am)' for aggregation or 'let(mtcars, hp_wt = hp/wt, hp_wt_mpg = hp_wt/mpg)' for modification. Use 'take_if/let_if' for conditional aggregation/modification. Additionally there are some conveniences such as automatic 'data.frame' conversion to 'data.table'.
# License: GPL-2
# URL: https://github.com/gdemin/maditr
# BugReports: https://github.com/gdemin/maditr/issues
# VignetteBuilder: knitr
# Encoding: UTF-8
# RoxygenNote: 7.1.2
# NeedsCompilation: no
# Packaged: 2022-04-02 14:37:41 UTC; gregory
# Author: Gregory Demin [aut, cre]
# Repository: CRAN
# Date/Publication: 2022-04-02 15:10:02 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
