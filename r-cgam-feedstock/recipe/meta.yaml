{% set version = '1.21' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-cgam
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/cgam_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/cgam/cgam_{{ version }}.tar.gz
  sha256: 0281d802899bdd817de6c4b88de28ac8012959a7d7da0f4988793f97aae25137

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip
  noarch: generic

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

# Suggests: stats, MASS, graphics, grDevices, utils, SemiPar
requirements:
  build:
    - {{ posix }}zip               # [win]

  host:
    - r-base
    - r-matrix >=1.2_8
    - r-coneproj >=1.12
    - r-lme4 >=1.1_13
    - r-statmod >=1.4.36
    - r-svdialogs >=0.9_57

  run:
    - r-base
    - r-matrix >=1.2_8
    - r-coneproj >=1.12
    - r-lme4 >=1.1_13
    - r-statmod >=1.4.36
    - r-svdialogs >=0.9_57

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('cgam')"           # [not win]
    - "\"%R%\" -e \"library('cgam')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: https://CRAN.R-project.org/package=cgam
  license: GPL-2
  summary: A constrained generalized additive model is fitted by the cgam routine. Given a set
    of predictors, each of which may have a shape or order restrictions, the maximum
    likelihood estimator for the constrained generalized additive model is found using
    an iteratively re-weighted cone projection algorithm. The ShapeSelect routine chooses
    a subset of predictor variables and describes the component relationships with the
    response. For each predictor, the user needs only specify a set of possible shape
    or order restrictions. A model selection method chooses the shapes and orderings
    of the relationships as well as the variables. The cone information criterion (CIC)
    is used to select the best combination of variables and shapes. A genetic algorithm
    may be used when the set of possible models is large. In addition, the cgam routine
    implements a two-dimensional isotonic regression using warped-plane splines without
    additivity assumptions.  It can also fit a convex or concave regression surface
    with triangle splines without additivity assumptions. See Liao X, Meyer MC (2019)<doi:10.18637/jss.v089.i05>
    for more details.
  license_family: GPL2
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-2'

# The original CRAN metadata for this package was:

# Package: cgam
# Type: Package
# Title: Constrained Generalized Additive Model
# Version: 1.21
# Date: 2023-08-09
# Authors@R: c( person("Mary", "Meyer", email = "meyer@stat.colostate.edu", role = "aut"), person("Xiyue", "Liao", email = "xliao@sdsu.edu", role = c("aut", "cre"), comment = c(ORCID = "0000-0002-4508-9219")))
# Description: A constrained generalized additive model is fitted by the cgam routine. Given a set of predictors, each of which may have a shape or order restrictions, the maximum likelihood estimator for the constrained generalized additive model is found using an iteratively re-weighted cone projection algorithm. The ShapeSelect routine chooses a subset of predictor variables and describes the component relationships with the response. For each predictor, the user needs only specify a set of possible shape or order restrictions. A model selection method chooses the shapes and orderings of the relationships as well as the variables. The cone information criterion (CIC) is used to select the best combination of variables and shapes. A genetic algorithm may be used when the set of possible models is large. In addition, the cgam routine implements a two-dimensional isotonic regression using warped-plane splines without additivity assumptions.  It can also fit a convex or concave regression surface with triangle splines without additivity assumptions. See Liao X, Meyer MC (2019)<doi:10.18637/jss.v089.i05> for more details.
# License: GPL (>= 2)
# Depends: coneproj(>= 1.12), svDialogs (>= 0.9-57), statmod (>= 1.4.36), lme4 (>= 1.1-13), Matrix (>= 1.2-8), R(>= 3.0.2)
# NeedsCompilation: no
# Suggests: stats, MASS, graphics, grDevices, utils, SemiPar
# ByteCompile: true
# Packaged: 2023-08-09 22:58:43 UTC; xliao
# Author: Mary Meyer [aut], Xiyue Liao [aut, cre] (<https://orcid.org/0000-0002-4508-9219>)
# Maintainer: Xiyue Liao <xliao@sdsu.edu>
# Repository: CRAN
# Date/Publication: 2023-08-10 16:30:05 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
