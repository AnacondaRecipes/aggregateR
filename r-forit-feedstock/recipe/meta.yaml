{% set version = '2.4.0' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-forit
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/ForIT_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/ForIT/ForIT_{{ version }}.tar.gz
  sha256: 9b9eb0766f187856cdba18c416bd7a440b933c052d114be5f26cdc56c02a814d

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip
  noarch: generic

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

# Suggests: Matrix, testthat
requirements:
  build:
    - {{ posix }}zip               # [win]

  host:
    - r-base
    - r-rcolorbrewer
    - r-dplyr
    - r-ggplot2
    - r-magrittr
    - r-metr
    - r-purrr
    - r-rlang
    - r-tibble
    - r-tidyr

  run:
    - r-base
    - r-rcolorbrewer
    - r-dplyr
    - r-ggplot2
    - r-magrittr
    - r-metr
    - r-purrr
    - r-rlang
    - r-tibble
    - r-tidyr

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('ForIT')"           # [not win]
    - "\"%R%\" -e \"library('ForIT')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: 'https://gitlab.com/NuoroForestrySchool/ForIT.git, DOI: 10.5281/zenodo.5790157'
  license: GPL-3
  summary: Tabacchi et al. (2011) published a very detailed study producing a uniform system
    of functions to estimate tree volume and phytomass components (stem, branches, stool).
    The estimates of the 2005 Italian forest inventory (<https://www.inventarioforestale.org/it/>)
    are based on these functions. The study documents the domain of applicability of
    each function and the equations to quantify estimates accuracies for individual
    estimates as well as for aggregated estimates. This package makes the functions
    available in the R environment. Version 2 exposes two distinct functions for individual
    and summary estimates. To facilitate access to the functions, tree species identification
    is now based on EPPO species codes (<https://data.eppo.int/>).
  license_family: GPL3
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-3'

extra:
  recipe-maintainers:
    - katietz

# The original CRAN metadata for this package was:

# Package: ForIT
# Title: Functions to Estimate Tree Volume and Phytomass in the Italian Forest Inventory 2005
# Version: 2.4.0
# Authors@R: c( person(given = "Nicola", family = "Puletti", role = c("aut", "cre"), email = "nicola.puletti@gmail.com", comment = c(ORCID = "0000-0002-2142-959X")), person(given = "Mirko", family = "Grotti", role = c("aut"), email = "mirko.grotti@gmail.com"), person(given = "Roberto", family = "Scotti", role = c("aut"), email = "scotti@uniss.it", comment = c(ORCID = "0000-0001-7394-4473")) )
# Description: Tabacchi et al. (2011) published a very detailed study producing a uniform system of functions to estimate tree volume and phytomass components (stem, branches, stool). The estimates of the 2005 Italian forest inventory (<https://www.inventarioforestale.org/it/>) are based on these functions. The study documents the domain of applicability of each function and the equations to quantify estimates accuracies for individual estimates as well as for aggregated estimates. This package makes the functions available in the R environment. Version 2 exposes two distinct functions for individual and summary estimates. To facilitate access to the functions, tree species identification is now based on EPPO species codes (<https://data.eppo.int/>).
# License: GPL (>= 3)
# Encoding: UTF-8
# LazyData: true
# RoxygenNote: 7.2.3
# Imports: magrittr, dplyr, purrr, tibble, tidyr, RColorBrewer, metR, rlang, ggplot2
# Suggests: Matrix, testthat
# URL: https://gitlab.com/NuoroForestrySchool/ForIT.git, DOI: 10.5281/zenodo.5790157
# Depends: R (>= 2.10)
# NeedsCompilation: no
# Packaged: 2023-09-26 18:57:50 UTC; nicolapuletti
# Author: Nicola Puletti [aut, cre] (<https://orcid.org/0000-0002-2142-959X>), Mirko Grotti [aut], Roberto Scotti [aut] (<https://orcid.org/0000-0001-7394-4473>)
# Maintainer: Nicola Puletti <nicola.puletti@gmail.com>
# Repository: CRAN
# Date/Publication: 2023-09-26 19:10:02 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
