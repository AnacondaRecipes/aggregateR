{% set version = '1.2-5' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-pearsonica
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/PearsonICA_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/PearsonICA/PearsonICA_{{ version }}.tar.gz
  sha256: 3b5fc91474d33d0325c94ce60504f3ef5a7ef6e3af2a2c5580facdcf4348b113

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip
  noarch: generic

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

requirements:
  build:
    - {{ posix }}zip               # [win]

  host:
    - r-base

  run:
    - r-base

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('PearsonICA')"           # [not win]
    - "\"%R%\" -e \"library('PearsonICA')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: https://CRAN.R-project.org/package=PearsonICA
  license: AGPL-3
  summary: The Pearson-ICA algorithm is a mutual information-based method for blind separation
    of statistically independent source signals. It has been shown that the minimization
    of mutual information leads to iterative use of score functions, i.e. derivatives
    of log densities. The Pearson system allows adaptive modeling of score functions.
    The flexibility of the Pearson system makes it possible to model a wide range of
    source distributions including asymmetric distributions. The algorithm is designed
    especially for problems with asymmetric sources but it works for symmetric sources
    as well.
  license_family: AGPL
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/AGPL-3'

extra:
  recipe-maintainers:
    - katietz

# The original CRAN metadata for this package was:

# Package: PearsonICA
# Type: Package
# Title: Independent Component Analysis using Score Functions from the Pearson System
# Version: 1.2-5
# Date: 2022-02-19
# Author: Juha Karvanen
# Maintainer: Juha Karvanen <juha.karvanen@iki.fi>
# Description: The Pearson-ICA algorithm is a mutual information-based method for blind separation of statistically independent source signals. It has been shown that the minimization of mutual information leads to iterative use of score functions, i.e. derivatives of log densities. The Pearson system allows adaptive modeling of score functions. The flexibility of the Pearson system makes it possible to model a wide range of source distributions including asymmetric distributions. The algorithm is designed especially for problems with asymmetric sources but it works for symmetric sources as well.
# License: AGPL-3
# Imports: grDevices, graphics, stats
# NeedsCompilation: no
# Packaged: 2022-02-19 17:39:02 UTC; juhak
# Repository: CRAN
# Date/Publication: 2022-02-21 09:00:28 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
