{% set version = '0.2.1' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-bonsai
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/bonsai_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/bonsai/bonsai_{{ version }}.tar.gz
  sha256: e2d62d9edd433f985e223a204488ffda0ef3a4b660d0ae2df81f44fded731611

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip
  noarch: generic

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

# Suggests: covr, knitr, lightgbm, modeldata, partykit, rmarkdown, rsample, testthat (>= 3.0.0), tune
requirements:
  build:
    - {{ posix }}zip               # [win]

  host:
    - r-base
    - r-cli
    - r-dials
    - r-dplyr
    - r-glue
    - r-parsnip >=1.0.1
    - r-purrr
    - r-rlang
    - r-tibble

  run:
    - r-base
    - r-cli
    - r-dials
    - r-dplyr
    - r-glue
    - r-parsnip >=1.0.1
    - r-purrr
    - r-rlang
    - r-tibble

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('bonsai')"           # [not win]
    - "\"%R%\" -e \"library('bonsai')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: https://bonsai.tidymodels.org/, https://github.com/tidymodels/bonsai
  license: MIT
  summary: Bindings for additional tree-based model engines for use with the 'parsnip' package.
    Models include gradient boosted decision trees with 'LightGBM' (Ke et al, 2017.)
    and conditional inference trees and conditional random forests with 'partykit' (Hothorn
    and Zeileis, 2015. and Hothorn et al, 2006. <doi:10.1198/106186006X133933>).
  license_family: MIT
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/MIT'
    - LICENSE

# The original CRAN metadata for this package was:

# Package: bonsai
# Title: Model Wrappers for Tree-Based Models
# Version: 0.2.1
# Authors@R: c( person("Daniel", "Falbel", , "dfalbel@curso-r.com", role = "aut"), person("Athos", "Damiani", , "adamiani@curso-r.com", role = "aut"), person("Roel M.", "Hogervorst", , "hogervorst.rm@gmail.com", role = "aut", comment = c(ORCID = "0000-0001-7509-0328")), person("Max", "Kuhn", , "max@rstudio.com", role = "aut", comment = c(ORCID = "0000-0003-2402-136X")), person("Simon", "Couch", , "simonpatrickcouch@gmail.com", role = c("aut", "cre"), comment = c(ORCID = "0000-0001-5676-5107")), person("RStudio", role = c("cph", "fnd")) )
# Description: Bindings for additional tree-based model engines for use with the 'parsnip' package. Models include gradient boosted decision trees with 'LightGBM' (Ke et al, 2017.) and conditional inference trees and conditional random forests with 'partykit' (Hothorn and Zeileis, 2015. and Hothorn et al, 2006. <doi:10.1198/106186006X133933>).
# License: MIT + file LICENSE
# URL: https://bonsai.tidymodels.org/, https://github.com/tidymodels/bonsai
# BugReports: https://github.com/tidymodels/bonsai/issues
# Depends: parsnip (>= 1.0.1)
# Imports: cli, dials, dplyr, glue, purrr, rlang, stats, tibble, utils
# Suggests: covr, knitr, lightgbm, modeldata, partykit, rmarkdown, rsample, testthat (>= 3.0.0), tune
# VignetteBuilder: knitr
# Config/Needs/website: tidyverse/tidytemplate
# Config/testthat/edition: 3
# Encoding: UTF-8
# RoxygenNote: 7.2.1
# NeedsCompilation: no
# Packaged: 2022-11-29 18:45:12 UTC; simoncouch
# Author: Daniel Falbel [aut], Athos Damiani [aut], Roel M. Hogervorst [aut] (<https://orcid.org/0000-0001-7509-0328>), Max Kuhn [aut] (<https://orcid.org/0000-0003-2402-136X>), Simon Couch [aut, cre] (<https://orcid.org/0000-0001-5676-5107>), RStudio [cph, fnd]
# Maintainer: Simon Couch <simonpatrickcouch@gmail.com>
# Repository: CRAN
# Date/Publication: 2022-11-29 19:10:01 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
