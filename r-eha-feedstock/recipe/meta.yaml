{% set version = '2.11.1' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-eha
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/eha_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/eha/eha_{{ version }}.tar.gz
  sha256: 746c7c9a8b254a92508b136d2325577fe6245cd879e59ead7104ea3271181aba

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

# Suggests: knitr, rmarkdown, bookdown
requirements:
  build:
    - {{ compiler('c') }}              # [not win]
    - {{ compiler('m2w64_c') }}        # [win]
    - {{ compiler('fortran') }}        # [not win]
    - {{ compiler('m2w64_fortran') }}  # [win]
    - {{ posix }}filesystem        # [win]
    - {{ posix }}make
    - {{ posix }}sed               # [win]
    - {{ posix }}coreutils         # [win]
    - {{ posix }}zip               # [win]

  host:
    - r-base
    - r-survival >=3.0

  run:
    - r-base
    - {{native}}gcc-libs         # [win]
    - r-survival >=3.0

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('eha')"           # [not win]
    - "\"%R%\" -e \"library('eha')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: https://ehar.se/r/eha/
  license: GPL-2
  summary: "Parametric proportional hazards fitting with left truncation and right censoring
    for common families of distributions, piecewise constant hazards, and discrete models.
    Parametric accelerated failure time models for left truncated and right censored
    data. Proportional hazards models for tabular and register data. Sampling of risk
    sets in Cox regression, selections in the Lexis diagram, bootstrapping. Brostr\xF6m
    (2022) <doi:10.1201/9780429503764>."
  license_family: GPL2
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-2'

extra:
  recipe-maintainers:
    - katietz

# The original CRAN metadata for this package was:

# Encoding: UTF-8
# Package: eha
# Version: 2.11.1
# Date: 2023-09-29
# Title: Event History Analysis
# Description: Parametric proportional hazards fitting with left truncation and right censoring for common families of distributions, piecewise constant hazards, and discrete models. Parametric accelerated failure time models for left truncated and right censored data. Proportional hazards models for tabular and register data. Sampling of risk sets in Cox regression, selections in the Lexis diagram, bootstrapping. Brostrom (2022) <doi:10.1201/9780429503764>.
# BugReports: https://github.com/goranbrostrom/eha/issues
# License: GPL (>= 2)
# LazyData: yes
# ByteCompile: yes
# URL: https://ehar.se/r/eha/
# Authors@R: c(person("Goran", "Brostrom", role = c("aut", "cre"), email = "goran.brostrom@umu.se"), person("Jianming", "Jin", role = "ctb"))
# Depends: R (>= 3.5.0)
# Imports: stats, graphics, survival (>= 3.0)
# NeedsCompilation: yes
# Maintainer: Goran Brostrom <goran.brostrom@umu.se>
# RoxygenNote: 7.2.3
# Suggests: knitr, rmarkdown, bookdown
# VignetteBuilder: knitr, utils
# Packaged: 2023-09-29 03:05:46 UTC; gobr0002
# Author: Goran Brostrom [aut, cre], Jianming Jin [ctb]
# Repository: CRAN
# Date/Publication: 2023-09-30 23:00:05 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
