{% set version = '1.2.8' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-modeltime
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/modeltime_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/modeltime/modeltime_{{ version }}.tar.gz
  sha256: 4f91ff30e2594fb5663909850ec21d7eea60a17ade8846b3d3559c9439f975f3

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip
  noarch: generic

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

# Suggests: rstan, slider, sparklyr, workflowsets, recipes, rsample, tune (>= 0.2.0), lubridate, progress, testthat, roxygen2, kernlab, glmnet, thief, smooth, greybox, earth, randomForest, trelliscopejs, knitr, rmarkdown (>= 2.9), webshot, qpdf, covr, TSrepr
requirements:
  build:
    - {{ posix }}zip               # [win]

  host:
    - r-base
    - r-stanheaders
    - r-cli
    - r-dials
    - r-doparallel
    - r-dplyr
    - r-forcats
    - r-foreach
    - r-forecast
    - r-ggplot2
    - r-glue
    - r-gt
    - r-hardhat >=1.0.0
    - r-janitor
    - r-magrittr
    - r-parallelly
    - r-parsnip >=0.2.1
    - r-plotly
    - r-prophet
    - r-purrr
    - r-reactable
    - r-rlang >=0.1.2
    - r-scales
    - r-stringr
    - r-tibble
    - r-tidymodels
    - r-tidyr
    - r-tidyverse
    - r-timetk >=2.8.1
    - r-workflows >=1.0.0
    - r-xgboost >=1.2.0.1
    - r-yardstick >=0.0.8

  run:
    - r-base
    - r-stanheaders
    - r-cli
    - r-dials
    - r-doparallel
    - r-dplyr
    - r-forcats
    - r-foreach
    - r-forecast
    - r-ggplot2
    - r-glue
    - r-gt
    - r-hardhat >=1.0.0
    - r-janitor
    - r-magrittr
    - r-parallelly
    - r-parsnip >=0.2.1
    - r-plotly
    - r-prophet
    - r-purrr
    - r-reactable
    - r-rlang >=0.1.2
    - r-scales
    - r-stringr
    - r-tibble
    - r-tidymodels
    - r-tidyr
    - r-tidyverse
    - r-timetk >=2.8.1
    - r-workflows >=1.0.0
    - r-xgboost >=1.2.0.1
    - r-yardstick >=0.0.8

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('modeltime')"           # [not win]
    - "\"%R%\" -e \"library('modeltime')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: https://github.com/business-science/modeltime, https://business-science.github.io/modeltime/
  license: MIT
  summary: 'The time series forecasting framework for use with the ''tidymodels'' ecosystem.
    Models include ARIMA, Exponential Smoothing, and additional time series models from
    the ''forecast'' and ''prophet'' packages. Refer to "Forecasting Principles & Practice,
    Second edition" (<https://otexts.com/fpp2/>). Refer to "Prophet: forecasting at
    scale" (<https://research.facebook.com/blog/2017/02/prophet-forecasting-at-scale/>.).'
  license_family: MIT
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/MIT'
    - LICENSE

# The original CRAN metadata for this package was:

# Package: modeltime
# Title: The Tidymodels Extension for Time Series Modeling
# Version: 1.2.8
# Authors@R: c( person("Matt", "Dancho", email = "mdancho@business-science.io", role = c("aut", "cre")), person("Business Science", role = "cph"))
# Description: The time series forecasting framework for use with the 'tidymodels' ecosystem. Models include ARIMA, Exponential Smoothing, and additional time series models from the 'forecast' and 'prophet' packages. Refer to "Forecasting Principles & Practice, Second edition" (<https://otexts.com/fpp2/>). Refer to "Prophet: forecasting at scale" (<https://research.facebook.com/blog/2017/02/prophet-forecasting-at-scale/>.).
# URL: https://github.com/business-science/modeltime, https://business-science.github.io/modeltime/
# BugReports: https://github.com/business-science/modeltime/issues
# License: MIT + file LICENSE
# Encoding: UTF-8
# LazyData: true
# Depends: R (>= 3.5.0)
# Imports: StanHeaders, timetk (>= 2.8.1), parsnip (>= 0.2.1), dials, yardstick (>= 0.0.8), workflows (>= 1.0.0), hardhat (>= 1.0.0), rlang (>= 0.1.2), glue, plotly, reactable, gt, ggplot2, tibble, tidyr, dplyr, purrr, stringr, forcats, scales, janitor, parallel, parallelly, doParallel, foreach, magrittr, forecast, xgboost (>= 1.2.0.1), prophet, methods, cli, tidyverse, tidymodels
# Suggests: rstan, slider, sparklyr, workflowsets, recipes, rsample, tune (>= 0.2.0), lubridate, progress, testthat, roxygen2, kernlab, glmnet, thief, smooth, greybox, earth, randomForest, trelliscopejs, knitr, rmarkdown (>= 2.9), webshot, qpdf, covr, TSrepr
# VignetteBuilder: knitr
# RoxygenNote: 7.2.3
# NeedsCompilation: no
# Packaged: 2023-09-02 14:32:11 UTC; mdanc
# Author: Matt Dancho [aut, cre], Business Science [cph]
# Maintainer: Matt Dancho <mdancho@business-science.io>
# Repository: CRAN
# Date/Publication: 2023-09-02 15:10:02 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
