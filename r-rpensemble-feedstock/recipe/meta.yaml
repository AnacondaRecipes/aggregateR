{% set version = '0.5' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-rpensemble
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/RPEnsemble_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/RPEnsemble/RPEnsemble_{{ version }}.tar.gz
  sha256: 7d4139fc9ab1c0a7e9bfff92402bd0d8a9c10c24d4943424413f75e4909a6d04

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip
  noarch: generic

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

requirements:
  build:
    - {{ posix }}zip               # [win]

  host:
    - r-base
    - r-mass
    - r-class

  run:
    - r-base
    - r-mass
    - r-class

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('RPEnsemble')"           # [not win]
    - "\"%R%\" -e \"library('RPEnsemble')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: https://arxiv.org/abs/1504.04595, https://www.maths.ed.ac.uk/~tcannings/
  license: GPL-3
  summary: Implements the methodology of "Cannings, T. I. and Samworth, R. J. (2017) Random-projection
    ensemble classification, J. Roy. Statist. Soc., Ser. B. (with discussion), 79, 959--1035".
    The random projection ensemble classifier is a general method for classification
    of high-dimensional data, based on careful combination of the results of applying
    an arbitrary base classifier to random projections of the feature vectors into a
    lower-dimensional space. The random projections are divided into non-overlapping
    blocks, and within each block the projection yielding the smallest estimate of the
    test error is selected. The random projection ensemble classifier then aggregates
    the results of applying the base classifier on the selected projections, with a
    data-driven voting threshold to determine the final assignment.
  license_family: GPL3
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-3'

extra:
  recipe-maintainers:
    - katietz

# The original CRAN metadata for this package was:

# Package: RPEnsemble
# Version: 0.5
# Date: 2021-02-23
# Title: Random Projection Ensemble Classification
# Author: Timothy I. Cannings and Richard J. Samworth
# Maintainer: Timothy I. Cannings <timothy.cannings@ed.ac.uk>
# Description: Implements the methodology of "Cannings, T. I. and Samworth, R. J. (2017) Random-projection ensemble classification, J. Roy. Statist. Soc., Ser. B. (with discussion), 79, 959--1035". The random projection ensemble classifier is a general method for classification of high-dimensional data, based on careful combination of the results of applying an arbitrary base classifier to random projections of the feature vectors into a lower-dimensional space. The random projections are divided into non-overlapping blocks, and within each block the projection yielding the smallest estimate of the test error is selected. The random projection ensemble classifier then aggregates the results of applying the base classifier on the selected projections, with a data-driven voting threshold to determine the final assignment.
# Depends: R (>= 3.4.0), MASS, parallel
# Imports: class, stats
# License: GPL-3
# URL: https://arxiv.org/abs/1504.04595, https://www.maths.ed.ac.uk/~tcannings/
# NeedsCompilation: no
# Packaged: 2021-02-24 12:36:23 UTC; tc
# Repository: CRAN
# Date/Publication: 2021-02-24 13:40:08 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
