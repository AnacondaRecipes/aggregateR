{% set version = '4.1-4' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-tam
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/TAM_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/TAM/TAM_{{ version }}.tar.gz
  sha256: 0f0d8fcf2d34cf252730b735a623115c8599bb73320520bfcb9e24491e68012d

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

# Suggests: coda, GPArotation, grDevices, lattice, lavaan, MASS, miceadds, mvtnorm, plyr, psych, sfsmisc, splines, WrightMap
requirements:
  build:
    - {{ compiler('c') }}              # [not win]
    - {{ compiler('m2w64_c') }}        # [win]
    - {{ compiler('cxx') }}            # [not win]
    - {{ compiler('m2w64_cxx') }}      # [win]
    - {{ posix }}filesystem        # [win]
    - {{ posix }}make
    - {{ posix }}sed               # [win]
    - {{ posix }}coreutils         # [win]
    - {{ posix }}zip               # [win]

  host:
    - r-base
    - r-cdm >=6.4_19
    - r-rcpp
    - r-rcpparmadillo

  run:
    - r-base
    - {{native}}gcc-libs         # [win]
    - r-cdm >=6.4_19
    - r-rcpp
    - r-rcpparmadillo

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('TAM')"           # [not win]
    - "\"%R%\" -e \"library('TAM')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: http://www.edmeasurementsurveys.com/TAM/Tutorials/, https://github.com/alexanderrobitzsch/TAM,
    https://sites.google.com/site/alexanderrobitzsch2/software
  license: GPL-2
  summary: Includes marginal maximum likelihood estimation and joint maximum likelihood estimation
    for unidimensional and multidimensional item response models. The package functionality
    covers the Rasch model, 2PL model, 3PL model, generalized partial credit model,
    multi-faceted Rasch model, nominal item response model, structured latent class
    model, mixture distribution IRT models, and located latent class models. Latent
    regression models and plausible value imputation are also supported. For details
    see Adams, Wilson and Wang, 1997 <doi:10.1177/0146621697211001>, Adams, Wilson and
    Wu, 1997 <doi:10.3102/10769986022001047>, Formann, 1982 <doi:10.1002/bimj.4710240209>,
    Formann, 1992 <doi:10.1080/01621459.1992.10475229>.
  license_family: GPL2
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-2'

# The original CRAN metadata for this package was:

# Package: TAM
# Type: Package
# Title: Test Analysis Modules
# Version: 4.1-4
# Date: 2022-08-28 16:03:54
# Author: Alexander Robitzsch [aut,cre] (<https://orcid.org/0000-0002-8226-3132>), Thomas Kiefer [aut], Margaret Wu [aut]
# Maintainer: Alexander Robitzsch <robitzsch@ipn.uni-kiel.de>
# Description: Includes marginal maximum likelihood estimation and joint maximum likelihood estimation for unidimensional and multidimensional item response models. The package functionality covers the Rasch model, 2PL model, 3PL model, generalized partial credit model, multi-faceted Rasch model, nominal item response model, structured latent class model, mixture distribution IRT models, and located latent class models. Latent regression models and plausible value imputation are also supported. For details see Adams, Wilson and Wang, 1997 <doi:10.1177/0146621697211001>, Adams, Wilson and Wu, 1997 <doi:10.3102/10769986022001047>, Formann, 1982 <doi:10.1002/bimj.4710240209>, Formann, 1992 <doi:10.1080/01621459.1992.10475229>.
# Depends: R (>= 2.15.1), CDM (>= 6.4-19)
# Imports: graphics, methods, Rcpp, stats, utils
# Suggests: coda, GPArotation, grDevices, lattice, lavaan, MASS, miceadds, mvtnorm, plyr, psych, sfsmisc, splines, WrightMap
# LinkingTo: Rcpp, RcppArmadillo
# Enhances: LSAmitR
# License: GPL (>= 2)
# URL: http://www.edmeasurementsurveys.com/TAM/Tutorials/, https://github.com/alexanderrobitzsch/TAM, https://sites.google.com/site/alexanderrobitzsch2/software
# NeedsCompilation: yes
# Packaged: 2022-08-28 14:08:31 UTC; sunpn563
# Repository: CRAN
# Date/Publication: 2022-08-28 18:40:02 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
