{% set version = '6.0' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-carbayes
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/CARBayes_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/CARBayes/CARBayes_{{ version }}.tar.gz
  sha256: 1e64d30bb581111b1e6cf23c380a992093eb9889ac2ece82b07603053f3bc99f

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

requirements:
  build:
    - {{ compiler('c') }}              # [not win]
    - {{ compiler('m2w64_c') }}        # [win]
    - {{ compiler('cxx') }}            # [not win]
    - {{ compiler('m2w64_cxx') }}      # [win]
    - {{ posix }}filesystem        # [win]
    - {{ posix }}make
    - {{ posix }}sed               # [win]
    - {{ posix }}coreutils         # [win]
    - {{ posix }}zip               # [win]

  host:
    - r-base
    - r-carbayesdata
    - r-ggally
    - r-mass
    - r-mcmcpack
    - r-rcolorbrewer
    - r-rcpp >=0.11.5
    - r-coda
    - r-dplyr
    - r-mapview
    - r-sf
    - r-spam
    - r-spdep
    - r-truncnorm

  run:
    - r-base
    - {{native}}gcc-libs         # [win]
    - r-carbayesdata
    - r-ggally
    - r-mass
    - r-mcmcpack
    - r-rcolorbrewer
    - r-rcpp >=0.11.5
    - r-coda
    - r-dplyr
    - r-mapview
    - r-sf
    - r-spam
    - r-spdep
    - r-truncnorm

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('CARBayes')"           # [not win]
    - "\"%R%\" -e \"library('CARBayes')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: https://github.com/duncanplee/CARBayes
  license: GPL-2
  summary: Implements a class of univariate and multivariate spatial generalised linear mixed
    models for areal unit data, with inference in a Bayesian setting using Markov chain
    Monte Carlo (MCMC) simulation using a single or multiple Markov chains. The response
    variable can be binomial, Gaussian, multinomial, Poisson or zero-inflated Poisson
    (ZIP), and spatial autocorrelation is modelled by a set of random effects that are
    assigned a conditional autoregressive (CAR) prior distribution. A number of different
    models are available for univariate spatial data, including models with no random
    effects as well as random effects modelled by different types of CAR prior, including
    the BYM model (Besag et al., 1991, <doi:10.1007/BF00116466>) and Leroux model (Leroux
    et al., 2000, <doi:10.1007/978-1-4612-1284-3_4>). Additionally,  a multivariate
    CAR (MCAR) model for multivariate spatial data is available, as is a two-level hierarchical
    model for modelling data relating to individuals within areas. Full details are
    given in the vignette accompanying this package. The initial creation of this package
    was supported by the Economic and Social Research Council (ESRC) grant RES-000-22-4256,
    and on-going development has been supported by the Engineering and Physical Science
    Research Council (EPSRC) grant EP/J017442/1, ESRC grant ES/K006460/1, Innovate UK
    / Natural Environment Research Council (NERC) grant NE/N007352/1 and the TB Alliance.
  license_family: GPL2
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-2'

# The original CRAN metadata for this package was:

# Package: CARBayes
# Type: Package
# Title: Spatial Generalised Linear Mixed Models for Areal Unit Data
# Version: 6.0
# Date: 2023-08-08
# Author: Duncan Lee
# Maintainer: Duncan Lee <Duncan.Lee@glasgow.ac.uk>
# Description: Implements a class of univariate and multivariate spatial generalised linear mixed models for areal unit data, with inference in a Bayesian setting using Markov chain Monte Carlo (MCMC) simulation using a single or multiple Markov chains. The response variable can be binomial, Gaussian, multinomial, Poisson or zero-inflated Poisson (ZIP), and spatial autocorrelation is modelled by a set of random effects that are assigned a conditional autoregressive (CAR) prior distribution. A number of different models are available for univariate spatial data, including models with no random effects as well as random effects modelled by different types of CAR prior, including the BYM model (Besag et al., 1991, <doi:10.1007/BF00116466>) and Leroux model (Leroux et al., 2000, <doi:10.1007/978-1-4612-1284-3_4>). Additionally,  a multivariate CAR (MCAR) model for multivariate spatial data is available, as is a two-level hierarchical model for modelling data relating to individuals within areas. Full details are given in the vignette accompanying this package. The initial creation of this package was supported by the Economic and Social Research Council (ESRC) grant RES-000-22-4256, and on-going development has been supported by the Engineering and Physical Science Research Council (EPSRC) grant EP/J017442/1, ESRC grant ES/K006460/1, Innovate UK / Natural Environment Research Council (NERC) grant NE/N007352/1 and the TB Alliance.
# License: GPL (>= 2)
# Depends: MASS, R (>= 3.5.0), Rcpp (>= 0.11.5)
# Imports: CARBayesdata, coda, dplyr, GGally, mapview, MCMCpack, parallel, RColorBrewer, sf, spam, spdep, stats, truncnorm, utils
# LinkingTo: Rcpp
# LazyLoad: yes
# ByteCompile: yes
# URL: https://github.com/duncanplee/CARBayes
# BugReports: https://github.com/duncanplee/CARBayes/issues
# NeedsCompilation: yes
# Packaged: 2023-07-26 12:25:09 UTC; duncanlee
# Repository: CRAN
# Date/Publication: 2023-08-09 17:50:13 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
