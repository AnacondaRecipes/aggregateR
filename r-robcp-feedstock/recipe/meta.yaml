{% set version = '0.3.7' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-robcp
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/robcp_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/robcp/robcp_{{ version }}.tar.gz
  sha256: ab0eca428fa3be8a698e8f41c99ceba2f4644db59521451646fadb79305aba6c

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

# Suggests: testthat, MASS, pracma, mvtnorm, cumstats
requirements:
  build:
    - {{ compiler('c') }}              # [not win]
    - {{ compiler('m2w64_c') }}        # [win]
    - {{ compiler('cxx') }}            # [not win]
    - {{ compiler('m2w64_cxx') }}      # [win]
    - {{ posix }}filesystem        # [win]
    - {{ posix }}make
    - {{ posix }}sed               # [win]
    - {{ posix }}coreutils         # [win]
    - {{ posix }}zip               # [win]

  host:
    - r-base
    - r-rcpp

  run:
    - r-base
    - {{native}}gcc-libs         # [win]
    - r-rcpp

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('robcp')"           # [not win]
    - "\"%R%\" -e \"library('robcp')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: https://CRAN.R-project.org/package=robcp
  license: GPL-3
  summary: Provides robust methods to detect change-points in uni- or multivariate time series.
    They can cope with corrupted data and heavy tails. Focus is on the detection of
    abrupt changes in location, but changes scale or dependence structure can be detected
    as well. This package provides tests for change detection in uni- and multivariate
    time series based on Huberized versions of CUSUM tests proposed in Duerre and Fried
    (2019) <arXiv:1905.06201>, and tests for change detection in univariate time series
    based on 2-sample U-statistics or 2-sample U-quantiles as proposed by Dehling et
    al. (2015) <DOI:10.1007/978-1-4939-3076-0_12> and Dehling, Fried and Wendler (2020)
    <DOI:10.1093/biomet/asaa004>. Furthermore, the packages provides tests on changes
    in the scale or the correlation as proposed in Gerstenberger, Vogel and Wendler
    (2020) <DOI:10.1080/01621459.2019.1629938>, Dehling et al. (2017) <DOI:10.1017/S026646661600044X>,
    and Wied et al. (2014) <DOI:10.1016/j.csda.2013.03.005>.
  license_family: GPL3
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-3'

extra:
  recipe-maintainers:
    - katietz

# The original CRAN metadata for this package was:

# Package: robcp
# Title: Robust Change-Point Tests
# Version: 0.3.7
# Authors@R: c(person("Sheila", "Goerz", email = "sheila.goerz@tu-dortmund.de", role = c("aut", "cre")), person("Alexander", "Duerre", email = "alexander.duerre@udo.edu", role = "aut"))
# Description: Provides robust methods to detect change-points in uni- or multivariate time series. They can cope with corrupted data and heavy tails. Focus is on the detection of abrupt changes in location, but changes scale or dependence structure can be detected as well. This package provides tests for change detection in uni- and multivariate time series based on Huberized versions of CUSUM tests proposed in Duerre and Fried (2019) <arXiv:1905.06201>, and tests for change detection in univariate time series based on 2-sample U-statistics or 2-sample U-quantiles as proposed by Dehling et al. (2015) <DOI:10.1007/978-1-4939-3076-0_12> and Dehling, Fried and Wendler (2020) <DOI:10.1093/biomet/asaa004>. Furthermore, the packages provides tests on changes in the scale or the correlation as proposed in Gerstenberger, Vogel and Wendler (2020) <DOI:10.1080/01621459.2019.1629938>, Dehling et al. (2017) <DOI:10.1017/S026646661600044X>, and Wied et al. (2014) <DOI:10.1016/j.csda.2013.03.005>.
# Depends: R (>= 3.3.1)
# License: GPL-3
# Encoding: UTF-8
# LazyData: true
# NeedsCompilation: yes
# Packaged: 2022-09-16 13:14:15 UTC; goerz
# Author: Sheila Goerz [aut, cre], Alexander Duerre [aut]
# Maintainer: Sheila Goerz <sheila.goerz@tu-dortmund.de>
# Imports: methods, Rcpp
# LinkingTo: Rcpp
# RoxygenNote: 7.1.2
# Suggests: testthat, MASS, pracma, mvtnorm, cumstats
# Repository: CRAN
# Date/Publication: 2022-09-16 13:36:10 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
