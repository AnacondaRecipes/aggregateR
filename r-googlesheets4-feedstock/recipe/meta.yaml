{% set version = '1.1.1' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-googlesheets4
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/googlesheets4_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/googlesheets4/googlesheets4_{{ version }}.tar.gz
  sha256: c5cc63348c54b9de8492e7b12b249245746ea1ff33e306f12431f4fc9386fccf

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip
  noarch: generic

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

# Suggests: readr, rmarkdown, spelling, testthat (>= 3.1.7)
requirements:
  build:
    - {{ posix }}zip               # [win]

  host:
    - r-base
    - r-cellranger
    - r-cli >=3.0.0
    - r-curl
    - r-gargle >=1.5.0
    - r-glue >=1.3.0
    - r-googledrive >=2.1.0
    - r-httr
    - r-ids
    - r-lifecycle
    - r-magrittr
    - r-purrr
    - r-rematch2
    - r-rlang >=1.0.2
    - r-tibble >=2.1.1
    - r-vctrs >=0.2.3
    - r-withr

  run:
    - r-base
    - r-cellranger
    - r-cli >=3.0.0
    - r-curl
    - r-gargle >=1.5.0
    - r-glue >=1.3.0
    - r-googledrive >=2.1.0
    - r-httr
    - r-ids
    - r-lifecycle
    - r-magrittr
    - r-purrr
    - r-rematch2
    - r-rlang >=1.0.2
    - r-tibble >=2.1.1
    - r-vctrs >=0.2.3
    - r-withr

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('googlesheets4')"           # [not win]
    - "\"%R%\" -e \"library('googlesheets4')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: https://googlesheets4.tidyverse.org, https://github.com/tidyverse/googlesheets4
  license: MIT
  summary: Interact with Google Sheets through the Sheets API v4 <https://developers.google.com/sheets/api>.
    "API" is an acronym for "application programming interface"; the Sheets API allows
    users to interact with Google Sheets programmatically, instead of via a web browser.
    The "v4" refers to the fact that the Sheets API is currently at version 4. This
    package can read and write both the metadata and the cell data in a Sheet.
  license_family: MIT
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/MIT'
    - LICENSE

# The original CRAN metadata for this package was:

# Package: googlesheets4
# Title: Access Google Sheets using the Sheets API V4
# Version: 1.1.1
# Authors@R: c( person("Jennifer", "Bryan", , "jenny@posit.co", role = c("cre", "aut"), comment = c(ORCID = "0000-0002-6983-2759")), person("Posit Software, PBC", role = c("cph", "fnd")) )
# Description: Interact with Google Sheets through the Sheets API v4 <https://developers.google.com/sheets/api>. "API" is an acronym for "application programming interface"; the Sheets API allows users to interact with Google Sheets programmatically, instead of via a web browser. The "v4" refers to the fact that the Sheets API is currently at version 4. This package can read and write both the metadata and the cell data in a Sheet.
# License: MIT + file LICENSE
# URL: https://googlesheets4.tidyverse.org, https://github.com/tidyverse/googlesheets4
# BugReports: https://github.com/tidyverse/googlesheets4/issues
# Depends: R (>= 3.6)
# Imports: cellranger, cli (>= 3.0.0), curl, gargle (>= 1.5.0), glue (>= 1.3.0), googledrive (>= 2.1.0), httr, ids, lifecycle, magrittr, methods, purrr, rematch2, rlang (>= 1.0.2), tibble (>= 2.1.1), utils, vctrs (>= 0.2.3), withr
# Suggests: readr, rmarkdown, spelling, testthat (>= 3.1.7)
# ByteCompile: true
# Config/Needs/website: tidyverse, tidyverse/tidytemplate
# Config/testthat/edition: 3
# Encoding: UTF-8
# Language: en-US
# RoxygenNote: 7.2.3
# NeedsCompilation: no
# Packaged: 2023-06-11 01:11:05 UTC; jenny
# Author: Jennifer Bryan [cre, aut] (<https://orcid.org/0000-0002-6983-2759>), Posit Software, PBC [cph, fnd]
# Maintainer: Jennifer Bryan <jenny@posit.co>
# Repository: CRAN
# Date/Publication: 2023-06-11 04:00:02 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
