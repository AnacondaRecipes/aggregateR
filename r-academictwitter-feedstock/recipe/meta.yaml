{% set version = '0.3.1' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-academictwitter
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/academictwitteR_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/academictwitteR/academictwitteR_{{ version }}.tar.gz
  sha256: 1cfefca891c7e56a3c94c5b8c7443af1070ae2c22cf1ed7f896a45f19007b614

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip
  noarch: generic

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

# Suggests: knitr, rmarkdown, devtools, testthat (>= 3.0.0), httptest, lifecycle, covr
requirements:
  build:
    - {{ posix }}zip               # [win]

  host:
    - r-base
    - r-dplyr >=1.0.0
    - r-httr
    - r-jsonlite
    - r-lubridate
    - r-magrittr
    - r-purrr
    - r-rlang
    - r-tibble
    - r-tidyr
    - r-tidyselect
    - r-usethis

  run:
    - r-base
    - r-dplyr >=1.0.0
    - r-httr
    - r-jsonlite
    - r-lubridate
    - r-magrittr
    - r-purrr
    - r-rlang
    - r-tibble
    - r-tidyr
    - r-tidyselect
    - r-usethis

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('academictwitteR')"           # [not win]
    - "\"%R%\" -e \"library('academictwitteR')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: https://github.com/cjbarrie/academictwitteR
  license: MIT
  summary: Package to query the Twitter Academic Research Product Track, providing access to
    full-archive search and other v2 API endpoints. Functions are written with academic
    research in mind. They provide flexibility in how the user wishes to store collected
    data, and encourage regular storage of data to mitigate loss when collecting large
    volumes of tweets. They also provide workarounds to manage and reshape the format
    in which data is provided on the client side.
  license_family: MIT
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/MIT'
    - LICENSE

# The original CRAN metadata for this package was:

# Package: academictwitteR
# Title: Access the Twitter Academic Research Product Track V2 API Endpoint
# Version: 0.3.1
# Authors@R: c(person(given = "Christopher", family = "Barrie", role = c("aut", "cre"), email = "christopher.barrie@ed.ac.uk", comment = c(ORCID = "0000-0002-9156-990X")), person(given = "Justin Chun-ting", family = "Ho", role = c("aut"), email = "justinho@gate.sinica.edu.tw", comment = c(ORCID = "0000-0002-7884-1059")), person(given = "Chung-hong", family = "Chan", role = c("ctb"), email = "chainsawtiney@gmail.com", comment = c(ORCID = "0000-0002-6232-7530")), person(given = "Noelia", family = "Rico", role = c("ctb"), email = "noeliarico@uniovi.es", comment = c(ORCID = "0000-0002-6169-4523")), person(given = "Tim", family = "Konig", role = c("ctb"), comment = c(ORCID = "0000-0002-2852-2690")), person(given = "Thomas", family = "Davidson", role = c("ctb"), email = "thomas.davidson@rutgers.edu", comment = c(ORCID = "0000-0002-5947-7490")))
# Description: Package to query the Twitter Academic Research Product Track, providing access to full-archive search and other v2 API endpoints. Functions are written with academic research in mind. They provide flexibility in how the user wishes to store collected data, and encourage regular storage of data to mitigate loss when collecting large volumes of tweets. They also provide workarounds to manage and reshape the format in which data is provided on the client side.
# License: MIT + file LICENSE
# URL: https://github.com/cjbarrie/academictwitteR
# BugReports: https://github.com/cjbarrie/academictwitteR/issues
# Encoding: UTF-8
# RoxygenNote: 7.1.2
# Depends: R (>= 3.4)
# Imports: dplyr (>= 1.0.0), httr, jsonlite, magrittr, lubridate, usethis, tibble, tidyr, tidyselect, purrr, rlang, utils
# Suggests: knitr, rmarkdown, devtools, testthat (>= 3.0.0), httptest, lifecycle, covr
# VignetteBuilder: knitr
# Config/testthat/edition: 3
# NeedsCompilation: no
# Packaged: 2022-02-16 14:29:41 UTC; cbarrie6
# Author: Christopher Barrie [aut, cre] (<https://orcid.org/0000-0002-9156-990X>), Justin Chun-ting Ho [aut] (<https://orcid.org/0000-0002-7884-1059>), Chung-hong Chan [ctb] (<https://orcid.org/0000-0002-6232-7530>), Noelia Rico [ctb] (<https://orcid.org/0000-0002-6169-4523>), Tim Konig [ctb] (<https://orcid.org/0000-0002-2852-2690>), Thomas Davidson [ctb] (<https://orcid.org/0000-0002-5947-7490>)
# Maintainer: Christopher Barrie <christopher.barrie@ed.ac.uk>
# Repository: CRAN
# Date/Publication: 2022-02-16 15:20:09 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
