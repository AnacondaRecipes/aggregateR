{% set version = '2.0.3' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-hmdhfdplus
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/HMDHFDplus_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/HMDHFDplus/HMDHFDplus_{{ version }}.tar.gz
  sha256: 6784022c38b478b501707d3a27b6b7a11d152433e99760c33622ade627c0e9b3

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip
  noarch: generic

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

# Suggests: RCurl
requirements:
  build:
    - {{ posix }}zip               # [win]

  host:
    - r-base
    - r-dplyr
    - r-httr
    - r-janitor
    - r-lubridate
    - r-readr
    - r-rlang
    - r-rvest
    - r-stringr
    - r-tidyr

  run:
    - r-base
    - r-dplyr
    - r-httr
    - r-janitor
    - r-lubridate
    - r-readr
    - r-rlang
    - r-rvest
    - r-stringr
    - r-tidyr

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('HMDHFDplus')"           # [not win]
    - "\"%R%\" -e \"library('HMDHFDplus')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: https://github.com/timriffe/TR1
  license: GPL-2
  summary: Utilities for reading data from the Human Mortality Database (<https://www.mortality.org>),
    Human Fertility Database (<https://www.humanfertility.org>), and similar databases
    from the web or locally into an R session as data.frame objects. These are the two
    most widely used sources of demographic data to study basic demographic change,
    trends, and develop new demographic methods. Other supported databases at this time
    include the Human Fertility Collection (<https://www.fertilitydata.org>), The Japanese
    Mortality Database (<https://www.ipss.go.jp/p-toukei/JMD/index-en.html>), and the
    Canadian Human Mortality Database (<http://www.bdlc.umontreal.ca/chmd/>). Arguments
    and data are standardized.
  license_family: GPL2
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-2'

extra:
  recipe-maintainers:
    - katietz

# The original CRAN metadata for this package was:

# Package: HMDHFDplus
# Type: Package
# Title: Read Human Mortality Database and Human Fertility Database Data from the Web
# Version: 2.0.3
# Date: 2023-06-20
# Authors@R: c( person("Tim", "Riffe", role = c("aut", "cre"), email = "tim.riffe@gmail.com"), person("Carl", "Boe", role = "aut"), person("Jason", "Hilton", role = "aut"), person("Josh", "Goldstein", role = "ctb"), person("Stephen", "Holzman", role = "ctb"))
# Description: Utilities for reading data from the Human Mortality Database (<https://www.mortality.org>), Human Fertility Database (<https://www.humanfertility.org>), and similar databases from the web or locally into an R session as data.frame objects. These are the two most widely used sources of demographic data to study basic demographic change, trends, and develop new demographic methods. Other supported databases at this time include the Human Fertility Collection (<https://www.fertilitydata.org>), The Japanese Mortality Database (<https://www.ipss.go.jp/p-toukei/JMD/index-en.html>), and the Canadian Human Mortality Database (<http://www.bdlc.umontreal.ca/chmd/>). Arguments and data are standardized.
# URL: https://github.com/timriffe/TR1
# BugReports: https://github.com/timriffe/TR1/issues
# License: GPL-2
# LazyLoad: yes
# Encoding: UTF-8
# Depends: R (>= 4.1),
# Collate: 'age2int.R' 'HFDutils.R' 'HMDutils.R' 'readHFD.R' 'readHMD.R' 'userInput.R'
# Imports: httr, rvest, dplyr, janitor, lubridate, readr, stringr, tidyr, rlang
# Suggests: RCurl
# RoxygenNote: 7.2.3
# Language: 'en-US'
# NeedsCompilation: no
# Packaged: 2023-06-20 10:25:16 UTC; tim
# Author: Tim Riffe [aut, cre], Carl Boe [aut], Jason Hilton [aut], Josh Goldstein [ctb], Stephen Holzman [ctb]
# Maintainer: Tim Riffe <tim.riffe@gmail.com>
# Repository: CRAN
# Date/Publication: 2023-06-20 10:50:02 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
