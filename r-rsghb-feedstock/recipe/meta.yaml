{% set version = '1.2.2' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-rsghb
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/RSGHB_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/RSGHB/RSGHB_{{ version }}.tar.gz
  sha256: bfe5f1c93f4c959f3780bc9f4025a5d85d0acdb108b352b79a1e37b6a08a499b

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

requirements:
  build:
    - {{ compiler('c') }}              # [not win]
    - {{ compiler('m2w64_c') }}        # [win]
    - {{ posix }}filesystem        # [win]
    - {{ posix }}make
    - {{ posix }}sed               # [win]
    - {{ posix }}coreutils         # [win]
    - {{ posix }}zip               # [win]

  host:
    - r-base
    - r-mcmcpack

  run:
    - r-base
    - {{native}}gcc-libs         # [win]
    - r-mcmcpack

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('RSGHB')"           # [not win]
    - "\"%R%\" -e \"library('RSGHB')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: https://github.com/RSGInc/RSGHB
  license: GPL-3
  summary: 'Functions for estimating models using a Hierarchical Bayesian (HB) framework. The
    flexibility comes in allowing the user to specify the likelihood function directly
    instead of assuming predetermined model structures. Types of models that can be
    estimated with this code include the family of discrete choice models (Multinomial
    Logit, Mixed Logit, Nested Logit, Error Components Logit and Latent Class) as well
    ordered response models like ordered probit and ordered logit. In addition, the
    package allows for flexibility in specifying parameters as either fixed (non-varying
    across individuals) or random with continuous distributions. Parameter distributions
    supported include normal, positive/negative log-normal, positive/negative censored
    normal, and the Johnson SB distribution. Kenneth Train''s Matlab and Gauss code
    for doing Hierarchical Bayesian estimation has served as the basis for a few of
    the functions included in this package. These Matlab/Gauss functions have been rewritten
    to be optimized within R. Considerable code has been added to increase the flexibility
    and usability of the code base. Train''s original Gauss and Matlab code can be found
    here: <http://elsa.berkeley.edu/Software/abstracts/train1006mxlhb.html> See Train''s
    chapter on HB in Discrete Choice with Simulation here: <http://elsa.berkeley.edu/books/choice2.html>;
    and his paper on using HB with non-normal distributions here: <http://eml.berkeley.edu//~train/trainsonnier.pdf>.
    The authors would also like to thank the invaluable contributions of Stephane Hess
    and the Choice Modelling Centre: <https://cmc.leeds.ac.uk/>.'
  license_family: GPL3
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-3'

# The original CRAN metadata for this package was:

# Package: RSGHB
# Version: 1.2.2
# Date: 2019-07-03
# Title: Functions for Hierarchical Bayesian Estimation: A Flexible Approach
# Authors@R: c(person("Jeff", "Dumont", role = c("aut", "cre"), email = "Jeff.Dumont@rsginc.com"), person("Jeff", "Keller", role = "aut", email = "Jeff.Keller@rsginc.com"), person("Chase", "Carpenter", role = "ctb", email = "Chase.Carpenter@rsginc.com"))
# Description: Functions for estimating models using a Hierarchical Bayesian (HB) framework. The flexibility comes in allowing the user to specify the likelihood function directly instead of assuming predetermined model structures. Types of models that can be estimated with this code include the family of discrete choice models (Multinomial Logit, Mixed Logit, Nested Logit, Error Components Logit and Latent Class) as well ordered response models like ordered probit and ordered logit. In addition, the package allows for flexibility in specifying parameters as either fixed (non-varying across individuals) or random with continuous distributions. Parameter distributions supported include normal, positive/negative log-normal, positive/negative censored normal, and the Johnson SB distribution. Kenneth Train's Matlab and Gauss code for doing Hierarchical Bayesian estimation has served as the basis for a few of the functions included in this package. These Matlab/Gauss functions have been rewritten to be optimized within R. Considerable code has been added to increase the flexibility and usability of the code base. Train's original Gauss and Matlab code can be found here: <http://elsa.berkeley.edu/Software/abstracts/train1006mxlhb.html> See Train's chapter on HB in Discrete Choice with Simulation here: <http://elsa.berkeley.edu/books/choice2.html>; and his paper on using HB with non-normal distributions here: <http://eml.berkeley.edu//~train/trainsonnier.pdf>. The authors would also like to thank the invaluable contributions of Stephane Hess and the Choice Modelling Centre: <https://cmc.leeds.ac.uk/>.
# Depends: methods, MCMCpack
# Imports: graphics, grDevices, stats, utils
# URL: https://github.com/RSGInc/RSGHB
# License: GPL-3
# Copyright: Resource Systems Group, Inc. 2019
# NeedsCompilation: yes
# Packaged: 2019-07-03 20:47:26 UTC; Jeff
# Author: Jeff Dumont [aut, cre], Jeff Keller [aut], Chase Carpenter [ctb]
# Maintainer: Jeff Dumont <Jeff.Dumont@rsginc.com>
# Repository: CRAN
# Date/Publication: 2019-07-03 21:20:03 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
