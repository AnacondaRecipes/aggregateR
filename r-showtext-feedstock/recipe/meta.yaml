{% set version = '0.9-6' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-showtext
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/showtext_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/showtext/showtext_{{ version }}.tar.gz
  sha256: 0eca59cb519bc4b9e64f7d1d79d5e78a78f84f8ad19de55dbf476832b1d68c30

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

# Suggests: knitr, rmarkdown, prettydoc, curl, jsonlite
requirements:
  build:
    - {{ compiler('c') }}              # [not win]
    - {{ compiler('m2w64_c') }}        # [win]
    - {{ posix }}filesystem        # [win]
    - {{ posix }}sed               # [win]
    - {{ posix }}grep              # [win]
    - {{ posix }}autoconf
    - {{ posix }}automake          # [not win]
    - {{ posix }}automake-wrapper  # [win]
    - {{ posix }}pkg-config
    - {{ posix }}make
    - {{ posix }}coreutils         # [win]
    - {{ posix }}zip               # [win]

  host:
    - r-base
    - r-showtextdb >=2.0
    - r-sysfonts >=0.7.1

  run:
    - r-base
    - {{native}}gcc-libs         # [win]
    - r-showtextdb >=2.0
    - r-sysfonts >=0.7.1

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('showtext')"           # [not win]
    - "\"%R%\" -e \"library('showtext')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: https://github.com/yixuan/showtext
  license: Apache License (>= 2.0)
  summary: Making it easy to use various types of fonts ('TrueType', 'OpenType', Type 1, web
    fonts, etc.) in R graphs, and supporting most output formats of R graphics including
    PNG, PDF and SVG. Text glyphs will be converted into polygons or raster images,
    hence after the plot has been created, it no longer relies on the font files. No
    external software such as 'Ghostscript' is needed to use this package.
  license_family: APACHE

# The original CRAN metadata for this package was:

# Package: showtext
# Type: Package
# Title: Using Fonts More Easily in R Graphs
# Version: 0.9-6
# Date: 2023-05-03
# Author: Yixuan Qiu and authors/contributors of the included software. See file AUTHORS for details.
# Maintainer: Yixuan Qiu <yixuan.qiu@cos.name>
# Description: Making it easy to use various types of fonts ('TrueType', 'OpenType', Type 1, web fonts, etc.) in R graphs, and supporting most output formats of R graphics including PNG, PDF and SVG. Text glyphs will be converted into polygons or raster images, hence after the plot has been created, it no longer relies on the font files. No external software such as 'Ghostscript' is needed to use this package.
# Depends: sysfonts (>= 0.7.1), showtextdb (>= 2.0)
# Imports: grDevices
# Suggests: knitr, rmarkdown, prettydoc, curl, jsonlite
# SystemRequirements: zlib, libpng, FreeType
# URL: https://github.com/yixuan/showtext
# BugReports: https://github.com/yixuan/showtext/issues
# License: Apache License (>= 2.0)
# Copyright: see file COPYRIGHTS
# VignetteBuilder: knitr, rmarkdown
# RoxygenNote: 7.2.3
# NeedsCompilation: yes
# Packaged: 2023-05-03 14:05:53 UTC; qyx
# Repository: CRAN
# Date/Publication: 2023-05-03 15:50:02 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
