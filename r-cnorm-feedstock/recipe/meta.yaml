{% set version = '3.0.4' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-cnorm
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/cNORM_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/cNORM/cNORM_{{ version }}.tar.gz
  sha256: d766bfd86f8a871b972b9b9cd952fa2e5bb7c0fe6903b3f2c15eccf4612a17e2

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip
  noarch: generic

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

# Suggests: knitr, shiny, shinycssloaders, foreign, readxl, rmarkdown, testthat
requirements:
  build:
    - {{ posix }}zip               # [win]

  host:
    - r-base
    - r-lattice >=0.21
    - r-latticeextra >=0.6
    - r-leaps >=3.1

  run:
    - r-base
    - r-lattice >=0.21
    - r-latticeextra >=0.6
    - r-leaps >=3.1

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('cNORM')"           # [not win]
    - "\"%R%\" -e \"library('cNORM')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: https://www.psychometrica.de/cNorm_en.html, https://github.com/WLenhard/cNORM
  license: AGPL-3
  summary: 'Conventional methods for producing standard scores or percentiles in psychometrics
    or biometrics are often plagued with ''jumps'' or ''gaps'' (i.e., discontinuities)
    in norm tables and low confidence for assessing extreme scores. The continuous norming
    method introduced by A. Lenhard et al. (2016, <doi:10.1177/1073191116656437>; 2019,
    <doi:10.1371/journal.pone.0222279>; 2021 <doi: 10.1177/0013164420928457>) estimates
    percentile development (e. g. over age) and generates continuous test norm scores
    on the basis of the raw data from standardization samples, without requiring assumptions
    about the distribution of the raw data: Norm scores are directly established from
    raw data by modeling the latter ones as a function of both percentile scores and
    an explanatory variable (e.g., age). The method minimizes bias arising from sampling
    and measurement error, while handling marked deviations from normality, addressing
    bottom or ceiling effects and capturing almost all of the variance in the original
    norm data sample. It includes procedures for post stratification of norm samples
    to overcome bias in data collection and to mitigate violations of representativeness.
    An online demonstration is available via <https://cnorm.shinyapps.io/cNORM/>.'
  license_family: AGPL
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/AGPL-3'

extra:
  recipe-maintainers:
    - katietz

# The original CRAN metadata for this package was:

# Package: cNORM
# Type: Package
# Title: Continuous Norming
# Version: 3.0.4
# Maintainer: Wolfgang Lenhard <wolfgang.lenhard@uni-wuerzburg.de>
# Date: 2023-10-08
# Authors@R: c(person("Alexandra", "Lenhard", role=c("aut"), email="lenhard@psychometrica.de", comment=c(ORCID = "0000-0001-8680-4381")), person("Wolfgang", "Lenhard", role = c("cre","aut"), email="wolfgang.lenhard@uni-wuerzburg.de", comment=c(ORCID = "0000-0002-8184-6889")), person("Sebastian", "Gary", role=c("aut")), person("WPS publisher", role = c("fnd"), comment=c("<https://www.wpspublish.com/>")))
# Description: Conventional methods for producing standard scores or percentiles in psychometrics or biometrics are often plagued with 'jumps' or 'gaps' (i.e., discontinuities) in norm tables and low confidence for assessing extreme scores. The continuous norming method introduced by A. Lenhard et al. (2016, <doi:10.1177/1073191116656437>; 2019, <doi:10.1371/journal.pone.0222279>; 2021 <doi: 10.1177/0013164420928457>) estimates percentile development (e. g. over age) and generates continuous test norm scores on the basis of the raw data from standardization samples, without requiring assumptions about the distribution of the raw data: Norm scores are directly established from raw data by modeling the latter ones as a function of both percentile scores and an explanatory variable (e.g., age). The method minimizes bias arising from sampling and measurement error, while handling marked deviations from normality, addressing bottom or ceiling effects and capturing almost all of the variance in the original norm data sample. It includes procedures for post stratification of norm samples to overcome bias in data collection and to mitigate violations of representativeness. An online demonstration is available via <https://cnorm.shinyapps.io/cNORM/>.
# Depends: R (>= 4.0.0)
# Imports: lattice (>= 0.21), leaps (>= 3.1), latticeExtra (>= 0.6)
# Suggests: knitr, shiny, shinycssloaders, foreign, readxl, rmarkdown, testthat
# License: AGPL-3
# VignetteBuilder: knitr
# RoxygenNote: 7.2.3
# NeedsCompilation: no
# Repository: CRAN
# Encoding: UTF-8
# LazyData: true
# URL: https://www.psychometrica.de/cNorm_en.html, https://github.com/WLenhard/cNORM
# BugReports: https://github.com/WLenhard/cNORM/issues
# Packaged: 2023-10-08 09:35:17 UTC; gbpa005
# Author: Alexandra Lenhard [aut] (<https://orcid.org/0000-0001-8680-4381>), Wolfgang Lenhard [cre, aut] (<https://orcid.org/0000-0002-8184-6889>), Sebastian Gary [aut], WPS publisher [fnd] (<https://www.wpspublish.com/>)
# Date/Publication: 2023-10-08 10:10:02 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
