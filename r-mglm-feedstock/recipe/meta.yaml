{% set version = '0.2.1' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-mglm
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/MGLM_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/MGLM/MGLM_{{ version }}.tar.gz
  sha256: aed900e67f6aa30f1f5da2220a7621fdaad2428697bf4be4a68f9192b29d6d3a

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip
  noarch: generic

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

# Suggests: ggplot2, plyr, reshape2, knitr, testthat (>= 3.0.0)
requirements:
  build:
    - {{ posix }}zip               # [win]

  host:
    - r-base

  run:
    - r-base

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('MGLM')"           # [not win]
    - "\"%R%\" -e \"library('MGLM')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: https://CRAN.R-project.org/package=MGLM
  license: GPL-2
  summary: 'Provides functions that (1) fit multivariate discrete distributions, (2) generate
    random numbers from multivariate discrete distributions, and (3) run regression
    and penalized regression on the multivariate categorical response data.  Implemented
    models include: multinomial logit model, Dirichlet multinomial model, generalized
    Dirichlet multinomial model, and negative multinomial model. Making the best of
    the minorization-maximization (MM) algorithm and Newton-Raphson method, we derive
    and implement stable and efficient algorithms to find the maximum likelihood estimates.
    On a multi-core machine, multi-threading is supported.'
  license_family: GPL2
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-2'

extra:
  recipe-maintainers:
    - katietz

# The original CRAN metadata for this package was:

# Package: MGLM
# Version: 0.2.1
# Title: Multivariate Response Generalized Linear Models
# Author: Yiwen Zhang <zhangyiwen1015@gmail.com> and Hua Zhou <huazhou@ucla.edu>
# Maintainer: Juhyun Kim <juhkim111@ucla.edu>
# Depends: R (>= 3.0.0)
# Imports: methods, stats, parallel, stats4
# Suggests: ggplot2, plyr, reshape2, knitr, testthat (>= 3.0.0)
# Description: Provides functions that (1) fit multivariate discrete distributions, (2) generate random numbers from multivariate discrete distributions, and (3) run regression and penalized regression on the multivariate categorical response data.  Implemented models include: multinomial logit model, Dirichlet multinomial model, generalized Dirichlet multinomial model, and negative multinomial model. Making the best of the minorization-maximization (MM) algorithm and Newton-Raphson method, we derive and implement stable and efficient algorithms to find the maximum likelihood estimates. On a multi-core machine, multi-threading is supported.
# VignetteBuilder: knitr
# LazyLoad: yes
# LazyData: yes
# Repository: CRAN
# License: GPL (>= 2)
# RoxygenNote: 7.1.2
# NeedsCompilation: no
# Packaged: 2022-04-13 23:12:59 UTC; juhyun-kim
# Date/Publication: 2022-04-13 23:32:32 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
