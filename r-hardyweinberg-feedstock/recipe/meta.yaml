{% set version = '1.7.5' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-hardyweinberg
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/HardyWeinberg_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/HardyWeinberg/HardyWeinberg_{{ version }}.tar.gz
  sha256: cfd8ac4aaf0a315c77f4ad62f1fe3751707ed0e97b0aade61a4c379000ff7a2c

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

requirements:
  build:
    - {{ compiler('c') }}              # [not win]
    - {{ compiler('m2w64_c') }}        # [win]
    - {{ compiler('cxx') }}            # [not win]
    - {{ compiler('m2w64_cxx') }}      # [win]
    - {{ posix }}filesystem        # [win]
    - {{ posix }}make
    - {{ posix }}sed               # [win]
    - {{ posix }}coreutils         # [win]
    - {{ posix }}zip               # [win]

  host:
    - r-base
    - r-rcpp
    - r-rsolnp
    - r-mice
    - r-nnet

  run:
    - r-base
    - {{native}}gcc-libs         # [win]
    - r-rcpp
    - r-rsolnp
    - r-mice
    - r-nnet

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('HardyWeinberg')"           # [not win]
    - "\"%R%\" -e \"library('HardyWeinberg')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: https://www.r-project.org, http://www-eio.upc.edu/~jan/
  license: GPL-2
  summary: 'Contains tools for exploring Hardy-Weinberg equilibrium (Hardy, 1908;  Weinberg,
    1908) for bi and multi-allelic genetic marker data. All classical tests (chi-square,
    exact, likelihood-ratio and permutation tests) with bi-allelic variants are included
    in the package, as well as functions for power computation and for the simulation
    of marker data under equilibrium and disequilibrium. Routines for dealing with markers
    on the X-chromosome are included (Graffelman & Weir, 2016) <doi:10.1038/hdy.2016.20>,
    including Bayesian procedures. Some exact and permutation procedures also work with
    multi-allelic variants. Special test procedures that jointly address Hardy-Weinberg
    equilibrium and equality of allele frequencies in both sexes are supplied, for the
    bi and multi-allelic case. Functions for testing equilibrium in the presence of
    missing data by using multiple imputation are also provided. Implements several
    graphics for exploring the equilibrium status of a large set of bi-allelic markers:
    ternary plots with acceptance regions, log-ratio plots and Q-Q plots. The functionality
    of the package is explained in detail in a related JSS paper <doi:10.18637/jss.v064.i03>.'
  license_family: GPL2
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-2'

# The original CRAN metadata for this package was:

# Package: HardyWeinberg
# Type: Package
# Title: Statistical Tests and Graphics for Hardy-Weinberg Equilibrium
# Version: 1.7.5
# Date: 2022-05-07
# Authors@R: c(person("Jan", "Graffelman", role = c("aut", "cre"), email = "jan.graffelman@upc.edu"), person("Christopher", "Chang", role = "ctb", email = "chrchang523@gmail.com"), person("Xavi", "Puig", role = "ctb", email = "xavier.puig@upc.edu"), person("Jan", "Wigginton", role = "ctb"), person("Leonardo", "Ortoleva", role = "ctb", email= "leonardo.ortoleva@estudiantat.upc.edu"), person("William R.","Engels", role =  "ctb", email= "wrengels@wisc.edu"))
# Author: Jan Graffelman [aut, cre], Christopher Chang [ctb], Xavi Puig [ctb], Jan Wigginton [ctb], Leonardo Ortoleva [ctb], William R. Engels [ctb]
# Maintainer: Jan Graffelman <jan.graffelman@upc.edu>
# Depends: R (>= 1.8.0), mice, Rsolnp, nnet
# Description: Contains tools for exploring Hardy-Weinberg equilibrium (Hardy, 1908;  Weinberg, 1908) for bi and multi-allelic genetic marker data. All classical tests (chi-square, exact, likelihood-ratio and permutation tests) with bi-allelic variants are included in the package, as well as functions for power computation and for the simulation of marker data under equilibrium and disequilibrium. Routines for dealing with markers on the X-chromosome are included (Graffelman & Weir, 2016) <doi:10.1038/hdy.2016.20>, including Bayesian procedures. Some exact and permutation procedures also work with multi-allelic variants. Special test procedures that jointly address Hardy-Weinberg equilibrium and equality of allele frequencies in both sexes are supplied, for the bi and multi-allelic case. Functions for testing equilibrium in the presence of missing data by using multiple imputation are also provided. Implements several graphics for exploring the equilibrium status of a large set of bi-allelic markers: ternary plots with acceptance regions, log-ratio plots and Q-Q plots. The functionality of the package is explained in detail in a related JSS paper <doi:10.18637/jss.v064.i03>.
# License: GPL (>= 2)
# URL: https://www.r-project.org, http://www-eio.upc.edu/~jan/
# LinkingTo: Rcpp
# Imports: Rcpp
# NeedsCompilation: yes
# Packaged: 2022-05-07 11:33:41 UTC; jangr
# Repository: CRAN
# Date/Publication: 2022-05-07 12:20:06 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
