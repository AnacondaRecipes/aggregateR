{% set version = '0.4-0' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-ratesci
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/ratesci_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/ratesci/ratesci_{{ version }}.tar.gz
  sha256: e4b6e67f897cdb42453a2d71eed6b93b682c27e3ff98934d1c9fb35d9254b9c6

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip
  noarch: generic

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

# Suggests: testthat
requirements:
  build:
    - {{ posix }}zip               # [win]

  host:
    - r-base

  run:
    - r-base

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('ratesci')"           # [not win]
    - "\"%R%\" -e \"library('ratesci')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: https://CRAN.R-project.org/package=ratesci
  license: GPL-3
  summary: Computes confidence intervals for the rate (or risk) difference ('RD') or rate ratio
    (or relative risk, 'RR') for binomial proportions or Poisson rates, or for odds
    ratio ('OR', binomial only). Also confidence intervals for a single binomial or
    Poisson rate, and intervals for matched pairs. Includes skewness-corrected asymptotic
    score ('SCAS') methods, which have been developed in Laud (2017) <doi:10.1002/pst.1813>
    from Miettinen & Nurminen (1985) <doi:10.1002/sim.4780040211> and Gart & Nam (1988)
    <doi:10.2307/2531848>. The same score produces hypothesis tests analogous to the
    test for binomial RD and RR by Farrington & Manning (1990) <doi:10.1002/sim.4780091208>.
    The package also includes MOVER methods (Method Of Variance Estimates Recovery)
    for all contrasts, derived from the Newcombe method but using equal-tailed Jeffreys
    intervals, and generalised for Bayesian applications incorporating prior information.
    So-called 'exact' methods for strictly conservative coverage are approximated using
    continuity corrections. Also includes methods for stratified calculations (e.g.
    meta-analysis), either assuming fixed effects (matching the CMH test) or incorporating
    stratum heterogeneity.
  license_family: GPL3
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-3'

extra:
  recipe-maintainers:
    - katietz

# The original CRAN metadata for this package was:

# Package: ratesci
# Type: Package
# Title: Confidence Intervals for Comparisons of Binomial or Poisson Rates
# Version: 0.4-0
# Date: 2021-12-04
# Authors@R: person("Pete", "Laud", email = "p.j.laud@sheffield.ac.uk", role = c("aut", "cre"))
# Author: Pete Laud [aut, cre]
# Maintainer: Pete Laud <p.j.laud@sheffield.ac.uk>
# Description: Computes confidence intervals for the rate (or risk) difference ('RD') or rate ratio (or relative risk, 'RR') for binomial proportions or Poisson rates, or for odds ratio ('OR', binomial only). Also confidence intervals for a single binomial or Poisson rate, and intervals for matched pairs. Includes skewness-corrected asymptotic score ('SCAS') methods, which have been developed in Laud (2017) <doi:10.1002/pst.1813> from Miettinen & Nurminen (1985) <doi:10.1002/sim.4780040211> and Gart & Nam (1988) <doi:10.2307/2531848>. The same score produces hypothesis tests analogous to the test for binomial RD and RR by Farrington & Manning (1990) <doi:10.1002/sim.4780091208>. The package also includes MOVER methods (Method Of Variance Estimates Recovery) for all contrasts, derived from the Newcombe method but using equal-tailed Jeffreys intervals, and generalised for Bayesian applications incorporating prior information. So-called 'exact' methods for strictly conservative coverage are approximated using continuity corrections. Also includes methods for stratified calculations (e.g. meta-analysis), either assuming fixed effects (matching the CMH test) or incorporating stratum heterogeneity.
# Depends: R (>= 3.6.0)
# License: GPL-3
# Encoding: UTF-8
# RoxygenNote: 7.1.1
# Imports:
# Suggests: testthat
# NeedsCompilation: no
# Packaged: 2021-12-04 23:31:55 UTC; ssu
# Repository: CRAN
# Date/Publication: 2021-12-05 08:00:09 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
