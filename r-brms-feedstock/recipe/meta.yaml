{% set version = '2.20.4' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-brms
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/brms_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/brms/brms_{{ version }}.tar.gz
  sha256: 00a6f3ea690c4e6b3e645e0a366d8a93c9bd51151b9376d01011ab95e332072f

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip
  noarch: generic

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

# Suggests: testthat (>= 0.9.1), emmeans (>= 1.4.2), cmdstanr (>= 0.5.0), projpred (>= 2.0.0), RWiener, rtdists, extraDistr, processx, mice, spdep, mnormt, lme4, MCMCglmm, splines2, ape, arm, statmod, digest, diffobj, R.rsp, gtable, shiny, knitr, rmarkdown
requirements:
  build:
    - {{ compiler('c') }}              # [not win]
    - {{ compiler('m2w64_c') }}        # [win]
    - {{ compiler('cxx') }}            # [not win]
    - {{ compiler('m2w64_cxx') }}      # [win]
    - {{ posix }}zip               # [win]

  host:
    - r-base
    - r-matrix >=1.1.1
    - r-rcpp >=0.12.0
    - r-abind
    - r-backports
    - r-bayesplot >=1.5.0
    - r-bridgesampling >=0.3_0
    - r-coda
    - r-future >=1.19.0
    - r-ggplot2 >=2.0.0
    - r-glue >=1.3.0
    - r-loo >=2.3.1
    - r-matrixstats
    - r-mgcv >=1.8_13
    - r-nleqslv
    - r-nlme
    - r-posterior >=1.0.0
    - r-rlang >=1.0.0
    - r-rstan >=2.26.0
    - r-rstantools >=2.1.1
    - r-shinystan >=2.4.0

  run:
    - r-base
    - {{native}}gcc-libs         # [win]
    - r-matrix >=1.1.1
    - r-rcpp >=0.12.0
    - r-abind
    - r-backports
    - r-bayesplot >=1.5.0
    - r-bridgesampling >=0.3_0
    - r-coda
    - r-future >=1.19.0
    - r-ggplot2 >=2.0.0
    - r-glue >=1.3.0
    - r-loo >=2.3.1
    - r-matrixstats
    - r-mgcv >=1.8_13
    - r-nleqslv
    - r-nlme
    - r-posterior >=1.0.0
    - r-rlang >=1.0.0
    - r-rstan >=2.26.0
    - r-rstantools >=2.1.1
    - r-shinystan >=2.4.0

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('brms')"           # [not win]
    - "\"%R%\" -e \"library('brms')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: https://github.com/paul-buerkner/brms, https://discourse.mc-stan.org/, https://paul-buerkner.github.io/brms/
  license: GPL-2
  summary: "Fit Bayesian generalized (non-)linear multivariate multilevel models using 'Stan'
    for full Bayesian inference. A wide range of distributions and link functions are
    supported, allowing users to fit -- among others -- linear, robust linear, count
    data, survival, response times, ordinal, zero-inflated, hurdle, and even self-defined
    mixture models all in a multilevel context. Further modeling options include both
    theory-driven and data-driven non-linear terms, auto-correlation structures, censoring
    and truncation, meta-analytic standard errors, and quite a few more. In addition,
    all parameters of the response distribution can be predicted in order to perform
    distributional regression. Prior specifications are flexible and explicitly encourage
    users to apply prior distributions that actually reflect their prior knowledge.
    Models can easily be evaluated and compared using several methods assessing posterior
    or prior predictions. References: B\xFCrkner (2017) <doi:10.18637/jss.v080.i01>;
    B\xFCrkner (2018) <doi:10.32614/RJ-2018-017>; B\xFCrkner (2021) <doi:10.18637/jss.v100.i05>;
    Carpenter et al. (2017) <doi:10.18637/jss.v076.i01>."
  license_family: GPL2
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-2'

# The original CRAN metadata for this package was:

# Package: brms
# Encoding: UTF-8
# Type: Package
# Title: Bayesian Regression Models using 'Stan'
# Version: 2.20.4
# Date: 2023-09-25
# Authors@R: c(person("Paul-Christian", "Burkner", email = "paul.buerkner@gmail.com", role = c("aut", "cre")), person("Jonah", "Gabry", role = c("ctb")), person("Sebastian", "Weber", role = c("ctb")), person("Andrew", "Johnson", role = c("ctb")), person("Martin", "Modrak", role = c("ctb")), person("Hamada S.", "Badr", role = c("ctb")), person("Frank", "Weber", role = c("ctb")), person("Mattan S.", "Ben-Shachar", role = c("ctb")), person("Hayden", "Rabel", role = c("ctb")), person("Simon C.", "Mills", role = c("ctb")), person("Stephen", "Wild", role = c("ctb")))
# Depends: R (>= 3.6.0), Rcpp (>= 0.12.0), methods
# Imports: rstan (>= 2.26.0), ggplot2 (>= 2.0.0), loo (>= 2.3.1), posterior (>= 1.0.0), Matrix (>= 1.1.1), mgcv (>= 1.8-13), rstantools (>= 2.1.1), bayesplot (>= 1.5.0), shinystan (>= 2.4.0), bridgesampling (>= 0.3-0), glue (>= 1.3.0), rlang (>= 1.0.0), future (>= 1.19.0), matrixStats, nleqslv, nlme, coda, abind, stats, utils, parallel, grDevices, backports
# Suggests: testthat (>= 0.9.1), emmeans (>= 1.4.2), cmdstanr (>= 0.5.0), projpred (>= 2.0.0), RWiener, rtdists, extraDistr, processx, mice, spdep, mnormt, lme4, MCMCglmm, splines2, ape, arm, statmod, digest, diffobj, R.rsp, gtable, shiny, knitr, rmarkdown
# Description: Fit Bayesian generalized (non-)linear multivariate multilevel models using 'Stan' for full Bayesian inference. A wide range of distributions and link functions are supported, allowing users to fit -- among others -- linear, robust linear, count data, survival, response times, ordinal, zero-inflated, hurdle, and even self-defined mixture models all in a multilevel context. Further modeling options include both theory-driven and data-driven non-linear terms, auto-correlation structures, censoring and truncation, meta-analytic standard errors, and quite a few more. In addition, all parameters of the response distribution can be predicted in order to perform distributional regression. Prior specifications are flexible and explicitly encourage users to apply prior distributions that actually reflect their prior knowledge. Models can easily be evaluated and compared using several methods assessing posterior or prior predictions. References: Burkner (2017) <doi:10.18637/jss.v080.i01>; Burkner (2018) <doi:10.32614/RJ-2018-017>; Burkner (2021) <doi:10.18637/jss.v100.i05>; Carpenter et al. (2017) <doi:10.18637/jss.v076.i01>.
# LazyData: true
# NeedsCompilation: no
# License: GPL-2
# URL: https://github.com/paul-buerkner/brms, https://discourse.mc-stan.org/, https://paul-buerkner.github.io/brms/
# BugReports: https://github.com/paul-buerkner/brms/issues
# Additional_repositories: https://mc-stan.org/r-packages/
# VignetteBuilder: knitr, R.rsp
# RoxygenNote: 7.2.3
# Packaged: 2023-09-25 11:35:40 UTC; paul.buerkner
# Author: Paul-Christian Burkner [aut, cre], Jonah Gabry [ctb], Sebastian Weber [ctb], Andrew Johnson [ctb], Martin Modrak [ctb], Hamada S. Badr [ctb], Frank Weber [ctb], Mattan S. Ben-Shachar [ctb], Hayden Rabel [ctb], Simon C. Mills [ctb], Stephen Wild [ctb]
# Maintainer: Paul-Christian Burkner <paul.buerkner@gmail.com>
# Repository: CRAN
# Date/Publication: 2023-09-25 19:00:09 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
