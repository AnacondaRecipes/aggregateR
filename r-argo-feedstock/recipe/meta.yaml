{% set version = '3.0.2' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-argo
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/argo_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/argo/argo_{{ version }}.tar.gz
  sha256: f67745763f9fbe87534224e0403a0e1823b69e837c10363f1ad71164c536da9f

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip
  noarch: generic

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

# Suggests: testthat
requirements:
  build:
    - {{ posix }}zip               # [win]

  host:
    - r-base
    - r-matrix
    - r-xml
    - r-boot
    - r-glmnet
    - r-xtable
    - r-xts
    - r-zoo

  run:
    - r-base
    - r-matrix
    - r-xml
    - r-boot
    - r-glmnet
    - r-xtable
    - r-xts
    - r-zoo

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('argo')"           # [not win]
    - "\"%R%\" -e \"library('argo')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: https://CRAN.R-project.org/package=argo
  license: GPL-2
  summary: Augmented Regression with General Online data (ARGO) for accurate estimation of influenza
    epidemics in United States on national level, regional level and state level. It
    replicates the method introduced in paper Yang, S., Santillana, M. and Kou, S.C.
    (2015) <doi:10.1073/pnas.1515373112>; Ning, S., Yang, S. and Kou, S.C. (2019) <doi:10.1038/s41598-019-41559-6>;
    Yang, S., Ning, S. and Kou, S.C. (2021) <doi:10.1038/s41598-021-83084-5>.
  license_family: GPL2
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-2'

extra:
  recipe-maintainers:
    - katietz

# The original CRAN metadata for this package was:

# Package: argo
# Type: Package
# Title: Accurate Estimation of Influenza Epidemics using Google Search Data
# Version: 3.0.2
# Date: 2023-05-23
# Author: Shaoyang Ning, Shihao Yang, S. C. Kou
# Maintainer: Shihao Yang <shihao.yang@isye.gatech.edu>
# Description: Augmented Regression with General Online data (ARGO) for accurate estimation of influenza epidemics in United States on national level, regional level and state level. It replicates the method introduced in paper Yang, S., Santillana, M. and Kou, S.C. (2015) <doi:10.1073/pnas.1515373112>; Ning, S., Yang, S. and Kou, S.C. (2019) <doi:10.1038/s41598-019-41559-6>; Yang, S., Ning, S. and Kou, S.C. (2021) <doi:10.1038/s41598-021-83084-5>.
# License: GPL-2
# Imports: xts, glmnet, zoo, XML, xtable, Matrix, boot
# Suggests: testthat
# Encoding: UTF-8
# RoxygenNote: 7.1.1
# NeedsCompilation: no
# Packaged: 2023-05-23 15:11:19 UTC; shihaoyang
# Repository: CRAN
# Date/Publication: 2023-05-24 11:20:14 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
