{% set version = '1.41' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-mirt
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/mirt_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/mirt/mirt_{{ version }}.tar.gz
  sha256: d01b2d2e8caf0f1569f1db9138839e698e17c46020dfaaab8a5496f649c6a863

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

# Suggests: boot, latticeExtra, directlabels, shiny, knitr, markdown, Rsolnp, nloptr, sirt, plink, mirtCAT
requirements:
  build:
    - {{ compiler('c') }}              # [not win]
    - {{ compiler('m2w64_c') }}        # [win]
    - {{ compiler('cxx') }}            # [not win]
    - {{ compiler('m2w64_cxx') }}      # [win]
    - {{ posix }}filesystem        # [win]
    - {{ posix }}make
    - {{ posix }}sed               # [win]
    - {{ posix }}coreutils         # [win]
    - {{ posix }}zip               # [win]

  host:
    - r-base
    - r-deriv
    - r-gparotation
    - r-matrix >=1.5_0
    - r-rcpp
    - r-rcpparmadillo
    - r-dcurver
    - r-gridextra
    - r-lattice
    - r-mgcv
    - r-pbapply >=1.3_0
    - r-vegan

  run:
    - r-base
    - {{native}}gcc-libs         # [win]
    - r-deriv
    - r-gparotation
    - r-matrix >=1.5_0
    - r-rcpp
    - r-rcpparmadillo
    - r-dcurver
    - r-gridextra
    - r-lattice
    - r-mgcv
    - r-pbapply >=1.3_0
    - r-vegan

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('mirt')"           # [not win]
    - "\"%R%\" -e \"library('mirt')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: https://github.com/philchalmers/mirt, https://github.com/philchalmers/mirt/wiki, https://groups.google.com/forum/#!forum/mirt-package
  license: GPL-3
  summary: Analysis of discrete response data using unidimensional and multidimensional item
    analysis models under the Item Response Theory paradigm (Chalmers (2012) <doi:10.18637/jss.v048.i06>).
    Exploratory and confirmatory item factor analysis models are estimated with quadrature
    (EM) or stochastic (MHRM) methods. Confirmatory bi-factor and two-tier models are
    available for modeling item testlets using dimension reduction EM algorithms, while
    multiple group analyses and mixed effects designs are included for detecting differential
    item, bundle, and test functioning, and for modeling item and person covariates.
    Finally, latent class models such as the DINA, DINO, multidimensional latent class,
    mixture, and zero-inflated response models are supported.
  license_family: GPL3
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-3'

# The original CRAN metadata for this package was:

# Package: mirt
# Version: 1.41
# Type: Package
# Title: Multidimensional Item Response Theory
# Authors@R: c( person("Phil", family="Chalmers", email = "rphilip.chalmers@gmail.com", role = c("aut", "cre"), comment = c(ORCID="0000-0001-5332-2810")), person("Joshua", family="Pritikin", role=c('ctb')), person("Alexander", family="Robitzsch", role=c('ctb')), person("Mateusz", family="Zoltak", role=c('ctb')), person("KwonHyun", family="Kim", role=c('ctb')), person("Carl F.", family="Falk", role=c('ctb')), person("Adam", family="Meade", role=c('ctb')), person("Lennart", family="Schneider", role=c('ctb')), person("David", family="King", role=c('ctb')), person("Chen-Wei", family="Liu", role=c('ctb')), person("Ogreden", family="Oguzhan", role=c('ctb')))
# Description: Analysis of discrete response data using unidimensional and multidimensional item analysis models under the Item Response Theory paradigm (Chalmers (2012) <doi:10.18637/jss.v048.i06>). Exploratory and confirmatory item factor analysis models are estimated with quadrature (EM) or stochastic (MHRM) methods. Confirmatory bi-factor and two-tier models are available for modeling item testlets using dimension reduction EM algorithms, while multiple group analyses and mixed effects designs are included for detecting differential item, bundle, and test functioning, and for modeling item and person covariates. Finally, latent class models such as the DINA, DINO, multidimensional latent class, mixture, and zero-inflated response models are supported.
# VignetteBuilder: knitr
# Depends: stats, R (>= 3.6.0), stats4, lattice, methods
# Imports: GPArotation, gridExtra, Matrix (>= 1.5-0), Rcpp, mgcv, vegan, Deriv, splines, pbapply (>= 1.3-0), dcurver
# Suggests: boot, latticeExtra, directlabels, shiny, knitr, markdown, Rsolnp, nloptr, sirt, plink, mirtCAT
# ByteCompile: yes
# LazyLoad: yes
# LazyData: yes
# LinkingTo: Rcpp, RcppArmadillo
# License: GPL (>= 3)
# Repository: CRAN
# Maintainer: Phil Chalmers <rphilip.chalmers@gmail.com>
# URL: https://github.com/philchalmers/mirt, https://github.com/philchalmers/mirt/wiki, https://groups.google.com/forum/#!forum/mirt-package
# BugReports: https://github.com/philchalmers/mirt/issues?state=open
# RoxygenNote: 7.2.3
# NeedsCompilation: yes
# Packaged: 2023-10-17 14:31:29 UTC; phil
# Author: Phil Chalmers [aut, cre] (<https://orcid.org/0000-0001-5332-2810>), Joshua Pritikin [ctb], Alexander Robitzsch [ctb], Mateusz Zoltak [ctb], KwonHyun Kim [ctb], Carl F. Falk [ctb], Adam Meade [ctb], Lennart Schneider [ctb], David King [ctb], Chen-Wei Liu [ctb], Ogreden Oguzhan [ctb]
# Date/Publication: 2023-10-17 15:50:03 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
