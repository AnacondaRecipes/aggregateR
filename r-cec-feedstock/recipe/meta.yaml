{% set version = '0.11.0' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-cec
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/CEC_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/CEC/CEC_{{ version }}.tar.gz
  sha256: 6ea9b941055002deae7d98cb3ee22e614aa5262d955c3596d420943a70344461

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

requirements:
  build:
    - {{ compiler('c') }}              # [not win]
    - {{ compiler('m2w64_c') }}        # [win]
    - {{ compiler('cxx') }}            # [not win]
    - {{ compiler('m2w64_cxx') }}      # [win]
    - {{ posix }}filesystem        # [win]
    - {{ posix }}make
    - {{ posix }}sed               # [win]
    - {{ posix }}coreutils         # [win]
    - {{ posix }}zip               # [win]

  host:
    - r-base

  run:
    - r-base
    - {{native}}gcc-libs         # [win]

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('CEC')"           # [not win]
    - "\"%R%\" -e \"library('CEC')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: https://github.com/swarm-lab/cec, https://swarm-lab.github.io/cec/
  license: GPL-3
  summary: Splits data into Gaussian type clusters using the Cross-Entropy Clustering ('CEC')
    method. This method allows for the simultaneous use of various types of Gaussian
    mixture models, for performing the reduction of unnecessary clusters, and for discovering
    new clusters by splitting them. 'CEC' is based on the work of Spurek, P. and Tabor,
    J. (2014) <doi:10.1016/j.patcog.2014.03.006>.
  license_family: GPL3
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-3'

extra:
  recipe-maintainers:
    - katietz

# The original CRAN metadata for this package was:

# Package: CEC
# Type: Package
# Title: Cross-Entropy Clustering
# Version: 0.11.0
# Date: 2022-12-12
# Authors@R: c( person("Kamieniecki", "Konrad", email = "konrad.kamieniecki@alumni.uj.edu.pl", role = c("aut")), person("Spurek", "Przemyslaw", email = "przemyslaw.spurek@gmail.com", role = c("ctb")), person("Simon", "Garnier", email = "garnier@njit.edu", role = c("cre", "ctb"), comment = c(ORCID = "0000-0002-3886-3974")) )
# Maintainer: Simon Garnier <garnier@njit.edu>
# Description: Splits data into Gaussian type clusters using the Cross-Entropy Clustering ('CEC') method. This method allows for the simultaneous use of various types of Gaussian mixture models, for performing the reduction of unnecessary clusters, and for discovering new clusters by splitting them. 'CEC' is based on the work of Spurek, P. and Tabor, J. (2014) <doi:10.1016/j.patcog.2014.03.006>.
# ByteCompile: true
# URL: https://github.com/swarm-lab/cec, https://swarm-lab.github.io/cec/
# Encoding: UTF-8
# LazyData: true
# Imports: graphics, methods, stats, utils
# NeedsCompilation: yes
# SystemRequirements: C++11
# License: GPL-3
# RoxygenNote: 7.2.3
# Packaged: 2022-12-12 13:45:16 UTC; simon
# Author: Kamieniecki Konrad [aut], Spurek Przemyslaw [ctb], Simon Garnier [cre, ctb] (<https://orcid.org/0000-0002-3886-3974>)
# Repository: CRAN
# Date/Publication: 2022-12-13 12:40:11 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
