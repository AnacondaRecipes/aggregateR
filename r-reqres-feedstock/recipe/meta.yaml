{% set version = '0.2.5' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-reqres
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/reqres_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/reqres/reqres_{{ version }}.tar.gz
  sha256: 2d334e0656a6db558d621e81ad751c87418d960f05792c61de5859b798ea0fc9

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip
  noarch: generic

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

# Suggests: fiery, testthat, covr
requirements:
  build:
    - {{ posix }}zip               # [win]

  host:
    - r-base
    - r-r6
    - r-assertthat
    - r-brotli
    - r-jsonlite
    - r-stringi
    - r-urltools
    - r-webutils
    - r-xml2

  run:
    - r-base
    - r-r6
    - r-assertthat
    - r-brotli
    - r-jsonlite
    - r-stringi
    - r-urltools
    - r-webutils
    - r-xml2

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('reqres')"           # [not win]
    - "\"%R%\" -e \"library('reqres')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: https://reqres.data-imaginist.com, https://github.com/thomasp85/reqres#reqres
  license: MIT
  summary: In order to facilitate parsing of http requests and creating appropriate responses
    this package provides two classes to handle a lot of the housekeeping involved in
    working with http exchanges. The infrastructure builds upon the 'rook' specification
    and is thus well suited to be combined with 'httpuv' based web servers.
  license_family: MIT
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/MIT'
    - LICENSE

# The original CRAN metadata for this package was:

# Package: reqres
# Type: Package
# Title: Powerful Classes for HTTP Requests and Responses
# Version: 0.2.5
# Authors@R: c(person(given = "Thomas Lin", family = "Pedersen", role = c("cre", "aut"), email = "thomasp85@gmail.com", comment = c(ORCID = "0000-0002-5147-4711")))
# Maintainer: Thomas Lin Pedersen <thomasp85@gmail.com>
# Description: In order to facilitate parsing of http requests and creating appropriate responses this package provides two classes to handle a lot of the housekeeping involved in working with http exchanges. The infrastructure builds upon the 'rook' specification and is thus well suited to be combined with 'httpuv' based web servers.
# License: MIT + file LICENSE
# Encoding: UTF-8
# Depends: R (>= 2.10)
# Imports: R6, assertthat, stringi, urltools, tools, brotli, jsonlite, xml2, webutils, utils
# RoxygenNote: 7.2.1
# Suggests: fiery, testthat, covr
# URL: https://reqres.data-imaginist.com, https://github.com/thomasp85/reqres#reqres
# BugReports: https://github.com/thomasp85/reqres/issues
# NeedsCompilation: no
# Packaged: 2022-08-19 12:25:20 UTC; thomas
# Author: Thomas Lin Pedersen [cre, aut] (<https://orcid.org/0000-0002-5147-4711>)
# Repository: CRAN
# Date/Publication: 2022-08-19 12:50:03 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
