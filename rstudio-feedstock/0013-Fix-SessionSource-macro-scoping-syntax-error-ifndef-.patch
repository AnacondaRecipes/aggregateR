From fe9de2166ad4d09098db67c845d254611d4bc350 Mon Sep 17 00:00:00 2001
From: Ray Donnelly <mingw.android@gmail.com>
Date: Fri, 28 Oct 2016 14:11:44 +0100
Subject: [PATCH 13/45] Fix SessionSource macro scoping syntax error ifndef
 _WINDOWS

---
 src/cpp/session/modules/SessionSource.cpp | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/src/cpp/session/modules/SessionSource.cpp b/src/cpp/session/modules/SessionSource.cpp
index 13f850f2a7..5a8c7da222 100644
--- a/src/cpp/session/modules/SessionSource.cpp
+++ b/src/cpp/session/modules/SessionSource.cpp
@@ -971,9 +971,9 @@ Error getScriptRunCommand(const json::JsonRpcRequest& request,
    if (filePath.isWithin(currentPath))
    {
       path = filePath.relativePath(currentPath);
+#ifndef _WINDOWS
       if (interpreter.empty())
       {
-#ifndef _WINDOWS
          if (path.find_first_of('/') == std::string::npos)
             path = "./" + path;
       }
-- 
2.14.2

