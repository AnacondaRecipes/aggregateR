From 9fc92880f64ec293558fbe0b86b737729597fed6 Mon Sep 17 00:00:00 2001
From: Ray Donnelly <mingw.android@gmail.com>
Date: Sat, 24 Mar 2018 17:50:35 +0000
Subject: [PATCH 29/40] Set CMP0025 for custom clang on macOS

Needs CMake 3.3 at least
---
 CMakeLists.txt                 | 3 ++-
 src/cpp/CMakeLists.txt         | 3 ++-
 src/cpp/desktop/CMakeLists.txt | 5 +++--
 src/gwt/CMakeLists.txt         | 3 ++-
 4 files changed, 9 insertions(+), 5 deletions(-)

diff --git a/CMakeLists.txt b/CMakeLists.txt
index 50aa4e1..4c08eb5 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -13,7 +13,8 @@
 #
 #
 
-cmake_minimum_required(VERSION 2.6)
+cmake_minimum_required(VERSION 3.3)
+cmake_policy(SET CMP0025 NEW)
 project (RStudio)
 
 # set compiler
diff --git a/src/cpp/CMakeLists.txt b/src/cpp/CMakeLists.txt
index dfed7b6..9309cfa 100644
--- a/src/cpp/CMakeLists.txt
+++ b/src/cpp/CMakeLists.txt
@@ -14,7 +14,8 @@
 #
 
 # set minimum version
-cmake_minimum_required(VERSION 2.6)
+cmake_minimum_required(VERSION 3.3)
+cmake_policy(SET CMP0025 NEW)
 
 project (RSTUDIO_CPP)
 
diff --git a/src/cpp/desktop/CMakeLists.txt b/src/cpp/desktop/CMakeLists.txt
index 7feb5ef..fa5f971 100644
--- a/src/cpp/desktop/CMakeLists.txt
+++ b/src/cpp/desktop/CMakeLists.txt
@@ -13,12 +13,13 @@
 #
 #
 
-cmake_minimum_required(VERSION 2.8.8)
+cmake_minimum_required(VERSION 3.3.0)
 
 project(DESKTOP)
 
-if(CMAKE_VERSION VERSION_GREATER "3.0.0")
+if(CMAKE_VERSION VERSION_GREATER "3.3.0")
    cmake_policy(SET CMP0043 NEW)
+   cmake_policy(SET CMP0025 NEW)
 endif()
 
 set(QT_VERSION_SUBDIR "5.10.1")
diff --git a/src/gwt/CMakeLists.txt b/src/gwt/CMakeLists.txt
index 5ac25ac..fcbc4d9 100644
--- a/src/gwt/CMakeLists.txt
+++ b/src/gwt/CMakeLists.txt
@@ -13,7 +13,8 @@
 #
 #
 
-cmake_minimum_required(VERSION 2.6)
+cmake_minimum_required(VERSION 3.3)
+cmake_policy(SET CMP0025 NEW)
 project (RSTUDIO_GWT)
 
 # check for externals
-- 
1.9.5 (Apple Git-50.3)

