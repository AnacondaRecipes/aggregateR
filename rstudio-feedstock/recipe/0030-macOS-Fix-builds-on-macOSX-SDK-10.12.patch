From 45ac40d8917484c313eb3130b2f6c9cd457fb4fc Mon Sep 17 00:00:00 2001
From: Ray Donnelly <mingw.android@gmail.com>
Date: Sun, 25 Mar 2018 15:50:38 +0100
Subject: [PATCH 30/44] macOS: Fix builds on macOSX SDK < 10.12

---
 src/cpp/desktop/DesktopUtilsMac.mm | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/src/cpp/desktop/DesktopUtilsMac.mm b/src/cpp/desktop/DesktopUtilsMac.mm
index 7697093f57..d92a3ca490 100644
--- a/src/cpp/desktop/DesktopUtilsMac.mm
+++ b/src/cpp/desktop/DesktopUtilsMac.mm
@@ -49,9 +49,11 @@ void initializeSystemPrefs()
    [defaults setBool:YES forKey:@"NSDisabledDictationMenuItem"];
    [defaults setBool:YES forKey:@"NSDisabledCharacterPaletteMenuItem"];
 
+#if __MAC_OS_X_VERSION_MAX_ALLOWED >= 101200
    // Remove (don't allow) the "Show Tab Bar" menu item from the "View" menu, if supported
    if ([NSWindow respondsToSelector:@selector(allowsAutomaticWindowTabbing)])
       NSWindow.allowsAutomaticWindowTabbing = NO;
+#endif
 
    // Remove the "Enter Full Screen" menu item from the "View" menu
    [defaults setBool:NO forKey:@"NSFullScreenMenuItemEverywhere"];
-- 
2.16.1

