{% set version = '0.1.2' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-altopt
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/ALTopt_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/ALTopt/ALTopt_{{ version }}.tar.gz
  sha256: 237459315bbb6224c71b1efc8f9474592e05f2e90ff781a679525595a3dd6bd9

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip
  noarch: generic

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

requirements:
  build:
    - {{ posix }}zip               # [win]

  host:
    - r-base
    - r-cubature >=1.0
    - r-lattice >=0.20

  run:
    - r-base
    - r-cubature >=1.0
    - r-lattice >=0.20

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('ALTopt')"           # [not win]
    - "\"%R%\" -e \"library('ALTopt')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: https://CRAN.R-project.org/package=ALTopt
  license: GPL-3
  summary: Creates the optimal (D, U and I) designs for the accelerated life testing with right
    censoring or interval censoring. It uses generalized linear model (GLM) approach
    to derive the asymptotic variance-covariance matrix of regression coefficients.
    The failure time distribution is assumed to follow Weibull distribution with a known
    shape parameter and log-linear link functions are used to model the relationship
    between failure time parameters and stress variables. The acceleration model may
    have multiple stress factors, although most ALTs involve only two or less stress
    factors. ALTopt package also provides several plotting functions including contour
    plot, Fraction of Use Space (FUS) plot and Variance Dispersion graphs of Use Space
    (VDUS) plot. For more details, see Seo and Pan (2015) <doi:10.32614/RJ-2015-029>.
  license_family: GPL3
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-3'

extra:
  recipe-maintainers:
    - katietz

# The original CRAN metadata for this package was:

# Package: ALTopt
# Title: Optimal Experimental Designs for Accelerated Life Testing
# Version: 0.1.2
# Authors@R: c(person("Kangwon", "Seo", role = c("aut", "cre"), email = "seoka@missouri.edu"), person("Rong", "Pan", role =  "aut", email = "rong.pan@asu.edu"))
# Description: Creates the optimal (D, U and I) designs for the accelerated life testing with right censoring or interval censoring. It uses generalized linear model (GLM) approach to derive the asymptotic variance-covariance matrix of regression coefficients. The failure time distribution is assumed to follow Weibull distribution with a known shape parameter and log-linear link functions are used to model the relationship between failure time parameters and stress variables. The acceleration model may have multiple stress factors, although most ALTs involve only two or less stress factors. ALTopt package also provides several plotting functions including contour plot, Fraction of Use Space (FUS) plot and Variance Dispersion graphs of Use Space (VDUS) plot. For more details, see Seo and Pan (2015) <doi:10.32614/RJ-2015-029>.
# Depends: R (>= 3.0.0)
# License: GPL-3
# LazyData: true
# Imports: cubature (>= 1.0), lattice (>= 0.20), methods
# RoxygenNote: 7.0.2
# NeedsCompilation: no
# Packaged: 2019-12-12 22:24:17 UTC; seoka
# Author: Kangwon Seo [aut, cre], Rong Pan [aut]
# Maintainer: Kangwon Seo <seoka@missouri.edu>
# Repository: CRAN
# Date/Publication: 2019-12-12 23:10:02 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
