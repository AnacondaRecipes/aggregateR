{% set version = '0.4.4' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-lgr
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/lgr_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/lgr/lgr_{{ version }}.tar.gz
  sha256: 8c4011e34fa1ca42df88f64028e90c4ef9ce76c0e133eac1052c30cb0cdfa127

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip
  noarch: generic

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

# Suggests: cli, covr, crayon, data.table, desc, future, future.apply, glue, jsonlite, knitr, rmarkdown, rotor (>= 0.3.5), rprojroot, testthat, tibble, tools, utils, whoami, yaml
requirements:
  build:
    - {{ posix }}zip               # [win]

  host:
    - r-base
    - r-r6 >=2.4.0

  run:
    - r-base
    - r-r6 >=2.4.0

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('lgr')"           # [not win]
    - "\"%R%\" -e \"library('lgr')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: https://s-fleck.github.io/lgr/
  license: MIT
  summary: A flexible, feature-rich yet light-weight logging framework based on 'R6' classes.
    It supports hierarchical loggers, custom log levels, arbitrary data fields in log
    events, logging to plaintext, 'JSON', (rotating) files, memory buffers. For extra
    appenders that support logging to databases, email and push notifications see the
    the package lgr.app.
  license_family: MIT
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/MIT'
    - LICENSE

extra:
  recipe-maintainers:
    - katietz

# The original CRAN metadata for this package was:

# Type: Package
# Package: lgr
# Title: A Fully Featured Logging Framework
# Version: 0.4.4
# Authors@R: person(given = "Stefan", family = "Fleck", role = c("aut", "cre"), email = "stefan.b.fleck@gmail.com", comment = c(ORCID = "0000-0003-3344-9851"))
# Maintainer: Stefan Fleck <stefan.b.fleck@gmail.com>
# Description: A flexible, feature-rich yet light-weight logging framework based on 'R6' classes. It supports hierarchical loggers, custom log levels, arbitrary data fields in log events, logging to plaintext, 'JSON', (rotating) files, memory buffers. For extra appenders that support logging to databases, email and push notifications see the the package lgr.app.
# License: MIT + file LICENSE
# URL: https://s-fleck.github.io/lgr/
# BugReports: https://github.com/s-fleck/lgr/issues/
# Depends: R (>= 3.2.0)
# Imports: R6 (>= 2.4.0)
# Suggests: cli, covr, crayon, data.table, desc, future, future.apply, glue, jsonlite, knitr, rmarkdown, rotor (>= 0.3.5), rprojroot, testthat, tibble, tools, utils, whoami, yaml
# VignetteBuilder: knitr
# Encoding: UTF-8
# RoxygenNote: 7.2.1.9000
# Collate: 'Filterable.R' 'utils-sfmisc.R' 'utils.R' 'Appender.R' 'Filter.R' 'log_levels.R' 'LogEvent.R' 'Layout.R' 'Logger.R' 'basic_config.R' 'default_functions.R' 'event_list.R' 'get_logger.R' 'lgr-package.R' 'logger_config.R' 'logger_index.R' 'logger_tree.R' 'read_json_lines.R' 'simple_logging.R' 'string_repr.R' 'use_logger.R' 'utils-formatting.R' 'utils-logging.R' 'utils-rd.R' 'utils-rotor.R'
# NeedsCompilation: no
# Packaged: 2022-09-05 21:01:13 UTC; stefan.fleck
# Author: Stefan Fleck [aut, cre] (<https://orcid.org/0000-0003-3344-9851>)
# Repository: CRAN
# Date/Publication: 2022-09-05 22:00:02 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
