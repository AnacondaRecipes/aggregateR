{% set version = '2.2.1-7' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-runjags
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/runjags_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/runjags/runjags_{{ version }}.tar.gz
  sha256: e81fdb15e59cdceda125d6ae7cf0cde93361ba80b123d51afd1ecdc993f25016

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

# Suggests: rjags (>= 4-7), modeest, testthat (>= 3.0.0), knitr, markdown, spelling
requirements:
  build:
    - {{ compiler('c') }}              # [not win]
    - {{ compiler('m2w64_c') }}        # [win]
    - {{ compiler('cxx') }}            # [not win]
    - {{ compiler('m2w64_cxx') }}      # [win]
    - {{ posix }}filesystem        # [win]
    - {{ posix }}sed               # [win]
    - {{ posix }}grep              # [win]
    - {{ posix }}autoconf
    - {{ posix }}automake          # [not win]
    - {{ posix }}automake-wrapper  # [win]
    - {{ posix }}pkg-config
    - {{ posix }}make
    - {{ posix }}coreutils         # [win]
    - {{ posix }}zip               # [win]

  host:
    - r-base
    - r-coda >=0.17_1
    - r-lattice >=0.20_10
    - jags

  run:
    - r-base
    - {{native}}gcc-libs         # [win]
    - r-coda >=0.17_1
    - r-lattice >=0.20_10
    - jags

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('runjags')"           # [not win]
    - "\"%R%\" -e \"library('runjags')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: https://github.com/ku-awdc/runjags
  license: GPL-2
  summary: User-friendly interface utilities for MCMC models via Just Another Gibbs Sampler (JAGS),
    facilitating the use of parallel (or distributed) processors for multiple chains,
    automated control of convergence and sample length diagnostics, and evaluation of
    the performance of a model using drop-k validation or against simulated data. Template
    model specifications can be generated using a standard lme4-style formula interface
    to assist users less familiar with the BUGS syntax.  A JAGS extension module provides
    additional distributions including the Pareto family of distributions, the DuMouchel
    prior and the half-Cauchy prior.
  license_family: GPL2
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-2'

extra:
  recipe-maintainers:
    - katietz

# The original CRAN metadata for this package was:

# Package: runjags
# Title: Interface Utilities, Model Templates, Parallel Computing Methods and Additional Distributions for MCMC Models in JAGS
# Version: 2.2.1-7
# Date: 2022-04-15
# Authors@R: c(person("Matthew", "Denwood", role=c("aut","cre"), email="md@sund.ku.dk"), person("Martyn", "Plummer", role="cph", comment="Copyright holder of the code in src/distributions/DPar1.*, configure.ac, R/rjags_functions.R, and original copyright holder of some modified code where indicated"))
# Description: User-friendly interface utilities for MCMC models via Just Another Gibbs Sampler (JAGS), facilitating the use of parallel (or distributed) processors for multiple chains, automated control of convergence and sample length diagnostics, and evaluation of the performance of a model using drop-k validation or against simulated data. Template model specifications can be generated using a standard lme4-style formula interface to assist users less familiar with the BUGS syntax.  A JAGS extension module provides additional distributions including the Pareto family of distributions, the DuMouchel prior and the half-Cauchy prior.
# URL: https://github.com/ku-awdc/runjags
# BugReports: https://github.com/ku-awdc/runjags/issues
# License: GPL-2
# Encoding: UTF-8
# RoxygenNote: 7.1.2
# SystemRequirements: JAGS >= 4.3.0 (https://mcmc-jags.sourceforge.io/)
# Depends: R (>= 2.14.0)
# Imports: parallel, lattice (>= 0.20-10), coda (>= 0.17-1), stats, utils
# Suggests: rjags (>= 4-7), modeest, testthat (>= 3.0.0), knitr, markdown, spelling
# Config/testthat/edition: 3
# VignetteBuilder: knitr
# Language: en-GB
# NeedsCompilation: yes
# Packaged: 2022-04-15 08:30:29 UTC; matthewdenwood
# Author: Matthew Denwood [aut, cre], Martyn Plummer [cph] (Copyright holder of the code in src/distributions/DPar1.*, configure.ac, R/rjags_functions.R, and original copyright holder of some modified code where indicated)
# Maintainer: Matthew Denwood <md@sund.ku.dk>
# Repository: CRAN
# Date/Publication: 2022-04-15 09:30:02 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
