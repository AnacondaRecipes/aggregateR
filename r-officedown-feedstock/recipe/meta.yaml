{% set version = '0.3.1' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-officedown
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/officedown_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/officedown/officedown_{{ version }}.tar.gz
  sha256: 1f41167f542e3d8938761756586d196eb4c3fc8fcf024fa23d1fcd65336cb17a

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip
  noarch: generic

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

# Suggests: ggplot2, flextable (>= 0.7.0), bookdown (>= 0.13), testthat (>= 3.0.0), doconv (>= 0.3.0)
requirements:
  build:
    - {{ posix }}zip               # [win]

  host:
    - r-base
    - r-knitr
    - r-memoise
    - r-officer >=0.5.1
    - r-rlang
    - r-rmarkdown
    - r-rvg >=0.2.2
    - r-uuid
    - r-xml2
    - r-yaml

  run:
    - r-base
    - r-knitr
    - r-memoise
    - r-officer >=0.5.1
    - r-rlang
    - r-rmarkdown
    - r-rvg >=0.2.2
    - r-uuid
    - r-xml2
    - r-yaml

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('officedown')"           # [not win]
    - "\"%R%\" -e \"library('officedown')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: https://ardata-fr.github.io/officeverse/, https://davidgohel.github.io/officedown/
  license: MIT
  summary: Allows production of 'Microsoft' corporate documents from 'R Markdown' by reusing
    formatting defined in 'Microsoft Word' documents. You can reuse table styles, list
    styles but also add column sections, landscape oriented pages. Table and image captions
    as well as cross-references are transformed into 'Microsoft Word' fields, allowing
    documents edition and merging without issue with references; the syntax conforms
    to the 'bookdown' cross-reference definition. Objects generated by the 'officer'
    package are also supported in the 'knitr' chunks. 'Microsoft PowerPoint' presentations
    also benefit from this as well as the ability to produce editable vector graphics
    in 'PowerPoint' and also to define placeholder where content is to be added.
  license_family: MIT
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/MIT'
    - LICENSE

# The original CRAN metadata for this package was:

# Package: officedown
# Type: Package
# Title: Enhanced 'R Markdown' Format for 'Word' and 'PowerPoint'
# Version: 0.3.1
# Authors@R: c( person("David", "Gohel", role = c("aut", "cre", "cph"), email = "david.gohel@ardata.fr"), person(given = "ArData", role = "cph"), person(given = "Institut fur Qualitatssicherung und Transparenz im Gesundheitswesen", role = c("fnd")), person("Noam", "Ross", role = c("aut"), email = 'noam.ross@gmail.com', comment = "rmarkdown implementation for rvg"), person(given = "ArData", role = "cph"), person("Martin", "Camitz", role = c("ctb"), email = 'martin.camitz@gmail.com') )
# Description: Allows production of 'Microsoft' corporate documents from 'R Markdown' by reusing formatting defined in 'Microsoft Word' documents. You can reuse table styles, list styles but also add column sections, landscape oriented pages. Table and image captions as well as cross-references are transformed into 'Microsoft Word' fields, allowing documents edition and merging without issue with references; the syntax conforms to the 'bookdown' cross-reference definition. Objects generated by the 'officer' package are also supported in the 'knitr' chunks. 'Microsoft PowerPoint' presentations also benefit from this as well as the ability to produce editable vector graphics in 'PowerPoint' and also to define placeholder where content is to be added.
# License: MIT + file LICENSE
# Encoding: UTF-8
# Imports: knitr, rmarkdown, officer (>= 0.5.1), xml2, rlang, uuid, grDevices, yaml, utils, memoise, rvg (>= 0.2.2)
# Suggests: ggplot2, flextable (>= 0.7.0), bookdown (>= 0.13), testthat (>= 3.0.0), doconv (>= 0.3.0)
# URL: https://ardata-fr.github.io/officeverse/, https://davidgohel.github.io/officedown/
# BugReports: https://github.com/davidgohel/officedown/discussions
# RoxygenNote: 7.2.3
# SystemRequirements: pandoc (>= 2.0) - http://pandoc.org
# VignetteBuilder: knitr
# Config/testthat/edition: 3
# NeedsCompilation: no
# Packaged: 2023-09-02 16:53:22 UTC; davidgohel
# Author: David Gohel [aut, cre, cph], ArData [cph], Institut fur Qualitatssicherung und Transparenz im Gesundheitswesen [fnd], Noam Ross [aut] (rmarkdown implementation for rvg), ArData [cph], Martin Camitz [ctb]
# Maintainer: David Gohel <david.gohel@ardata.fr>
# Repository: CRAN
# Date/Publication: 2023-09-02 17:10:02 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
