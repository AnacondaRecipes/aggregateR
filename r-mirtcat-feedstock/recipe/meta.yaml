{% set version = '1.13' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-mirtcat
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/mirtCAT_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/mirtCAT/mirtCAT_{{ version }}.tar.gz
  sha256: 7ae59ba1fd443608e53c197bcc01d5613697e242e34b5c81936a482ef9489bee

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

# Suggests: shinythemes, parallel, knitr
requirements:
  build:
    - {{ compiler('c') }}              # [not win]
    - {{ compiler('m2w64_c') }}        # [win]
    - {{ compiler('cxx') }}            # [not win]
    - {{ compiler('m2w64_cxx') }}      # [win]
    - {{ posix }}filesystem        # [win]
    - {{ posix }}make
    - {{ posix }}sed               # [win]
    - {{ posix }}coreutils         # [win]
    - {{ posix }}zip               # [win]

  host:
    - r-base
    - r-rcpp
    - r-rcpparmadillo
    - r-lattice
    - r-lpsolve
    - r-markdown
    - r-mirt >=1.37
    - r-pbapply
    - r-shiny >=1.0.1

  run:
    - r-base
    - {{native}}gcc-libs         # [win]
    - r-rcpp
    - r-rcpparmadillo
    - r-lattice
    - r-lpsolve
    - r-markdown
    - r-mirt >=1.37
    - r-pbapply
    - r-shiny >=1.0.1

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('mirtCAT')"           # [not win]
    - "\"%R%\" -e \"library('mirtCAT')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: https://github.com/philchalmers/mirtCAT, https://github.com/philchalmers/mirtCAT/wiki,
    https://groups.google.com/forum/#!forum/mirt-package
  license: GPL-3
  summary: Provides tools to generate HTML interfaces for adaptive and non-adaptive tests using
    the shiny package (Chalmers (2016) <doi:10.18637/jss.v071.i05>). Suitable for applying
    unidimensional and multidimensional computerized adaptive tests (CAT) using item
    response theory methodology and for creating simple questionnaires forms to collect
    response data directly in R. Additionally, optimal test designs (e.g., "shadow testing")
    are supported for tests that contain a large number of item selection constraints.
    Finally, package contains tools useful for performing Monte Carlo simulations for
    studying test item banks.
  license_family: GPL3
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-3'

# The original CRAN metadata for this package was:

# Package: mirtCAT
# Version: 1.13
# Type: Package
# Title: Computerized Adaptive Testing with Multidimensional Item Response Theory
# Authors@R: c(person("Phil", family="Chalmers", email = "rphilip.chalmers@gmail.com", role = c("aut", "cre"), comment = c(ORCID="0000-0001-5332-2810")), person("Magnus",family="Nordmo",email = "magnus.nordmo@psykologi.uio.no", role = "ctb", comment = c(ORCID="0000-0002-1977-1038")))
# Description: Provides tools to generate HTML interfaces for adaptive and non-adaptive tests using the shiny package (Chalmers (2016) <doi:10.18637/jss.v071.i05>). Suitable for applying unidimensional and multidimensional computerized adaptive tests (CAT) using item response theory methodology and for creating simple questionnaires forms to collect response data directly in R. Additionally, optimal test designs (e.g., "shadow testing") are supported for tests that contain a large number of item selection constraints. Finally, package contains tools useful for performing Monte Carlo simulations for studying test item banks.
# Depends: mirt (>= 1.37), shiny (>= 1.0.1)
# Imports: lattice, stats, Rcpp, methods, markdown, pbapply, lpSolve
# Suggests: shinythemes, parallel, knitr
# Encoding: UTF-8
# ByteCompile: yes
# LazyLoad: yes
# VignetteBuilder: knitr
# LinkingTo: Rcpp, RcppArmadillo
# License: GPL (>= 3)
# Repository: CRAN
# Maintainer: Phil Chalmers <rphilip.chalmers@gmail.com>
# URL: https://github.com/philchalmers/mirtCAT, https://github.com/philchalmers/mirtCAT/wiki, https://groups.google.com/forum/#!forum/mirt-package
# BugReports: https://github.com/philchalmers/mirtCAT/issues?state=open
# RoxygenNote: 7.2.3
# NeedsCompilation: yes
# Packaged: 2023-10-17 14:44:55 UTC; phil
# Author: Phil Chalmers [aut, cre] (<https://orcid.org/0000-0001-5332-2810>), Magnus Nordmo [ctb] (<https://orcid.org/0000-0002-1977-1038>)
# Date/Publication: 2023-10-17 16:00:03 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
