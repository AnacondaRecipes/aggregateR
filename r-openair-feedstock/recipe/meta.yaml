{% set version = '2.18-0' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-openair
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/openair_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/openair/openair_{{ version }}.tar.gz
  sha256: e06febbe421a6493dff0a3c05b894bb1fffdfb1c4fed576288974f5dae597cc3

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

# Suggests: KernSmooth, mapdata, maps, quantreg, spelling
requirements:
  build:
    - {{ compiler('c') }}              # [not win]
    - {{ compiler('m2w64_c') }}        # [win]
    - {{ compiler('cxx') }}            # [not win]
    - {{ compiler('m2w64_cxx') }}      # [win]
    - {{ posix }}filesystem        # [win]
    - {{ posix }}make
    - {{ posix }}sed               # [win]
    - {{ posix }}coreutils         # [win]
    - {{ posix }}zip               # [win]

  host:
    - r-base
    - r-mass
    - r-rcpp
    - r-cli
    - r-cluster
    - r-dplyr >=1.0
    - r-hexbin
    - r-lattice
    - r-latticeextra
    - r-lubridate
    - r-mapproj
    - r-mgcv
    - r-purrr >=1.0.0
    - r-readr
    - r-rlang
    - r-tibble
    - r-tidyr

  run:
    - r-base
    - {{native}}gcc-libs         # [win]
    - r-mass
    - r-rcpp
    - r-cli
    - r-cluster
    - r-dplyr >=1.0
    - r-hexbin
    - r-lattice
    - r-latticeextra
    - r-lubridate
    - r-mapproj
    - r-mgcv
    - r-purrr >=1.0.0
    - r-readr
    - r-rlang
    - r-tibble
    - r-tidyr

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('openair')"           # [not win]
    - "\"%R%\" -e \"library('openair')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: https://davidcarslaw.github.io/openair/, https://github.com/davidcarslaw/openair
  license: GPL-2
  summary: Tools to analyse, interpret and understand air pollution data. Data are typically
    regular time series and air quality measurement, meteorological data and dispersion
    model output can be analysed. The package is described in Carslaw and Ropkins (2012,
    <doi:10.1016/j.envsoft.2011.09.008>) and subsequent papers.
  license_family: GPL2
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-2'

# The original CRAN metadata for this package was:

# Type: Package
# Package: openair
# Title: Tools for the Analysis of Air Pollution Data
# Version: 2.18-0
# Date: 2023-10-05
# Authors@R: c( person("David", "Carslaw", , "david.carslaw@york.ac.uk", role = c("aut", "cre")), person("Jack", "Davison", , "jack.davison@ricardo.com", role = "aut"), person("Karl", "Ropkins", , "K.Ropkins@its.leeds.ac.uk", role = "aut") )
# Maintainer: David Carslaw <david.carslaw@york.ac.uk>
# Description: Tools to analyse, interpret and understand air pollution data. Data are typically regular time series and air quality measurement, meteorological data and dispersion model output can be analysed. The package is described in Carslaw and Ropkins (2012, <doi:10.1016/j.envsoft.2011.09.008>) and subsequent papers.
# License: GPL (>= 2)
# URL: https://davidcarslaw.github.io/openair/, https://github.com/davidcarslaw/openair
# BugReports: https://github.com/davidcarslaw/openair/issues
# Depends: R (>= 3.2.0)
# Imports: cli, cluster, dplyr (>= 1.0), graphics, grDevices, grid, hexbin, lattice, latticeExtra, lubridate, mapproj, MASS, methods, mgcv, purrr (>= 1.0.0), Rcpp, readr, rlang, stats, tibble, tidyr, utils
# Suggests: KernSmooth, mapdata, maps, quantreg, spelling
# LinkingTo: Rcpp
# ByteCompile: true
# Encoding: UTF-8
# Language: en-GB
# LazyData: yes
# LazyLoad: yes
# RoxygenNote: 7.2.3
# NeedsCompilation: yes
# Packaged: 2023-10-05 11:28:35 UTC; davidcarslaw
# Author: David Carslaw [aut, cre], Jack Davison [aut], Karl Ropkins [aut]
# Repository: CRAN
# Date/Publication: 2023-10-09 14:10:05 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
