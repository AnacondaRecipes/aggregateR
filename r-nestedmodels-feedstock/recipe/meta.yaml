{% set version = '1.1.0' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-nestedmodels
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/nestedmodels_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/nestedmodels/nestedmodels_{{ version }}.tar.gz
  sha256: ae26d80ca548b0eec1f84477dfc9e2eca8ecad2a517375208d63f751d9770d27

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip
  noarch: generic

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

# Suggests: broom, covr, doParallel, ggrepel, glmnet, glue, hardhat, knitr, parallel, patchwork, rmarkdown, roxygen2, testthat (>= 3.0.0), tidyselect, tune, utils, vdiffr, withr, workflows
requirements:
  build:
    - {{ posix }}zip               # [win]

  host:
    - r-base
    - r-cli
    - r-dplyr
    - r-foreach
    - r-generics
    - r-ggplot2
    - r-lifecycle
    - r-magrittr
    - r-parsnip
    - r-purrr
    - r-recipes
    - r-rlang >=0.4.11
    - r-rsample
    - r-stringr
    - r-tibble
    - r-tidyr >0.8.99
    - r-vctrs

  run:
    - r-base
    - r-cli
    - r-dplyr
    - r-foreach
    - r-generics
    - r-ggplot2
    - r-lifecycle
    - r-magrittr
    - r-parsnip
    - r-purrr
    - r-recipes
    - r-rlang >=0.4.11
    - r-rsample
    - r-stringr
    - r-tibble
    - r-tidyr >0.8.99
    - r-vctrs

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('nestedmodels')"           # [not win]
    - "\"%R%\" -e \"library('nestedmodels')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: https://github.com/ashbythorpe/nestedmodels, https://ashbythorpe.github.io/nestedmodels/
  license: MIT
  summary: A modelling framework for nested data using the 'tidymodels' ecosystem. Specify how
    to nest data using the 'recipes' package, create testing and training splits using
    'rsample', and fit models to this data using the 'parsnip' and 'workflows' packages.
    Allows any model to be fit to nested data.
  license_family: MIT
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/MIT'
    - LICENSE

# The original CRAN metadata for this package was:

# Package: nestedmodels
# Title: Tidy Modelling for Nested Data
# Version: 1.1.0
# Authors@R: c( person("Ashby", "Thorpe", , "ashbythorpe@gmail.com", role = c("aut", "cre"), comment = c(ORCID = "0000-0003-3106-099X")), person("Hadley", "Wickham", , "hadley@rstudio.com", role = "ctb", comment = c(ORCID = "0000-0003-4757-117X")))
# Description: A modelling framework for nested data using the 'tidymodels' ecosystem. Specify how to nest data using the 'recipes' package, create testing and training splits using 'rsample', and fit models to this data using the 'parsnip' and 'workflows' packages. Allows any model to be fit to nested data.
# License: MIT + file LICENSE
# URL: https://github.com/ashbythorpe/nestedmodels, https://ashbythorpe.github.io/nestedmodels/
# BugReports: https://github.com/ashbythorpe/nestedmodels/issues
# Depends: R (>= 2.10)
# Imports: cli, dplyr, foreach, generics, ggplot2, lifecycle, magrittr, parsnip, purrr, recipes, rlang (>= 0.4.11), rsample, stats, stringr, tibble, tidyr (> 0.8.99), vctrs
# Suggests: broom, covr, doParallel, ggrepel, glmnet, glue, hardhat, knitr, parallel, patchwork, rmarkdown, roxygen2, testthat (>= 3.0.0), tidyselect, tune, utils, vdiffr, withr, workflows
# VignetteBuilder: knitr
# Config/testthat/edition: 3
# Encoding: UTF-8
# Language: en-GB
# LazyData: true
# RoxygenNote: 7.2.3
# NeedsCompilation: no
# Packaged: 2023-09-30 10:40:39 UTC; ashbythorpe
# Author: Ashby Thorpe [aut, cre] (<https://orcid.org/0000-0003-3106-099X>), Hadley Wickham [ctb] (<https://orcid.org/0000-0003-4757-117X>)
# Maintainer: Ashby Thorpe <ashbythorpe@gmail.com>
# Repository: CRAN
# Date/Publication: 2023-09-30 11:00:02 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
