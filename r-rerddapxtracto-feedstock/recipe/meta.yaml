{% set version = '1.1.7' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-rerddapxtracto
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/rerddapXtracto_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/rerddapXtracto/rerddapXtracto_{{ version }}.tar.gz
  sha256: a4008f761684c6ea549d856a7e5fdb9724ebf38de82990577f62758d54fcdf7f

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip
  noarch: generic

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

# Suggests: cmocean, gganimate, knitr, mapdata, rmarkdown
requirements:
  build:
    - {{ posix }}zip               # [win]

  host:
    - r-base
    - r-abind
    - r-dplyr
    - r-ggplot2
    - r-httr
    - r-maps
    - r-ncdf4
    - r-parsedate
    - r-plotdap >=0.0.5
    - r-readr
    - r-rerddap >=0.8.0
    - r-sf
    - r-sp

  run:
    - r-base
    - r-abind
    - r-dplyr
    - r-ggplot2
    - r-httr
    - r-maps
    - r-ncdf4
    - r-parsedate
    - r-plotdap >=0.0.5
    - r-readr
    - r-rerddap >=0.8.0
    - r-sf
    - r-sp

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('rerddapXtracto')"           # [not win]
    - "\"%R%\" -e \"library('rerddapXtracto')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: https://github.com/rmendels/rerddapXtracto
  license: CC0
  summary: Contains three functions that access environmental data from any 'ERDDAP' data web
    service. The rxtracto() function extracts data along a trajectory for a given "radius"
    around the point. The rxtracto_3D() function extracts data in a box. The rxtractogon()
    function extracts data in a polygon. All of those three function use the 'rerddap'
    package to extract the data, and should work with any 'ERDDAP' server. There are
    also two functions, plotBBox() and plotTrack() that use the 'plotdap' package to
    simplify the creation of maps of the data.
  license_family: CC

# The original CRAN metadata for this package was:

# Package: rerddapXtracto
# Type: Package
# Title: Extracts Environmental Data from 'ERDDAP' Web Services
# Version: 1.1.7
# Date: 2023-10-18
# Authors@R: c( person("Roy", "Mendelssohn", email = "roy.mendelssohn@noaa.gov", role = c("aut","cre")), person("Marie", "Auger-Methe", role = "ctb") )
# Description: Contains three functions that access environmental data from any 'ERDDAP' data web service. The rxtracto() function extracts data along a trajectory for a given "radius" around the point. The rxtracto_3D() function extracts data in a box. The rxtractogon() function extracts data in a polygon. All of those three function use the 'rerddap' package to extract the data, and should work with any 'ERDDAP' server. There are also two functions, plotBBox() and plotTrack() that use the 'plotdap' package to simplify the creation of maps of the data.
# URL: https://github.com/rmendels/rerddapXtracto
# BugReports: https://github.com/rmendels/rerddapXtracto/issues
# Depends: R(>= 4.0.0)
# License: CC0
# Imports: abind, dplyr, ggplot2, httr, maps, methods, ncdf4, parsedate, plotdap (>= 0.0.5), readr, rerddap (>= 0.8.0), sf, sp, stats, utils
# Suggests: cmocean, gganimate, knitr, mapdata, rmarkdown
# RoxygenNote: 7.2.3
# Encoding: UTF-8
# LazyData: TRUE
# VignetteBuilder: knitr
# NeedsCompilation: no
# Packaged: 2023-10-18 17:18:45 UTC; rmendels
# Author: Roy Mendelssohn [aut, cre], Marie Auger-Methe [ctb]
# Maintainer: Roy Mendelssohn <roy.mendelssohn@noaa.gov>
# Repository: CRAN
# Date/Publication: 2023-10-18 17:40:02 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
