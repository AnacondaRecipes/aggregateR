{% set version = '0.7.0' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-jfa
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/jfa_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/jfa/jfa_{{ version }}.tar.gz
  sha256: a748c6521121c989a87af0631871903c7418b9cb9f5da87646fee61bc479d794

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

# Suggests: benford.analysis (>= 0.1.5), BenfordTests (>= 1.2.0), BeyondBenford (>= 1.4), fairness, kableExtra (>= 1.3.4), knitr, MUS (>= 0.1.6), rmarkdown, samplingbook (>= 1.2.4), testthat
requirements:
  build:
    - {{ compiler('c') }}              # [not win]
    - {{ compiler('m2w64_c') }}        # [win]
    - {{ compiler('cxx') }}            # [not win]
    - {{ compiler('m2w64_cxx') }}      # [win]
    - {{ posix }}filesystem        # [win]
    - {{ posix }}sed               # [win]
    - {{ posix }}grep              # [win]
    - {{ posix }}autoconf
    - {{ posix }}automake          # [not win]
    - {{ posix }}automake-wrapper  # [win]
    - {{ posix }}pkg-config
    - {{ posix }}make
    - {{ posix }}coreutils         # [win]
    - {{ posix }}zip               # [win]

  host:
    - r-base
    - r-bh >=1.66.0
    - r-rcpp >=0.12.0
    - r-rcppeigen >=0.3.3.3.0
    - r-rcppparallel >=5.0.1
    - r-stanheaders >=2.26.0
    - r-bde >=1.0.1.1
    - r-extradistr >=1.9.1
    - r-ggplot2 >=3.4.2
    - r-rstan >=2.26.0
    - r-rstantools >=2.2.0
    - r-truncdist >=1.0_2

  run:
    - r-base
    - {{native}}gcc-libs         # [win]
    - r-bh >=1.66.0
    - r-rcpp >=0.12.0
    - r-rcppeigen >=0.3.3.3.0
    - r-rcppparallel >=5.0.1
    - r-stanheaders >=2.26.0
    - r-bde >=1.0.1.1
    - r-extradistr >=1.9.1
    - r-ggplot2 >=3.4.2
    - r-rstan >=2.26.0
    - r-rstantools >=2.2.0
    - r-truncdist >=1.0_2

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('jfa')"           # [not win]
    - "\"%R%\" -e \"library('jfa')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: https://koenderks.github.io/jfa/, https://github.com/koenderks/jfa
  license: GPL-3
  summary: Provides statistical methods for auditing as implemented in JASP for Audit (Derks
    et al., 2021 <doi:10.21105/joss.02733>). First, the package makes it easy for an
    auditor to plan a statistical sample, select the sample from the population, and
    evaluate the misstatement in the sample compliant with international auditing standards.
    Second, the package provides statistical methods for auditing data, including tests
    of digit distributions and repeated values. Finally, the package includes methods
    for auditing algorithms on the aspect of fairness and bias. Next to classical statistical
    methodology, the package implements Bayesian equivalents of these methods whose
    statistical underpinnings are described in Derks et al. (2021) <doi:10.1111/ijau.12240>,
    Derks et al. (2021) <doi:10.31234/osf.io/kzqp5>, and Derks et al. (2022) <doi:10.31234/osf.io/8nf3e>.
  license_family: GPL3
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-3'

# The original CRAN metadata for this package was:

# Package: jfa
# Title: Statistical Methods for Auditing
# Version: 0.7.0
# Date: 2023-10-04
# Authors@R: person(given = "Koen", family = "Derks", role = c("aut", "cre"), email = "k.derks@nyenrode.nl", comment = c(ORCID = '0000-0002-5533-9349'))
# Description: Provides statistical methods for auditing as implemented in JASP for Audit (Derks et al., 2021 <doi:10.21105/joss.02733>). First, the package makes it easy for an auditor to plan a statistical sample, select the sample from the population, and evaluate the misstatement in the sample compliant with international auditing standards. Second, the package provides statistical methods for auditing data, including tests of digit distributions and repeated values. Finally, the package includes methods for auditing algorithms on the aspect of fairness and bias. Next to classical statistical methodology, the package implements Bayesian equivalents of these methods whose statistical underpinnings are described in Derks et al. (2021) <doi:10.1111/ijau.12240>, Derks et al. (2021) <doi:10.31234/osf.io/kzqp5>, and Derks et al. (2022) <doi:10.31234/osf.io/8nf3e>.
# Depends: R (>= 3.5.0)
# Imports: bde (>= 1.0.1.1), extraDistr (>= 1.9.1), ggplot2 (>= 3.4.2), methods, Rcpp (>= 0.12.0), RcppParallel (>= 5.0.1), rstan (>= 2.26.0), rstantools (>= 2.2.0), stats, truncdist (>= 1.0-2)
# Suggests: benford.analysis (>= 0.1.5), BenfordTests (>= 1.2.0), BeyondBenford (>= 1.4), fairness, kableExtra (>= 1.3.4), knitr, MUS (>= 0.1.6), rmarkdown, samplingbook (>= 1.2.4), testthat
# LinkingTo: BH (>= 1.66.0), Rcpp (>= 0.12.0), RcppEigen (>= 0.3.3.3.0), RcppParallel (>= 5.0.1), rstan (>= 2.26.0), StanHeaders (>= 2.26.0)
# VignetteBuilder: knitr
# URL: https://koenderks.github.io/jfa/, https://github.com/koenderks/jfa
# BugReports: https://github.com/koenderks/jfa/issues
# License: GPL (>= 3)
# Encoding: UTF-8
# LazyData: true
# NeedsCompilation: yes
# SystemRequirements: C++17, GNU make
# Language: en-US
# RoxygenNote: 7.2.3
# Biarch: true
# Packaged: 2023-10-04 14:24:50 UTC; koenderks
# Author: Koen Derks [aut, cre] (<https://orcid.org/0000-0002-5533-9349>)
# Maintainer: Koen Derks <k.derks@nyenrode.nl>
# Repository: CRAN
# Date/Publication: 2023-10-04 14:50:02 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
