{% set version = '3.1.2' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-autostsm
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/autostsm_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/autostsm/autostsm_{{ version }}.tar.gz
  sha256: ccecc4922082c624f9b464b5441c94abba3fb381ad25243cd977b2e559dfda16

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip
  noarch: generic

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

# Suggests: knitr, rmarkdown, testthat
requirements:
  build:
    - {{ posix }}zip               # [win]

  host:
    - r-base
    - r-data.table >=1.14
    - r-dosnow >=1.0.19
    - r-foreach >=1.5
    - r-forecast >=8.15
    - r-ggplot2 >=3.3
    - r-ggrepel >=0.9
    - r-gridextra >=2.3
    - r-kalmanfilter >=2.0.1
    - r-lmtest >=0.9_38
    - r-lubridate >=1.7
    - r-maxlik >=1.5_2
    - r-progress >=1.2
    - r-sandwich >=3.0
    - r-strucchange >=1.5

  run:
    - r-base
    - r-data.table >=1.14
    - r-dosnow >=1.0.19
    - r-foreach >=1.5
    - r-forecast >=8.15
    - r-ggplot2 >=3.3
    - r-ggrepel >=0.9
    - r-gridextra >=2.3
    - r-kalmanfilter >=2.0.1
    - r-lmtest >=0.9_38
    - r-lubridate >=1.7
    - r-maxlik >=1.5_2
    - r-progress >=1.2
    - r-sandwich >=3.0
    - r-strucchange >=1.5

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('autostsm')"           # [not win]
    - "\"%R%\" -e \"library('autostsm')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: https://CRAN.R-project.org/package=autostsm
  license: GPL-2
  summary: 'Automatic model selection for structural time series decomposition into trend, cycle,
    and seasonal components, plus optionality for structural interpolation, using the
    Kalman filter. Koopman, Siem Jan and Marius Ooms (2012) "Forecasting Economic Time
    Series Using Unobserved Components Time Series Models" <doi:10.1093/oxfordhb/9780195398649.013.0006>.
    Kim, Chang-Jin and Charles R. Nelson (1999) "State-Space Models with Regime Switching:
    Classical and Gibbs-Sampling Approaches with Applications" <doi:10.7551/mitpress/6444.001.0001><http://econ.korea.ac.kr/~cjkim/>.'
  license_family: GPL2
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-2'

# The original CRAN metadata for this package was:

# Package: autostsm
# Type: Package
# Title: Automatic Structural Time Series Models
# Version: 3.1.2
# Date: 2023-10-01
# Authors@R: c(person(given = "Alex", family = "Hubbard", role = c("aut", "cre"), email = "hubbard.alex@gmail.com"))
# Description: Automatic model selection for structural time series decomposition into trend, cycle, and seasonal components, plus optionality for structural interpolation, using the Kalman filter. Koopman, Siem Jan and Marius Ooms (2012) "Forecasting Economic Time Series Using Unobserved Components Time Series Models" <doi:10.1093/oxfordhb/9780195398649.013.0006>. Kim, Chang-Jin and Charles R. Nelson (1999) "State-Space Models with Regime Switching: Classical and Gibbs-Sampling Approaches with Applications" <doi:10.7551/mitpress/6444.001.0001><http://econ.korea.ac.kr/~cjkim/>.
# License: GPL (>= 2)
# Imports: maxLik (>= 1.5-2), forecast (>= 8.15), lubridate (>= 1.7), ggplot2 (>= 3.3), gridExtra (>= 2.3), strucchange (>= 1.5), foreach (>= 1.5), doSNOW (>= 1.0.19), parallel (>= 4.1.1), lmtest (>= 0.9-38), ggrepel(>= 0.9), progress (>= 1.2), sandwich (>= 3.0), data.table (>= 1.14), kalmanfilter (>= 2.0.1)
# RoxygenNote: 7.2.3
# Suggests: knitr, rmarkdown, testthat
# VignetteBuilder: knitr
# Encoding: UTF-8
# NeedsCompilation: no
# Packaged: 2023-09-25 20:43:40 UTC; alex.hubbard
# Author: Alex Hubbard [aut, cre]
# Maintainer: Alex Hubbard <hubbard.alex@gmail.com>
# Depends: R (>= 3.5.0)
# Repository: CRAN
# Date/Publication: 2023-09-25 21:50:02 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
