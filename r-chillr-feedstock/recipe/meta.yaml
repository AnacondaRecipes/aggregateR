{% set version = '0.73.1' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-chillr
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/chillR_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/chillR/chillR_{{ version }}.tar.gz
  sha256: d620aa6c10bb5a0bebe2116a98f5a0d5a5f155d6deba356755a82847ea087fb1

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

# Suggests: knitr, rmarkdown, testthat
requirements:
  build:
    - {{ compiler('c') }}              # [not win]
    - {{ compiler('m2w64_c') }}        # [win]
    - {{ compiler('cxx') }}            # [not win]
    - {{ compiler('m2w64_cxx') }}      # [win]
    - {{ posix }}filesystem        # [win]
    - {{ posix }}make
    - {{ posix }}sed               # [win]
    - {{ posix }}coreutils         # [win]
    - {{ posix }}zip               # [win]

  host:
    - r-base
    - r-gensa
    - r-kendall
    - r-r.utils
    - r-rcurl
    - r-rmawgen
    - r-rcpp
    - r-xml
    - r-assertthat
    - r-dplyr
    - r-fields
    - r-ggplot2
    - r-httr
    - r-jsonlite
    - r-metr
    - r-patchwork
    - r-pls
    - r-plyr
    - r-progress
    - r-raster
    - r-readxl
    - r-reshape2
    - r-rlang
    - r-scales
    - r-sp
    - r-stringr
    - r-tidyr

  run:
    - r-base
    - {{native}}gcc-libs         # [win]
    - r-gensa
    - r-kendall
    - r-r.utils
    - r-rcurl
    - r-rmawgen
    - r-rcpp
    - r-xml
    - r-assertthat
    - r-dplyr
    - r-fields
    - r-ggplot2
    - r-httr
    - r-jsonlite
    - r-metr
    - r-patchwork
    - r-pls
    - r-plyr
    - r-progress
    - r-raster
    - r-readxl
    - r-reshape2
    - r-rlang
    - r-scales
    - r-sp
    - r-stringr
    - r-tidyr

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('chillR')"           # [not win]
    - "\"%R%\" -e \"library('chillR')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: https://CRAN.R-project.org/package=chillR
  license: GPL-3
  summary: The phenology of plants (i.e. the timing of their annual life phases) depends on climatic
    cues. For temperate trees and many other plants, spring phases, such as leaf emergence
    and flowering, have been found to result from the effects of both cool (chilling)
    conditions and heat. Fruit tree scientists (pomologists) have developed some metrics
    to quantify chilling and heat (e.g. see Luedeling (2012) <doi:10.1016/j.scienta.2012.07.011>).
    'chillR' contains functions for processing temperature records into chilling (Chilling
    Hours, Utah Chill Units and Chill Portions) and heat units (Growing Degree Hours).
    Regarding chilling metrics, Chill Portions are often considered the most promising,
    but they are difficult to calculate. This package makes it easy. 'chillR' also contains
    procedures for conducting a PLS analysis relating phenological dates (e.g. bloom
    dates) to either mean temperatures or mean chill and heat accumulation rates, based
    on long-term weather and phenology records (Luedeling and Gassner (2012) <doi:10.1016/j.agrformet.2011.10.020>).
    As of version 0.65, it also includes functions for generating weather scenarios
    with a weather generator, for conducting climate change analyses for temperature-based
    climatic metrics and for plotting results from such analyses. Since version 0.70,
    'chillR' contains a function for interpolating hourly temperature records.
  license_family: GPL3
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-3'

# The original CRAN metadata for this package was:

# Package: chillR
# Type: Package
# Title: Statistical Methods for Phenology Analysis in Temperate Fruit Trees
# Version: 0.73.1
# Date: 2023-08-11
# Authors@R: c(person(given = "Eike", family = "Luedeling", role = c("aut", "cre"), email = "eike@eikeluedeling.com", comment = c(ORCID = "0000-0002-7316-3631")), person(given = "Lars", family = "Caspersen", role = c("aut"), email = "lcaspers@uni-bonn.de", comment = c(ORCID = "0009-0000-3057-7327")), person(given = "Eduardo", family = "Fernandez", role = c("aut"), email = "eduardo.fernandez.c@pucv.cl", comment = c(ORCID = "0000-0002-6949-9685")))
# Description: The phenology of plants (i.e. the timing of their annual life phases) depends on climatic cues. For temperate trees and many other plants, spring phases, such as leaf emergence and flowering, have been found to result from the effects of both cool (chilling) conditions and heat. Fruit tree scientists (pomologists) have developed some metrics to quantify chilling and heat (e.g. see Luedeling (2012) <doi:10.1016/j.scienta.2012.07.011>). 'chillR' contains functions for processing temperature records into chilling (Chilling Hours, Utah Chill Units and Chill Portions) and heat units (Growing Degree Hours). Regarding chilling metrics, Chill Portions are often considered the most promising, but they are difficult to calculate. This package makes it easy. 'chillR' also contains procedures for conducting a PLS analysis relating phenological dates (e.g. bloom dates) to either mean temperatures or mean chill and heat accumulation rates, based on long-term weather and phenology records (Luedeling and Gassner (2012) <doi:10.1016/j.agrformet.2011.10.020>). As of version 0.65, it also includes functions for generating weather scenarios with a weather generator, for conducting climate change analyses for temperature-based climatic metrics and for plotting results from such analyses. Since version 0.70, 'chillR' contains a function for interpolating hourly temperature records.
# Depends: R (>= 3.5.0)
# Imports: assertthat, dplyr, fields, GenSA, ggplot2, graphics, grDevices, httr, jsonlite, Kendall, metR, patchwork, pls, plyr, progress, R.utils, raster, Rcpp, RCurl, readxl, reshape2, rlang, RMAWGEN, scales, sp, stats, stringr, tidyr, utils, XML
# LinkingTo: Rcpp
# Suggests: knitr, rmarkdown, testthat
# VignetteBuilder: knitr
# License: GPL-3
# LazyData: TRUE
# RoxygenNote: 7.2.3
# Encoding: UTF-8
# NeedsCompilation: yes
# Packaged: 2023-08-11 22:29:36 UTC; Eike
# Author: Eike Luedeling [aut, cre] (<https://orcid.org/0000-0002-7316-3631>), Lars Caspersen [aut] (<https://orcid.org/0009-0000-3057-7327>), Eduardo Fernandez [aut] (<https://orcid.org/0000-0002-6949-9685>)
# Maintainer: Eike Luedeling <eike@eikeluedeling.com>
# Repository: CRAN
# Date/Publication: 2023-08-11 23:00:02 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
