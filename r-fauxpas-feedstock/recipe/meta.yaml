{% set version = '0.5.2' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-fauxpas
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/fauxpas_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/fauxpas/fauxpas_{{ version }}.tar.gz
  sha256: 84d07361a146b419cb1dcb7751654e3d5f159cf2704faf498e5ea56c8de61ef6

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip
  noarch: generic

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

# Suggests: crul (>= 0.5.0), curl (>= 2.2), httr (>= 1.2.0), testthat, knitr, rmarkdown
requirements:
  build:
    - {{ posix }}zip               # [win]

  host:
    - r-base
    - r-r6 >=2.1.2
    - r-httpcode >=0.3.0
    - r-whisker

  run:
    - r-base
    - r-r6 >=2.1.2
    - r-httpcode >=0.3.0
    - r-whisker

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('fauxpas')"           # [not win]
    - "\"%R%\" -e \"library('fauxpas')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: https://sckott.github.io/fauxpas/, https://github.com/sckott/fauxpas
  license: MIT
  summary: HTTP error helpers. Methods included for general purpose HTTP error handling, as well
    as individual methods for every HTTP status code, both via status code numbers as
    well as their descriptive names. Supports ability to adjust behavior to stop, message
    or warning. Includes ability to use custom whisker template to have any configuration
    of status code, short description, and verbose message. Currently supports integration
    with 'crul', 'curl', and 'httr'.
  license_family: MIT
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/MIT'
    - LICENSE

# The original CRAN metadata for this package was:

# Package: fauxpas
# Title: HTTP Error Helpers
# Description: HTTP error helpers. Methods included for general purpose HTTP error handling, as well as individual methods for every HTTP status code, both via status code numbers as well as their descriptive names. Supports ability to adjust behavior to stop, message or warning. Includes ability to use custom whisker template to have any configuration of status code, short description, and verbose message. Currently supports integration with 'crul', 'curl', and 'httr'.
# Version: 0.5.2
# Authors@R: person("Scott", "Chamberlain", role = c("aut", "cre"), email = "myrmecocystus@gmail.com", comment = c(ORCID = "0000-0003-1444-9135"))
# License: MIT + file LICENSE
# URL: https://sckott.github.io/fauxpas/, https://github.com/sckott/fauxpas
# BugReports: https://github.com/sckott/fauxpas/issues
# VignetteBuilder: knitr
# Encoding: UTF-8
# Language: en-US
# Imports: R6 (>= 2.1.2), httpcode (>= 0.3.0), whisker
# Suggests: crul (>= 0.5.0), curl (>= 2.2), httr (>= 1.2.0), testthat, knitr, rmarkdown
# RoxygenNote: 7.2.3
# X-schema.org-applicationCategory: Web
# X-schema.org-keywords: http, https, API, web-services, curl, errors, error
# NeedsCompilation: no
# Packaged: 2023-05-02 21:33:03 UTC; sckott
# Author: Scott Chamberlain [aut, cre] (<https://orcid.org/0000-0003-1444-9135>)
# Maintainer: Scott Chamberlain <myrmecocystus@gmail.com>
# Repository: CRAN
# Date/Publication: 2023-05-03 08:10:09 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
