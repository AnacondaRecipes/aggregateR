{% set version = '3.0-9' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-hmm.discnp
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/hmm.discnp_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/hmm.discnp/hmm.discnp_{{ version }}.tar.gz
  sha256: 2e9872e4de22675c216570533b575375c648238ea4582d82f31ca2229c7c9ab3

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

requirements:
  build:
    - {{ compiler('c') }}              # [not win]
    - {{ compiler('m2w64_c') }}        # [win]
    - {{ compiler('fortran') }}        # [not win]
    - {{ compiler('m2w64_fortran') }}  # [win]
    - {{ posix }}filesystem        # [win]
    - {{ posix }}make
    - {{ posix }}sed               # [win]
    - {{ posix }}coreutils         # [win]
    - {{ posix }}zip               # [win]

  host:
    - r-base
    - r-nnet >=7.3.12

  run:
    - r-base
    - {{native}}gcc-libs         # [win]
    - r-nnet >=7.3.12

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('hmm.discnp')"           # [not win]
    - "\"%R%\" -e \"library('hmm.discnp')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: https://CRAN.R-project.org/package=hmm.discnp
  license: GPL-2
  summary: Fits hidden Markov models with discrete non-parametric observation distributions to
    data sets.  The observations may be univariate or bivariate. Simulates data from
    such models. Finds most probable underlying hidden states, the most probable sequences
    of such states, and the log likelihood of a collection of observations given the
    parameters of the model.  Auxiliary predictors are accommodated in the univariate
    setting.
  license_family: GPL2
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-2'

extra:
  recipe-maintainers:
    - katietz

# The original CRAN metadata for this package was:

# Package: hmm.discnp
# Version: 3.0-9
# Date: 2022-09-26
# Title: Hidden Markov Models with Discrete Non-Parametric Observation Distributions
# Author: Rolf Turner
# Maintainer: Rolf Turner <r.turner@auckland.ac.nz>
# Depends: R (>= 2.10)
# Imports: nnet (>= 7.3.12)
# Description: Fits hidden Markov models with discrete non-parametric observation distributions to data sets.  The observations may be univariate or bivariate. Simulates data from such models. Finds most probable underlying hidden states, the most probable sequences of such states, and the log likelihood of a collection of observations given the parameters of the model.  Auxiliary predictors are accommodated in the univariate setting.
# LazyData: true
# ByteCompile: true
# License: GPL (>= 2)
# NeedsCompilation: yes
# Packaged: 2022-09-26 08:27:50 UTC; rolf
# Repository: CRAN
# Date/Publication: 2022-09-26 09:10:06 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
