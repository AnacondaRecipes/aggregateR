{% set version = '1.2.4' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-vistime
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/vistime_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/vistime/vistime_{{ version }}.tar.gz
  sha256: d13b6f5a6fd2b376d4956cc3a0bf892e2912a5dd2c0caa88631f50efd115d592

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip
  noarch: generic

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

# Suggests: prettydoc, knitr, rmarkdown, testthat (>= 3.0.0), covr, highcharter (> 0.1.0)
requirements:
  build:
    - {{ posix }}zip               # [win]

  host:
    - r-base
    - r-rcolorbrewer >=0.2.2
    - r-assertthat >=0.1
    - r-ggplot2 >=3.4.0
    - r-ggrepel >=0.7.0
    - r-plotly >=4.0.0
    - r-rlang

  run:
    - r-base
    - r-rcolorbrewer >=0.2.2
    - r-assertthat >=0.1
    - r-ggplot2 >=3.4.0
    - r-ggrepel >=0.7.0
    - r-plotly >=4.0.0
    - r-rlang

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('vistime')"           # [not win]
    - "\"%R%\" -e \"library('vistime')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: https://shosaco.github.io/vistime/
  license: GPL-3
  summary: A library for creating time based charts, like Gantt or timelines. Possible outputs
    include 'ggplot2' diagrams, 'plotly.js' graphs, 'Highcharts.js' widgets and data.frames.
    Results can be used in the 'RStudio' viewer pane, in 'RMarkdown' documents or in
    Shiny apps. In the interactive outputs created by vistime() and hc_vistime(), you
    can interact with the plot using mouse hover or zoom.
  license_family: GPL3
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-3'
    - LICENSE

# The original CRAN metadata for this package was:

# Package: vistime
# Title: Pretty Timelines in R
# Version: 1.2.4
# Date: 2023-10-28
# Authors@R: c( person("Sandro", "Raabe", , "sa.ra.online@posteo.de", role = c("aut", "cre")) )
# Description: A library for creating time based charts, like Gantt or timelines. Possible outputs include 'ggplot2' diagrams, 'plotly.js' graphs, 'Highcharts.js' widgets and data.frames. Results can be used in the 'RStudio' viewer pane, in 'RMarkdown' documents or in Shiny apps. In the interactive outputs created by vistime() and hc_vistime(), you can interact with the plot using mouse hover or zoom.
# License: GPL-3 | file LICENSE
# URL: https://shosaco.github.io/vistime/
# BugReports: https://github.com/shosaco/vistime/issues
# Depends: R (>= 3.2.0)
# Imports: rlang, assertthat (>= 0.1), plotly (>= 4.0.0), ggplot2 (>= 3.4.0), ggrepel (>= 0.7.0), RColorBrewer (>= 0.2.2)
# Encoding: UTF-8
# RoxygenNote: 7.2.3
# Suggests: prettydoc, knitr, rmarkdown, testthat (>= 3.0.0), covr, highcharter (> 0.1.0)
# Config/testthat/edition: 3
# VignetteBuilder: knitr
# Language: en-US
# NeedsCompilation: no
# Packaged: 2023-10-29 11:49:26 UTC; sandro
# Author: Sandro Raabe [aut, cre]
# Maintainer: Sandro Raabe <sa.ra.online@posteo.de>
# Repository: CRAN
# Date/Publication: 2023-10-29 21:30:02 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
