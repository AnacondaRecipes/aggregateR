{% set version = '0.6' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-geosapi
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/geosapi_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/geosapi/geosapi_{{ version }}.tar.gz
  sha256: fcc9a2d4f8afa6600595173d9b6aaa67903a9c81ac8e33f2ee6e8d6ab07cc2b6

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip
  noarch: generic

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

# Suggests: testthat, roxygen2, covr, shiny
requirements:
  build:
    - {{ posix }}zip               # [win]

  host:
    - r-base
    - r-r6
    - r-xml
    - r-httr
    - r-keyring
    - r-openssl
    - r-readr

  run:
    - r-base
    - r-r6
    - r-xml
    - r-httr
    - r-keyring
    - r-openssl
    - r-readr

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('geosapi')"           # [not win]
    - "\"%R%\" -e \"library('geosapi')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: https://github.com/eblondel/geosapi/wiki, http://geoserver.org/
  license: MIT
  summary: Provides an R interface to the GeoServer REST API, allowing to upload and publish
    data in a GeoServer web-application and expose data to OGC Web-Services. The package
    currently supports all CRUD (Create,Read,Update,Delete) operations on GeoServer
    workspaces, namespaces, datastores (stores of vector data), featuretypes, layers,
    styles, as well as vector data upload operations. For more information about the
    GeoServer REST API, see <https://docs.geoserver.org/stable/en/user/rest/>.
  license_family: MIT
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/MIT'
    - LICENSE

extra:
  recipe-maintainers:
    - katietz

# The original CRAN metadata for this package was:

# Package: geosapi
# Type: Package
# Title: GeoServer REST API R Interface
# Version: 0.6
# Date: 2022-05-02
# Authors@R: c(person("Emmanuel", "Blondel", role = c("aut", "cre"), email = "emmanuel.blondel1@gmail.com", comment = c(ORCID = "0000-0002-5870-5762")))
# Maintainer: Emmanuel Blondel <emmanuel.blondel1@gmail.com>
# Description: Provides an R interface to the GeoServer REST API, allowing to upload and publish data in a GeoServer web-application and expose data to OGC Web-Services. The package currently supports all CRUD (Create,Read,Update,Delete) operations on GeoServer workspaces, namespaces, datastores (stores of vector data), featuretypes, layers, styles, as well as vector data upload operations. For more information about the GeoServer REST API, see <https://docs.geoserver.org/stable/en/user/rest/>.
# Depends: R (>= 3.1.0)
# Imports: R6, openssl, httr, XML, keyring, readr
# Suggests: testthat, roxygen2, covr, shiny
# License: MIT + file LICENSE
# URL: https://github.com/eblondel/geosapi/wiki, http://geoserver.org/
# BugReports: https://github.com/eblondel/geosapi/issues
# LazyLoad: yes
# RoxygenNote: 7.1.0
# NeedsCompilation: no
# Packaged: 2022-05-02 11:15:13 UTC; manub
# Author: Emmanuel Blondel [aut, cre] (<https://orcid.org/0000-0002-5870-5762>)
# Repository: CRAN
# Date/Publication: 2022-05-02 11:30:05 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
