{% set version = '0.99.0' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-elevatr
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/elevatr_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/elevatr/elevatr_{{ version }}.tar.gz
  sha256: 864750ae5665fba00d676b789ac41307e8bd9ca33ea5d8f375ecacbdc45928d0

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip
  noarch: generic

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

# Suggests: testthat, knitr, rmarkdown, formatR, progress
requirements:
  build:
    - {{ posix }}zip               # [win]

  host:
    - r-base
    - r-curl
    - r-furrr
    - r-future
    - r-httr
    - r-jsonlite
    - r-progressr
    - r-purrr
    - r-raster
    - r-sf
    - r-slippymath
    - r-terra
    - r-units

  run:
    - r-base
    - r-curl
    - r-furrr
    - r-future
    - r-httr
    - r-jsonlite
    - r-progressr
    - r-purrr
    - r-raster
    - r-sf
    - r-slippymath
    - r-terra
    - r-units

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('elevatr')"           # [not win]
    - "\"%R%\" -e \"library('elevatr')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: https://github.com/jhollist/elevatr/
  license: MIT
  summary: Several web services are available that provide access to elevation data. This package
    provides access to many of those services and returns elevation data either as an
    'sf' simple features object from point elevation services or as a 'raster' object
    from raster elevation services. In future versions, 'elevatr' will drop support
    for 'raster' and will instead return 'terra' objects. Currently, the package supports
    access to the Amazon Web Services Terrain Tiles <https://registry.opendata.aws/terrain-tiles/>,
    the Open Topography Global Datasets API <https://opentopography.org/developers/>,
    and the USGS Elevation Point Query Service <https://apps.nationalmap.gov/epqs/>.
  license_family: MIT
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/MIT'
    - LICENSE

# The original CRAN metadata for this package was:

# Package: elevatr
# Title: Access Elevation Data from Various APIs
# Version: 0.99.0
# Authors@R: c(person("Jeffrey", "Hollister", email = "hollister.jeff@epa.gov", role = c("aut", "cre"), comment = c(ORCID = "0000-0002-9254-9740")), person("Tarak", "Shah", role = "ctb"), person("Jakub", "Nowosad", role = "ctb", comment = c(ORCID = "0000-0002-1057-3721")), person("Alec L.", "Robitaille", role = "ctb", comment = c(ORCID = "0000-0002-4706-1762")), person("Marcus W.", "Beck", role = "rev", comment = c(ORCID = "0000-0002-4996-0059")), person("Mike", "Johnson", role = "ctb", comment = c(ORCID = "0000-0002-5288-8350")))
# URL: https://github.com/jhollist/elevatr/
# BugReports: https://github.com/jhollist/elevatr/issues/
# Maintainer: Jeffrey Hollister <hollister.jeff@epa.gov>
# Description: Several web services are available that provide access to elevation data. This package provides access to many of those services and returns elevation data either as an 'sf' simple features object from point elevation services or as a 'raster' object from raster elevation services. In future versions, 'elevatr' will drop support for 'raster' and will instead return 'terra' objects. Currently, the package supports access to the Amazon Web Services Terrain Tiles <https://registry.opendata.aws/terrain-tiles/>, the Open Topography Global Datasets API <https://opentopography.org/developers/>, and the USGS Elevation Point Query Service <https://apps.nationalmap.gov/epqs/>.
# Depends: R (>= 3.5.0)
# Imports: httr, jsonlite, progressr, sf, terra, future, furrr, purrr, units, slippymath, curl, raster, methods
# License: MIT + file LICENSE
# Encoding: UTF-8
# LazyData: true
# RoxygenNote: 7.2.3
# Suggests: testthat, knitr, rmarkdown, formatR, progress
# VignetteBuilder: knitr
# NeedsCompilation: no
# Packaged: 2023-09-12 11:22:36 UTC; JHollist
# Author: Jeffrey Hollister [aut, cre] (<https://orcid.org/0000-0002-9254-9740>), Tarak Shah [ctb], Jakub Nowosad [ctb] (<https://orcid.org/0000-0002-1057-3721>), Alec L. Robitaille [ctb] (<https://orcid.org/0000-0002-4706-1762>), Marcus W. Beck [rev] (<https://orcid.org/0000-0002-4996-0059>), Mike Johnson [ctb] (<https://orcid.org/0000-0002-5288-8350>)
# Repository: CRAN
# Date/Publication: 2023-09-12 21:00:02 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
