{% set version = '2.0.1' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-sparsemse
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/SparseMSE_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/SparseMSE/SparseMSE_{{ version }}.tar.gz
  sha256: 67355333778219604ebac5d04f9f08c538f5ba52e2ffe63827260fe581dc97aa

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip
  noarch: generic

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

# Suggests: knitr, rmarkdown
requirements:
  build:
    - {{ posix }}zip               # [win]

  host:
    - r-base
    - r-rcapture
    - r-lpsolve

  run:
    - r-base
    - r-rcapture
    - r-lpsolve

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('SparseMSE')"           # [not win]
    - "\"%R%\" -e \"library('SparseMSE')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: https://arxiv.org/abs/1902.05156
  license: GPL-2
  summary: 'Implements the routines and algorithms developed and analysed in "Multiple Systems
    Estimation for Sparse Capture Data: Inferential Challenges when there are Non-Overlapping
    Lists" Chan, L, Silverman, B. W., Vincent, K (2019) <arXiv:1902.05156>. This package
    explicitly handles situations where there are pairs of lists which have no observed
    individuals in common.  It deals correctly with parameters whose estimated values
    can be considered as being negative infinity.  It also addresses other possible
    issues of non-existence and non-identifiability of maximum likelihood estimates.'
  license_family: GPL2
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-2'

extra:
  recipe-maintainers:
    - katietz

# The original CRAN metadata for this package was:

# Package: SparseMSE
# Title: 'Multiple Systems Estimation for Sparse Capture Data'
# Version: 2.0.1
# Authors@R: c( person("Lax", "Chan", email = "laxchan77@gmail.com", role = c("aut","cre")), person("Bernard", "Silverman", email = "mail@bernardsilverman.co.uk", role = c("aut")), person("Kyle", "Vincent", email = "kyle.shane.vincent@gmail.com", role= c("aut")))
# Author: Lax Chan [aut, cre], Bernard Silverman [aut], Kyle Vincent [aut]
# Maintainer: Lax Chan <laxchan77@gmail.com>
# Description: Implements the routines and algorithms developed and analysed in "Multiple Systems Estimation for Sparse Capture Data: Inferential Challenges when there are Non-Overlapping Lists" Chan, L, Silverman, B. W., Vincent, K (2019) <arXiv:1902.05156>. This package explicitly handles situations where there are pairs of lists which have no observed individuals in common.  It deals correctly with parameters whose estimated values can be considered as being negative infinity.  It also addresses other possible issues of non-existence and non-identifiability of maximum likelihood estimates.
# URL: https://arxiv.org/abs/1902.05156
# Depends: R (>= 3.5.0)
# License: GPL (>= 2)
# Encoding: UTF-8
# LazyData: true
# RoxygenNote: 6.1.1
# Suggests: knitr, rmarkdown
# Imports: lpSolve, Rcapture
# NeedsCompilation: no
# Packaged: 2019-12-15 12:17:40 UTC; Lax
# Repository: CRAN
# Date/Publication: 2019-12-15 12:30:02 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
