{% set version = '2.12' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-evmix
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/evmix_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/evmix/evmix_{{ version }}.tar.gz
  sha256: 6e47d53463b68ac2782201bcc6240fbc5263b2db1ac0d383062032ab135b2a0b

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip
  noarch: generic

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

requirements:
  build:
    - {{posix}}zip               # [win]

  host:
    - r-base
    - r-mass
    - r-sparsem
    - r-gsl

  run:
    - r-base
    - r-mass
    - r-sparsem
    - r-gsl

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('evmix')"           # [not win]
    - "\"%R%\" -e \"library('evmix')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: http://www.math.canterbury.ac.nz/~c.scarrott/evmix
  license: GPL-3
  summary: The usual distribution functions, maximum likelihood inference and model diagnostics
    for univariate stationary extreme value mixture models are provided. Kernel density
    estimation including various boundary corrected kernel density estimation methods
    and a wide choice of kernels, with cross-validation likelihood based bandwidth estimator.
    Reasonable consistency with the base functions in the 'evd' package is provided,
    so that users can safely interchange most code.
  license_family: GPL3
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-3'

extra:
  recipe-maintainers:
    - katietz

# The original CRAN metadata for this package was:

# Package: evmix
# Title: Extreme Value Mixture Modelling, Threshold Estimation and Boundary Corrected Kernel Density Estimation
# Version: 2.12
# Date: 2019-09-02
# Author: Carl Scarrott, Yang Hu and Alfadino Akbar, University of Canterbury
# Maintainer: Carl Scarrott <carl.scarrott@canterbury.ac.nz>
# Depends: stats, graphics, MASS, splines, gsl, SparseM, grDevices
# Description: The usual distribution functions, maximum likelihood inference and model diagnostics for univariate stationary extreme value mixture models are provided. Kernel density estimation including various boundary corrected kernel density estimation methods and a wide choice of kernels, with cross-validation likelihood based bandwidth estimator. Reasonable consistency with the base functions in the 'evd' package is provided, so that users can safely interchange most code.
# License: GPL-3
# URL: http://www.math.canterbury.ac.nz/~c.scarrott/evmix
# Repository: CRAN
# RoxygenNote: 6.1.1
# Encoding: UTF-8
# NeedsCompilation: no
# Packaged: 2019-09-03 00:38:08 UTC; csc51
# Date/Publication: 2019-09-03 13:30:03 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
