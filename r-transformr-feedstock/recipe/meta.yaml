{% set version = '0.1.4' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-transformr
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/transformr_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/transformr/transformr_{{ version }}.tar.gz
  sha256: c193bc8217c2483933df91863892743f8b5fb03d309df7cd2b6c76e9b1661f40

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

# Suggests: covr, magrittr
requirements:
  build:
    - {{ compiler('c') }}              # [not win]
    - {{ compiler('m2w64_c') }}        # [win]
    - {{ compiler('cxx') }}            # [not win]
    - {{ compiler('m2w64_cxx') }}      # [win]
    - {{ posix }}filesystem        # [win]
    - {{ posix }}make
    - {{ posix }}sed               # [win]
    - {{ posix }}coreutils         # [win]
    - {{ posix }}zip               # [win]

  host:
    - r-base
    - r-cpp11
    - r-lpsolve
    - r-rlang
    - r-sf
    - r-tweenr
    - r-vctrs

  run:
    - r-base
    - {{native}}gcc-libs         # [win]
    - r-cpp11
    - r-lpsolve
    - r-rlang
    - r-sf
    - r-tweenr
    - r-vctrs

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('transformr')"           # [not win]
    - "\"%R%\" -e \"library('transformr')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: https://github.com/thomasp85/transformr
  license: MIT
  summary: In order to smoothly animate the transformation of polygons and paths, many aspects
    needs to be taken into account, such as differing number of control points, changing
    center of rotation, etc. The 'transformr' package provides an extensive framework
    for manipulating the shapes of polygons and paths and can be seen as the spatial
    brother to the 'tweenr' package.
  license_family: MIT
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/MIT'
    - LICENSE

# The original CRAN metadata for this package was:

# Package: transformr
# Type: Package
# Title: Polygon and Path Transformations
# Version: 0.1.4
# Authors@R: person(given = "Thomas Lin", family = "Pedersen", role = c("cre", "aut"), email = "thomasp85@gmail.com", comment = c(ORCID = "0000-0002-5147-4711"))
# Maintainer: Thomas Lin Pedersen <thomasp85@gmail.com>
# Description: In order to smoothly animate the transformation of polygons and paths, many aspects needs to be taken into account, such as differing number of control points, changing center of rotation, etc. The 'transformr' package provides an extensive framework for manipulating the shapes of polygons and paths and can be seen as the spatial brother to the 'tweenr' package.
# License: MIT + file LICENSE
# Encoding: UTF-8
# SystemRequirements: C++11
# Imports: tweenr, rlang, sf, lpSolve, vctrs
# Suggests: covr, magrittr
# LinkingTo: cpp11
# RoxygenNote: 7.2.1
# URL: https://github.com/thomasp85/transformr
# BugReports: https://github.com/thomasp85/transformr/issues
# NeedsCompilation: yes
# Packaged: 2022-08-18 11:11:09 UTC; thomas
# Author: Thomas Lin Pedersen [cre, aut] (<https://orcid.org/0000-0002-5147-4711>)
# Repository: CRAN
# Date/Publication: 2022-08-18 11:30:02 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
