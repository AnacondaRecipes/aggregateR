{% set version = '1.1.0' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-poolfstat
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/poolfstat_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/poolfstat/poolfstat_{{ version }}.tar.gz
  sha256: c5ebd0ade0ea96156d743b96b16e70697bf97939369e6132d0076a6de5a6d988

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip
  noarch: generic

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

requirements:
  build:
    - {{posix}}zip               # [win]

  host:
    - r-base
    - r-doparallel
    - r-foreach

  run:
    - r-base
    - r-doparallel
    - r-foreach

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('poolfstat')"           # [not win]
    - "\"%R%\" -e \"library('poolfstat')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: https://CRAN.R-project.org/package=poolfstat
  license: GPL-2
  summary: Functions for the computation of F-statistics from Pool-Seq data in population genomics
    studies. The package also includes several utilities to manipulate Pool-Seq data
    stored in standard format ('vcf' or 'rsync' files generated by the the 'PoPoolation'
    software) and perform conversion to alternative format (as used in the 'BayPass'
    and 'SelEstim' software).
  license_family: GPL2
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-2'

extra:
  recipe-maintainers:
    - katietz

# The original CRAN metadata for this package was:

# Package: poolfstat
# Maintainer: Mathieu Gautier <mathieu.gautier@inra.fr>
# Author: Mathieu Gautier, Valentin Hivert and Renaud Vitalis
# Version: 1.1.0
# License: GPL (>= 2)
# Title: Computing F-Statistics from Pool-Seq Data
# Description: Functions for the computation of F-statistics from Pool-Seq data in population genomics studies. The package also includes several utilities to manipulate Pool-Seq data stored in standard format ('vcf' or 'rsync' files generated by the the 'PoPoolation' software) and perform conversion to alternative format (as used in the 'BayPass' and 'SelEstim' software).
# Depends: R (>= 3.0), methods, utils, foreach, doParallel, parallel
# RoxygenNote: 6.1.1
# NeedsCompilation: no
# Packaged: 2019-06-20 14:53:56 UTC; mathieu
# Repository: CRAN
# Date/Publication: 2019-06-20 15:00:02 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
