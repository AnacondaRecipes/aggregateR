{% set version = '2.0.3' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-stochprofml
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/stochprofML_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/stochprofML/stochprofML_{{ version }}.tar.gz
  sha256: ed87e6a2f0a1013a9d0f72294c26c20d7c539d7975bb3aee6233f103fd12d548

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip
  noarch: generic

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

requirements:
  build:
    - {{ posix }}zip               # [win]

  host:
    - r-base
    - r-mass
    - r-numderiv

  run:
    - r-base
    - r-mass
    - r-numderiv

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('stochprofML')"           # [not win]
    - "\"%R%\" -e \"library('stochprofML')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: https://CRAN.R-project.org/package=stochprofML
  license: GPL-2
  summary: 'New Version of the R package originally accompanying the paper "Parameterizing cell-to-cell
    regulatory heterogeneities via stochastic transcriptional profiles" by Sameer S
    Bajikar, Christiane Fuchs, Andreas Roller, Fabian J Theis and Kevin A Janes (PNAS
    2014, 111(5), E626-635 <doi:10.1073/pnas.1311647111>). In this paper, we measure
    expression profiles from small heterogeneous populations of cells, where each cell
    is assumed to be from a mixture of lognormal distributions. We perform maximum likelihood
    estimation in order to infer the mixture ratio and the parameters of these lognormal
    distributions from the cumulated expression measurements. The main difference of
    this new package version to the previous one is that it is now possible to use different
    n''s, i.e. a dataset where each tissue sample originates from a different number
    of cells. We used this on pheno-seq data, see: Tirier, S.M., Park, J., Preusser,
    F. et al. Pheno-seq - linking visual features and gene expression in 3D cell culture
    systems. Sci Rep 9, 12367 (2019) <doi:10.1038/s41598-019-48771-4>).'
  license_family: GPL2
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-2'

extra:
  recipe-maintainers:
    - katietz

# The original CRAN metadata for this package was:

# Package: stochprofML
# Title: Stochastic Profiling using Maximum Likelihood Estimation
# Version: 2.0.3
# DateNote: Previous CRAN version 2.0.2 on 2020-05-14
# Authors@R: c( person("Lisa", "Amrhein", email="amrheinlisa@gmail.com", role=c("aut", "cre")), person("Christiane", "Fuchs", email="christiane.fuchs@helmholtz-muenchen.de", role="aut"), person("Christoph", "Kurz", email="christoph.kurz@helmholtz-muenchen.de", role="ctb", comment="Author to function comb.summands.R'"))
# Maintainer: Lisa Amrhein <amrheinlisa@gmail.com>
# Depends: R (>= 2.0)
# Imports: MASS, numDeriv
# Description: New Version of the R package originally accompanying the paper "Parameterizing cell-to-cell regulatory heterogeneities via stochastic transcriptional profiles" by Sameer S Bajikar, Christiane Fuchs, Andreas Roller, Fabian J Theis and Kevin A Janes (PNAS 2014, 111(5), E626-635 <doi:10.1073/pnas.1311647111>). In this paper, we measure expression profiles from small heterogeneous populations of cells, where each cell is assumed to be from a mixture of lognormal distributions. We perform maximum likelihood estimation in order to infer the mixture ratio and the parameters of these lognormal distributions from the cumulated expression measurements. The main difference of this new package version to the previous one is that it is now possible to use different n's, i.e. a dataset where each tissue sample originates from a different number of cells. We used this on pheno-seq data, see: Tirier, S.M., Park, J., Preusser, F. et al. Pheno-seq - linking visual features and gene expression in 3D cell culture systems. Sci Rep 9, 12367 (2019) <doi:10.1038/s41598-019-48771-4>).
# License: GPL (>= 2)
# LazyData: TRUE
# RoxygenNote: 6.1.1
# NeedsCompilation: no
# Packaged: 2020-06-10 09:32:58 UTC; lisa.amrhein
# Author: Lisa Amrhein [aut, cre], Christiane Fuchs [aut], Christoph Kurz [ctb] (Author to function comb.summands.R')
# Repository: CRAN
# Date/Publication: 2020-06-10 10:00:03 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
