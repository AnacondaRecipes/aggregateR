{% set version = '2.1' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-affluenceindex
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/affluenceIndex_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/affluenceIndex/affluenceIndex_{{ version }}.tar.gz
  sha256: 68c9e2e5f123cec4dda6744b8dbed0eeca0d474e721efe746fdd030def238f6d

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip
  noarch: generic

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

requirements:
  build:
    - {{ posix }}zip               # [win]

  host:
    - r-base
    - r-spatstat
    - r-spatstat.geom

  run:
    - r-base
    - r-spatstat
    - r-spatstat.geom

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('affluenceIndex')"           # [not win]
    - "\"%R%\" -e \"library('affluenceIndex')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: https://CRAN.R-project.org/package=affluenceIndex
  license: GPL-2
  summary: Enables to compute the statistical indices of affluence (richness) with bootstrap
    errors, and inequality and polarization indices. Moreover, gives the possibility
    of calculation of Medeiros affluence line. In 2.1 version some simple errors are
    fixed.
  license_family: GPL2
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-2'

extra:
  recipe-maintainers:
    - katietz

# The original CRAN metadata for this package was:

# Package: affluenceIndex
# Type: Package
# Title: Affluence (Richness) Indices
# Version: 2.1
# Date: 2022-01-05
# Author: Alicja Wolny-Dominiak and Anna Saczewska-Piotrowska
# Maintainer: Alicja Wolny-Dominiak <alicja.wolny-dominiak@ue.katowice.pl>
# Description: Enables to compute the statistical indices of affluence (richness) with bootstrap errors, and inequality and polarization indices. Moreover, gives the possibility of calculation of Medeiros affluence line. In 2.1 version some simple errors are fixed.
# Depends: R (>= 3.6.2), stats, spatstat, spatstat.geom
# License: GPL-2
# NeedsCompilation: no
# Packaged: 2022-01-05 13:25:11 UTC; woali
# Repository: CRAN
# Date/Publication: 2022-01-05 15:50:08 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
