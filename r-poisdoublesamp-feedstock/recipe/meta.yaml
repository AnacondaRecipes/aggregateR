{% set version = '1.1.1' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-poisdoublesamp
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/poisDoubleSamp_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/poisDoubleSamp/poisDoubleSamp_{{ version }}.tar.gz
  sha256: 5b798b9ee76a7b7ea9c022411fdf28b08697dfa41244f59e280708e3461f1d68

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

requirements:
  build:
    - {{ compiler('c') }}              # [not win]
    - {{ compiler('m2w64_c') }}        # [win]
    - {{ compiler('cxx') }}            # [not win]
    - {{ compiler('m2w64_cxx') }}      # [win]
    - {{ posix }}filesystem        # [win]
    - {{ posix }}make
    - {{ posix }}sed               # [win]
    - {{ posix }}coreutils         # [win]
    - {{ posix }}zip               # [win]

  host:
    - r-base
    - r-rcpp

  run:
    - r-base
    - {{native}}gcc-libs         # [win]
    - r-rcpp

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('poisDoubleSamp')"           # [not win]
    - "\"%R%\" -e \"library('poisDoubleSamp')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: https://github.com/dkahle/poisDoubleSamp
  license: MIT
  summary: "Functions to create confidence intervals for ratios of Poisson rates under misclassification
    using double sampling. Implementations of the methods described in Kahle, D., P.
    Young, B. Greer, and D. Young (2016). \"Confidence Intervals for the Ratio of Two
    Poisson Rates Under One-Way Differential Misclassification Using Double Sampling.\"
    Computational Statistics & Data Analysis, 95:122\u2013132."
  license_family: MIT
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/MIT'
    - LICENSE

extra:
  recipe-maintainers:
    - katietz

# The original CRAN metadata for this package was:

# Package: poisDoubleSamp
# Version: 1.1.1
# Title: Confidence Intervals with Poisson Double Sampling
# Description: Functions to create confidence intervals for ratios of Poisson rates under misclassification using double sampling. Implementations of the methods described in Kahle, D., P. Young, B. Greer, and D. Young (2016). "Confidence Intervals for the Ratio of Two Poisson Rates Under One-Way Differential Misclassification Using Double Sampling." Computational Statistics & Data Analysis, 95:122132.
# URL: https://github.com/dkahle/poisDoubleSamp
# BugReports: https://github.com/dkahle/poisDoubleSamp/issues
# Authors@R: c(person(given = "David", family = "Kahle", role = c("aut","cre"), email = "david@kahle.io", comment = c(ORCID = "0000-0002-9999-1558")), person("Phil", "Young", email = "philip_young@baylor.edu", role = "aut"), person("Dean", "Young", email = "dean_young@baylor.edu", role = "aut"))
# LinkingTo: Rcpp
# Imports: Rcpp, stats
# License: MIT + file LICENSE
# RoxygenNote: 7.1.2
# Encoding: UTF-8
# NeedsCompilation: yes
# Packaged: 2022-05-09 23:07:48 UTC; david_kahle
# Author: David Kahle [aut, cre] (<https://orcid.org/0000-0002-9999-1558>), Phil Young [aut], Dean Young [aut]
# Maintainer: David Kahle <david@kahle.io>
# Repository: CRAN
# Date/Publication: 2022-05-10 13:10:05 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
