{% set version = '4.0.6' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-ccamlrgis
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/CCAMLRGIS_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/CCAMLRGIS/CCAMLRGIS_{{ version }}.tar.gz
  sha256: 0c036332f4a9ff8c0f579bab0e4ae1413b95e401b36b019ebd7f7ae7bbce79bd

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip
  noarch: generic

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

# Suggests: knitr, rmarkdown, testthat
requirements:
  build:
    - {{ posix }}zip               # [win]

  host:
    - r-base
    - r-bezier
    - r-dplyr
    - r-lwgeom
    - r-magrittr
    - r-sf
    - r-stars
    - r-terra

  run:
    - r-base
    - r-bezier
    - r-dplyr
    - r-lwgeom
    - r-magrittr
    - r-sf
    - r-stars
    - r-terra

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('CCAMLRGIS')"           # [not win]
    - "\"%R%\" -e \"library('CCAMLRGIS')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: https://github.com/ccamlr/CCAMLRGIS#table-of-contents
  license: GPL-3
  summary: 'Loads and creates spatial data, including layers and tools that are relevant to the
    activities of the Commission for the Conservation of Antarctic Marine Living Resources.
    Provides two categories of functions: load functions and create functions. Load
    functions are used to import existing spatial layers from the online CCAMLR GIS
    such as the ASD boundaries. Create functions are used to create layers from user
    data such as polygons and grids.'
  license_family: GPL3
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-3'

# The original CRAN metadata for this package was:

# Type: Package
# Package: CCAMLRGIS
# Title: Antarctic Spatial Data Manipulation
# Version: 4.0.6
# Date: 2023-09-27
# Authors@R: c(person("Stephane","Thanassekos",role = c("aut", "cre"), email = "stephane.thanassekos@ccamlr.org"), person("Keith", "Reid", role = "aut"), person("Lucy", "Robinson", role = "aut"), person("Michael D.","Sumner", role = "ctb"), person("Roger","Bivand", role = "ctb"))
# Description: Loads and creates spatial data, including layers and tools that are relevant to the activities of the Commission for the Conservation of Antarctic Marine Living Resources. Provides two categories of functions: load functions and create functions. Load functions are used to import existing spatial layers from the online CCAMLR GIS such as the ASD boundaries. Create functions are used to create layers from user data such as polygons and grids.
# Depends: R (>= 4.0), sf
# License: GPL-3
# URL: https://github.com/ccamlr/CCAMLRGIS#table-of-contents
# Encoding: UTF-8
# LazyData: true
# Imports: dplyr, terra, graphics, grDevices, magrittr, stars, bezier, lwgeom
# RoxygenNote: 7.2.3
# Suggests: knitr, rmarkdown, testthat
# VignetteBuilder: knitr
# NeedsCompilation: no
# Packaged: 2023-09-27 04:05:17 UTC; stephane
# Author: Stephane Thanassekos [aut, cre], Keith Reid [aut], Lucy Robinson [aut], Michael D. Sumner [ctb], Roger Bivand [ctb]
# Maintainer: Stephane Thanassekos <stephane.thanassekos@ccamlr.org>
# Repository: CRAN
# Date/Publication: 2023-09-27 05:00:02 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
