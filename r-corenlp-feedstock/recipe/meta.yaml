{% set version = '0.4-3' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-corenlp
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/coreNLP_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/coreNLP/coreNLP_{{ version }}.tar.gz
  sha256: 4dac9a258c3ad6bf37d7a956ed6bfda2ce337ca2cd92f12d879cea7267860844

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip
  noarch: generic

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

requirements:
  build:
    - {{ posix }}zip               # [win]

  host:
    - r-base
    - r-xml
    - r-rjava
    - openjdk  # [linux]

  run:
    - r-base
    - r-xml
    - r-rjava

test:
  requires:
    - openjdk  # [linux]
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('coreNLP')"           # [not win]
    - "\"%R%\" -e \"library('coreNLP')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: https://CRAN.R-project.org/package=coreNLP
  license: GPL-2
  summary: Provides a minimal interface for applying annotators from the 'Stanford CoreNLP' java
    library. Methods are provided for tasks such as tokenisation, part of speech tagging,
    lemmatisation, named entity recognition, coreference detection and sentiment analysis.
  license_family: GPL2
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-2'

extra:
  recipe-maintainers:
    - katietz

# The original CRAN metadata for this package was:

# Package: coreNLP
# Type: Package
# Title: Wrappers Around Stanford CoreNLP Tools
# Version: 0.4-3
# Author: Taylor Arnold, Lauren Tilton
# Maintainer: Taylor Arnold <tarnold2@richmond.edu>
# Description: Provides a minimal interface for applying annotators from the 'Stanford CoreNLP' java library. Methods are provided for tasks such as tokenisation, part of speech tagging, lemmatisation, named entity recognition, coreference detection and sentiment analysis.
# Imports: rJava, XML
# SystemRequirements: Java (>= 7.0); Stanford CoreNLP <http://nlp.stanford.edu/ software/corenlp.shtml> (>= 3.5.2)
# License: GPL-2
# LazyData: true
# RoxygenNote: 5.0.1
# NeedsCompilation: no
# Packaged: 2022-08-12 15:17:34 UTC; taylor
# Repository: CRAN
# Date/Publication: 2022-08-17 13:40:09 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
