{% set version = '0.11.4' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-pointblank
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/pointblank_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/pointblank/pointblank_{{ version }}.tar.gz
  sha256: 72ff23c5507c7fbaaedf2502025d7346af182c567070aa2d44444efff9da9222

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip
  noarch: generic

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

# Suggests: arrow, bigrquery, covr, crayon, data.table, duckdb, ggforce, ggplot2, jsonlite, log4r, lubridate, RSQLite, RMySQL, RPostgres, readr, rmarkdown, sparklyr, dittodb, odbc
requirements:
  build:
    - {{ posix }}zip               # [win]

  host:
    - r-base
    - r-dbi >=1.1.0
    - r-base64enc >=0.1_3
    - r-blastula >=0.3.3
    - r-cli >=3.6.0
    - r-dbplyr >=2.3.0
    - r-digest >=0.6.27
    - r-dplyr >=1.0.10
    - r-fs >=1.6.0
    - r-glue >=1.6.2
    - r-gt >=0.9.0
    - r-htmltools >=0.5.4
    - r-knitr >=1.42
    - r-magrittr
    - r-rlang >=1.0.3
    - r-scales >=1.2.1
    - r-testthat >=3.1.6
    - r-tibble >=3.1.8
    - r-tidyr >=1.3.0
    - r-tidyselect >=1.2.0
    - r-yaml >=2.3.7

  run:
    - r-base
    - r-dbi >=1.1.0
    - r-base64enc >=0.1_3
    - r-blastula >=0.3.3
    - r-cli >=3.6.0
    - r-dbplyr >=2.3.0
    - r-digest >=0.6.27
    - r-dplyr >=1.0.10
    - r-fs >=1.6.0
    - r-glue >=1.6.2
    - r-gt >=0.9.0
    - r-htmltools >=0.5.4
    - r-knitr >=1.42
    - r-magrittr
    - r-rlang >=1.0.3
    - r-scales >=1.2.1
    - r-testthat >=3.1.6
    - r-tibble >=3.1.8
    - r-tidyr >=1.3.0
    - r-tidyselect >=1.2.0
    - r-yaml >=2.3.7

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('pointblank')"           # [not win]
    - "\"%R%\" -e \"library('pointblank')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: https://rich-iannone.github.io/pointblank/, https://github.com/rich-iannone/pointblank
  license: MIT
  summary: Validate data in data frames, 'tibble' objects, 'Spark' 'DataFrames', and database
    tables. Validation pipelines can be made using easily-readable, consecutive validation
    steps. Upon execution of the validation plan, several reporting options are available.
    User-defined thresholds for failure rates allow for the determination of appropriate
    reporting actions. Many other workflows are available including an information management
    workflow, where the aim is to record, collect, and generate useful information on
    data tables.
  license_family: MIT
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/MIT'
    - LICENSE

# The original CRAN metadata for this package was:

# Type: Package
# Package: pointblank
# Version: 0.11.4
# Title: Data Validation and Organization of Metadata for Local and Remote Tables
# Description: Validate data in data frames, 'tibble' objects, 'Spark' 'DataFrames', and database tables. Validation pipelines can be made using easily-readable, consecutive validation steps. Upon execution of the validation plan, several reporting options are available. User-defined thresholds for failure rates allow for the determination of appropriate reporting actions. Many other workflows are available including an information management workflow, where the aim is to record, collect, and generate useful information on data tables.
# Authors@R: c( person("Richard", "Iannone", , "riannone@me.com", c("aut", "cre"), comment = c(ORCID = "0000-0003-3925-190X")), person("Mauricio", "Vargas", , "mavargas11@uc.cl", c("aut"), comment = c(ORCID = "0000-0003-1017-7574")) )
# License: MIT + file LICENSE
# URL: https://rich-iannone.github.io/pointblank/, https://github.com/rich-iannone/pointblank
# BugReports: https://github.com/rich-iannone/pointblank/issues
# Encoding: UTF-8
# LazyData: true
# ByteCompile: true
# RoxygenNote: 7.2.3
# Depends: R (>= 3.5.0)
# Imports: base64enc (>= 0.1-3), blastula (>= 0.3.3), cli (>= 3.6.0), DBI (>= 1.1.0), digest (>= 0.6.27), dplyr (>= 1.0.10), dbplyr (>= 2.3.0), fs (>= 1.6.0), glue (>= 1.6.2), gt (>= 0.9.0), htmltools (>= 0.5.4), knitr (>= 1.42), rlang (>= 1.0.3), magrittr, scales (>= 1.2.1), testthat (>= 3.1.6), tibble (>= 3.1.8), tidyr (>= 1.3.0), tidyselect (>= 1.2.0), yaml (>= 2.3.7)
# Suggests: arrow, bigrquery, covr, crayon, data.table, duckdb, ggforce, ggplot2, jsonlite, log4r, lubridate, RSQLite, RMySQL, RPostgres, readr, rmarkdown, sparklyr, dittodb, odbc
# NeedsCompilation: no
# Packaged: 2023-04-25 13:07:18 UTC; rich
# Author: Richard Iannone [aut, cre] (<https://orcid.org/0000-0003-3925-190X>), Mauricio Vargas [aut] (<https://orcid.org/0000-0003-1017-7574>)
# Maintainer: Richard Iannone <riannone@me.com>
# Repository: CRAN
# Date/Publication: 2023-04-25 13:40:05 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
