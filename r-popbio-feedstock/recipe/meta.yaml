{% set version = '2.7' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-popbio
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/popbio_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/popbio/popbio_{{ version }}.tar.gz
  sha256: 5254e0b46f9d98f9c4af5e569018090b22a6cb709ba2d7924236581bb558ab09

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip
  noarch: generic

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

# Suggests: quadprog
requirements:
  build:
    - {{ posix }}zip               # [win]

  host:
    - r-base

  run:
    - r-base

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('popbio')"           # [not win]
    - "\"%R%\" -e \"library('popbio')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: https://CRAN.R-project.org/package=popbio
  license: GPL-3
  summary: Construct and analyze projection matrix models from a demography study of marked individuals
    classified by age or stage. The package covers methods described in Matrix Population
    Models by Caswell (2001) and Quantitative Conservation Biology by Morris and Doak
    (2002).
  license_family: GPL3
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-3'

extra:
  recipe-maintainers:
    - katietz

# The original CRAN metadata for this package was:

# Package: popbio
# Version: 2.7
# Author: Chris Stubben, Brook Milligan, Patrick Nantel
# Maintainer: Chris Stubben <chris.stubben@hci.utah.edu>
# Title: Construction and Analysis of Matrix Population Models
# License: GPL-3
# Encoding: UTF-8
# LazyData: true
# Suggests: quadprog
# Description: Construct and analyze projection matrix models from a demography study of marked individuals classified by age or stage. The package covers methods described in Matrix Population Models by Caswell (2001) and Quantitative Conservation Biology by Morris and Doak (2002).
# RoxygenNote: 6.1.1
# NeedsCompilation: no
# Packaged: 2020-02-01 18:46:20 UTC; chrisstubben
# Repository: CRAN
# Date/Publication: 2020-02-01 20:10:02 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
