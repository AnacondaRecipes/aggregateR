{% set version = '3.0.0' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-rdistance
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/Rdistance_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/Rdistance/Rdistance_{{ version }}.tar.gz
  sha256: d7825fb3f524d418e80f4e99deb9f21bfa276559b1182d8131496b4f4a20011d

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip
  noarch: generic

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

# Suggests: knitr, rmarkdown, testthat (>= 3.0.0), devtools
requirements:
  build:
    - {{ posix }}zip               # [win]

  host:
    - r-base
    - r-crayon
    - r-units

  run:
    - r-base
    - r-crayon
    - r-units

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('Rdistance')"           # [not win]
    - "\"%R%\" -e \"library('Rdistance')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: https://github.com/tmcd82070/Rdistance/wiki
  license: GPL-3
  summary: Distance-sampling analyses estimate density and abundance of organisms in ecology
    when detection probability declines with increasing distance from the observers.
    Distance-sampling is popular in most branches of ecology and especially when organisms
    are observed from aerial platforms (e.g., airplane or drone), surface vessels (e.g.,
    boat or truck), or along walking transects. Rdistance analyzes data collected on
    both point and line transects, estimates overall (study area) and site-level (transect
    or point) density, and allows users to specify regression-like formula (similar
    to lm or glm) for covariates. A large suite of classical, parametric detection functions
    are included along with some uncommon parametric functions (e.g., Gamma, negative
    exponential) and non-parametric smoothed distance functions. Custom (user-defined)
    detection functions can be implemented (see vignette).  Measurement unit integrity
    is enforced with internal unit conversion when necessary. The help files and vignettes
    have been vetted by multiple authors and tested in workshop settings.
  license_family: GPL3
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-3'

extra:
  recipe-maintainers:
    - katietz

# The original CRAN metadata for this package was:

# Package: Rdistance
# Type: Package
# Title: Distance-Sampling Analyses for Density and Abundance Estimation
# Version: 3.0.0
# Date: 2023-05-25
# Maintainer: Trent McDonald <trent@mcdonalddatasciences.com>
# Authors@R: c(person("Trent", "McDonald", role=c("cre","aut"), email="trent@mcdonalddatasciences.com"), person("Jason", "Carlisle", role="aut", email="jason.carlisle@wyo.gov"), person("Aidan", "McDonald", role="aut", email="aidan@mcdcentral.org", comment="point transect methods"), person("Ryan", "Nielson", role="ctb", comment="smoothed likelihood"), person("Ben", "Augustine", role="ctb", comment="maximization method"), person("James", "Griswald", role="ctb", comment="maximization method"), person("Patrick", "McKann", role="ctb", comment="maximization method"), person("Lacey", "Jeroue", role="ctb", comment="vignettes"), person("Hoffman", "Abigail", role="ctb", comment="vignettes"), person("Kleinsausser", "Michael", role="ctb", comment="vignettes"), person("Joel", "Reynolds", role="ctb", comment="Gamma likelihood"), person("Pham", "Quang", role="ctb", comment="Gamma likelihood"), person("Earl", "Becker", role="ctb", comment="Gamma likelihood"), person("Aaron", "Christ", role="ctb", comment="Gamma likelihood"), person("Brook", "Russelland", role="ctb", comment="Gamma likelihood"), person("Stefan", "Emmons", role="ctb", comment="Automated tests"), person("Will", "McDonald", role="ctb", comment="Automated tests"), person("Reid", "Olson", role="ctb", comment="Automated tests and bug fixes"))
# Description: Distance-sampling analyses estimate density and abundance of organisms in ecology when detection probability declines with increasing distance from the observers. Distance-sampling is popular in most branches of ecology and especially when organisms are observed from aerial platforms (e.g., airplane or drone), surface vessels (e.g., boat or truck), or along walking transects. Rdistance analyzes data collected on both point and line transects, estimates overall (study area) and site-level (transect or point) density, and allows users to specify regression-like formula (similar to lm or glm) for covariates. A large suite of classical, parametric detection functions are included along with some uncommon parametric functions (e.g., Gamma, negative exponential) and non-parametric smoothed distance functions. Custom (user-defined) detection functions can be implemented (see vignette).  Measurement unit integrity is enforced with internal unit conversion when necessary. The help files and vignettes have been vetted by multiple authors and tested in workshop settings.
# License: GNU General Public License
# URL: https://github.com/tmcd82070/Rdistance/wiki
# BugReports: https://github.com/tmcd82070/Rdistance/issues
# Suggests: knitr, rmarkdown, testthat (>= 3.0.0), devtools
# VignetteBuilder: knitr
# Depends: R (>= 3.5.0)
# Imports: graphics, stats, utils, units, crayon
# RoxygenNote: 7.2.3
# Encoding: UTF-8
# Config/testthat/edition: 3
# NeedsCompilation: no
# Packaged: 2023-06-13 03:21:26 UTC; trent
# Author: Trent McDonald [cre, aut], Jason Carlisle [aut], Aidan McDonald [aut] (point transect methods), Ryan Nielson [ctb] (smoothed likelihood), Ben Augustine [ctb] (maximization method), James Griswald [ctb] (maximization method), Patrick McKann [ctb] (maximization method), Lacey Jeroue [ctb] (vignettes), Hoffman Abigail [ctb] (vignettes), Kleinsausser Michael [ctb] (vignettes), Joel Reynolds [ctb] (Gamma likelihood), Pham Quang [ctb] (Gamma likelihood), Earl Becker [ctb] (Gamma likelihood), Aaron Christ [ctb] (Gamma likelihood), Brook Russelland [ctb] (Gamma likelihood), Stefan Emmons [ctb] (Automated tests), Will McDonald [ctb] (Automated tests), Reid Olson [ctb] (Automated tests and bug fixes)
# Repository: CRAN
# Date/Publication: 2023-06-13 07:30:05 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
