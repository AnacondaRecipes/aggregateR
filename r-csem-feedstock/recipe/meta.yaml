{% set version = '0.5.0' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-csem
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/cSEM_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/cSEM/cSEM_{{ version }}.tar.gz
  sha256: 25ae115520aab7d916da9ded1f87b8519c4e15101c4adef2284c51eb03d81728

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip
  noarch: generic

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

# Suggests: dplyr, tidyr, knitr, nnls, prettydoc, plotly, rmarkdown, rootSolve, listviewer, testthat, ggplot2, openxlsx, graphics
requirements:
  build:
    - {{ posix }}zip               # [win]

  host:
    - r-base
    - r-mass
    - r-matrix
    - r-rdpack
    - r-truncatednormal
    - r-alabama
    - r-cli
    - r-crayon
    - r-expm >=0.999_5
    - r-future
    - r-future.apply
    - r-lavaan
    - r-lifecycle
    - r-magrittr
    - r-matrixstats
    - r-matrixcalc
    - r-polycor
    - r-progressr
    - r-psych
    - r-purrr
    - r-rlang
    - r-symmoments

  run:
    - r-base
    - r-mass
    - r-matrix
    - r-rdpack
    - r-truncatednormal
    - r-alabama
    - r-cli
    - r-crayon
    - r-expm >=0.999_5
    - r-future
    - r-future.apply
    - r-lavaan
    - r-lifecycle
    - r-magrittr
    - r-matrixstats
    - r-matrixcalc
    - r-polycor
    - r-progressr
    - r-psych
    - r-purrr
    - r-rlang
    - r-symmoments

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('cSEM')"           # [not win]
    - "\"%R%\" -e \"library('cSEM')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: https://github.com/M-E-Rademaker/cSEM/, https://m-e-rademaker.github.io/cSEM/
  license: GPL-3
  summary: "Estimate, assess, test, and study linear, nonlinear, hierarchical and multigroup
    structural equation models using composite-based approaches and procedures, including
    estimation techniques such as partial least squares path modeling (PLS-PM) and its
    derivatives (PLSc, ordPLSc, robustPLSc), generalized structured component analysis
    (GSCA), generalized structured component analysis with uniqueness terms (GSCAm),
    generalized canonical correlation analysis (GCCA), principal component analysis
    (PCA), factor score regression (FSR) using sum score, regression or bartlett scores
    (including bias correction using Croon\u2019s approach), as well as several tests
    and typical postestimation procedures (e.g., verify admissibility of the estimates,
    assess the model fit, test the model fit etc.)."
  license_family: GPL3
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-3'

# The original CRAN metadata for this package was:

# Package: cSEM
# Title: Composite-Based Structural Equation Modeling
# Version: 0.5.0
# Date: 2022-11-24
# Authors@R: c(person(given = "Manuel E.", family = "Rademaker", role  = c("aut"), email = "manuel-rademaker@outlook.de", comment = c(ORCID = "0000-0002-8902-3561")), person(given = "Florian", family = "Schuberth", role  = c("aut", "cre"), email = "f.schuberth@utwente.nl", comment = c(ORCID = "0000-0002-2110-9086")), person(given = "Tamara", family = "Schamberger", role  = c("ctb"), email = "tamara.schamberger@uni-wuerzburg.de", comment = c(ORCID = "0000-0002-7845-784X")), person(given = "Michael", family = "Klesel", role  = c("ctb"), email = "", comment = c(ORCID = "0000-0002-2884-1819")), person(given = "Theo K.", family = "Dijkstra", role  = c("ctb"), email = ""), person(given = "Jorg", family = "Henseler", role  = c("ctb"), email = "", comment = c(ORCID = "0000-0002-9736-3048")))
# Maintainer: Florian Schuberth <f.schuberth@utwente.nl>
# Depends: R (>= 3.5.0)
# Description: Estimate, assess, test, and study linear, nonlinear, hierarchical and multigroup structural equation models using composite-based approaches and procedures, including estimation techniques such as partial least squares path modeling (PLS-PM) and its derivatives (PLSc, ordPLSc, robustPLSc), generalized structured component analysis (GSCA), generalized structured component analysis with uniqueness terms (GSCAm), generalized canonical correlation analysis (GCCA), principal component analysis (PCA), factor score regression (FSR) using sum score, regression or bartlett scores (including bias correction using Croons approach), as well as several tests and typical postestimation procedures (e.g., verify admissibility of the estimates, assess the model fit, test the model fit etc.).
# BugReports: https://github.com/M-E-Rademaker/cSEM/issues/
# URL: https://github.com/M-E-Rademaker/cSEM/, https://m-e-rademaker.github.io/cSEM/
# License: GPL-3
# Encoding: UTF-8
# LazyData: true
# Imports: alabama, cli, crayon, expm (>= 0.999-5), future.apply, future, lavaan, magrittr, MASS, Matrix, matrixcalc, matrixStats, polycor, progressr, psych, purrr, Rdpack, rlang, stats, symmoments, TruncatedNormal, utils, lifecycle
# RdMacros: Rdpack, lifecycle
# RoxygenNote: 7.2.2
# Suggests: dplyr, tidyr, knitr, nnls, prettydoc, plotly, rmarkdown, rootSolve, listviewer, testthat, ggplot2, openxlsx, graphics
# VignetteBuilder: knitr
# NeedsCompilation: no
# Packaged: 2022-11-24 16:22:23 UTC; SchuberthF
# Author: Manuel E. Rademaker [aut] (<https://orcid.org/0000-0002-8902-3561>), Florian Schuberth [aut, cre] (<https://orcid.org/0000-0002-2110-9086>), Tamara Schamberger [ctb] (<https://orcid.org/0000-0002-7845-784X>), Michael Klesel [ctb] (<https://orcid.org/0000-0002-2884-1819>), Theo K. Dijkstra [ctb], Jorg Henseler [ctb] (<https://orcid.org/0000-0002-9736-3048>)
# Repository: CRAN
# Date/Publication: 2022-11-24 17:50:05 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
