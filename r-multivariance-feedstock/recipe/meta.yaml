{% set version = '2.4.1' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-multivariance
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/multivariance_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/multivariance/multivariance_{{ version }}.tar.gz
  sha256: 3cec8c66342fa39c642612387e11d5aedbda87cfb088cfa1df4f1adf600e7bc9

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

# Suggests: testthat
requirements:
  build:
    - {{ compiler('c') }}              # [not win]
    - {{ compiler('m2w64_c') }}        # [win]
    - {{ compiler('cxx') }}            # [not win]
    - {{ compiler('m2w64_cxx') }}      # [win]
    - {{ posix }}filesystem        # [win]
    - {{ posix }}make
    - {{ posix }}sed               # [win]
    - {{ posix }}coreutils         # [win]
    - {{ posix }}zip               # [win]

  host:
    - r-base
    - r-rcpp
    - r-igraph
    - r-microbenchmark

  run:
    - r-base
    - {{native}}gcc-libs         # [win]
    - r-rcpp
    - r-igraph
    - r-microbenchmark

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('multivariance')"           # [not win]
    - "\"%R%\" -e \"library('multivariance')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: https://CRAN.R-project.org/package=multivariance
  license: GPL-3
  summary: "Distance multivariance is a measure of dependence which can be used to detect and
    quantify dependence of arbitrarily many random vectors. The necessary functions
    are implemented in this packages and examples are given. It includes: distance multivariance,
    distance multicorrelation, dependence structure detection, tests of independence
    and copula versions of distance multivariance based on the Monte Carlo empirical
    transform. Detailed references are given in the package description, as starting
    point for the theoretic background we refer to: B. B\xF6ttcher, Dependence and Dependence
    Structures: Estimation and Visualization Using the Unifying Concept of Distance
    Multivariance. Open Statistics, Vol. 1, No. 1 (2020), <doi:10.1515/stat-2020-0001>."
  license_family: GPL3
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-3'

extra:
  recipe-maintainers:
    - katietz

# The original CRAN metadata for this package was:

# Package: multivariance
# Title: Measuring Multivariate Dependence Using Distance Multivariance
# Version: 2.4.1
# Date: 2021-10-06
# Authors@R: c( person("Bjorn", "Bottcher", email = "bjoern.boettcher@tu-dresden.de",role = c("aut", "cre")), person("Martin", "Keller-Ressel", email = "martin.keller-ressel@tu-dresden.de", role = "ctb") )
# Description: Distance multivariance is a measure of dependence which can be used to detect and quantify dependence of arbitrarily many random vectors. The necessary functions are implemented in this packages and examples are given. It includes: distance multivariance, distance multicorrelation, dependence structure detection, tests of independence and copula versions of distance multivariance based on the Monte Carlo empirical transform. Detailed references are given in the package description, as starting point for the theoretic background we refer to: B. Bottcher, Dependence and Dependence Structures: Estimation and Visualization Using the Unifying Concept of Distance Multivariance. Open Statistics, Vol. 1, No. 1 (2020), <doi:10.1515/stat-2020-0001>.
# Depends: R (>= 3.3.0)
# License: GPL-3
# Encoding: UTF-8
# LazyData: true
# Imports: igraph, graphics, stats, Rcpp, microbenchmark
# RoxygenNote: 7.1.2
# Suggests: testthat
# LinkingTo: Rcpp
# NeedsCompilation: yes
# Packaged: 2021-10-06 15:06:41 UTC; BB
# Author: Bjorn Bottcher [aut, cre], Martin Keller-Ressel [ctb]
# Maintainer: Bjorn Bottcher <bjoern.boettcher@tu-dresden.de>
# Repository: CRAN
# Date/Publication: 2021-10-06 15:50:05 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
