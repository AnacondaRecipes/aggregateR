{% set version = '4.2.7' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-rhrv
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/RHRV_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/RHRV/RHRV_{{ version }}.tar.gz
  sha256: 91075b2b264db233643d26625287d6991794ff4bb3095a34ac9d2718a6169970

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

# Suggests: tcltk, tkrplot, knitr, rmarkdown
requirements:
  build:
    - {{ compiler('c') }}              # [not win]
    - {{ compiler('m2w64_c') }}        # [win]
    - {{ posix }}filesystem        # [win]
    - {{ posix }}make
    - {{ posix }}sed               # [win]
    - {{ posix }}coreutils         # [win]
    - {{ posix }}zip               # [win]

  host:
    - r-base
    - r-lomb >=1.0
    - r-nonlineartseries >=0.2.3
    - r-waveslim >=1.6.4

  run:
    - r-base
    - {{native}}gcc-libs         # [win]
    - r-lomb >=1.0
    - r-nonlineartseries >=0.2.3
    - r-waveslim >=1.6.4

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('RHRV')"           # [not win]
    - "\"%R%\" -e \"library('RHRV')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: http://rhrv.r-forge.r-project.org/
  license: GPL-2
  summary: "Allows users to import data files containing heartbeat\tpositions in the most broadly
    used formats, to remove outliers or points with unacceptable physiological values
    present in the time series, to plot HRV data, and to perform time domain, frequency
    domain and nonlinear HRV analysis. See Garcia et al. (2017) <DOI:10.1007/978-3-319-65355-6>."
  license_family: GPL2
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-2'

# The original CRAN metadata for this package was:

# Package: RHRV
# Type: Package
# Title: Heart Rate Variability Analysis of ECG Data
# Version: 4.2.7
# Date: 2022-10-31
# Maintainer: Leandro Rodriguez-Linares <leandro@uvigo.es>
# Authors@R: c(person("Leandro", "Rodriguez-Linares", email = "leandro@uvigo.es", role = c("aut", "cre")), person("Xose", "Vila", role = "aut"), person("Maria Jose", "Lado", role = "aut"), person("Arturo", "Mendez", role = "aut"), person("Abraham", "Otero", role = "aut"), person("Constantino Antonio", "Garcia", role = "aut"), person("Matti", "Lassila", role = "ctb"))
# URL: http://rhrv.r-forge.r-project.org/
# Description: Allows users to import data files containing heartbeat	positions in the most broadly used formats, to remove outliers or points with unacceptable physiological values present in the time series, to plot HRV data, and to perform time domain, frequency domain and nonlinear HRV analysis. See Garcia et al. (2017) <DOI:10.1007/978-3-319-65355-6>.
# License: GPL-2
# Copyright: Code for the wavelet transform is based on Brandon Whitcher's work. See file COPYRIGHT for details
# Depends: R (>= 3.0.0), waveslim(>= 1.6.4), nonlinearTseries (>= 0.2.3), lomb (>= 1.0)
# Suggests: tcltk, tkrplot, knitr, rmarkdown
# VignetteBuilder: knitr
# RoxygenNote: 5.0.1
# NeedsCompilation: yes
# Packaged: 2022-10-31 15:57:08 UTC; leandro
# Author: Leandro Rodriguez-Linares [aut, cre], Xose Vila [aut], Maria Jose Lado [aut], Arturo Mendez [aut], Abraham Otero [aut], Constantino Antonio Garcia [aut], Matti Lassila [ctb]
# Repository: CRAN
# Date/Publication: 2022-10-31 20:05:02 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
