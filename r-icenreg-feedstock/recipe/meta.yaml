{% set version = '2.0.15' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-icenreg
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/icenReg_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/icenReg/icenReg_{{ version }}.tar.gz
  sha256: 0a173ca5fce64a71f44cb3df8c1a01f01c92d6425c0895cc2939ae1289dc54b2

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

requirements:
  build:
    - {{ compiler('c') }}              # [not win]
    - {{ compiler('m2w64_c') }}        # [win]
    - {{ compiler('cxx') }}            # [not win]
    - {{ compiler('m2w64_cxx') }}      # [win]
    - {{ posix }}filesystem        # [win]
    - {{ posix }}make
    - {{ posix }}sed               # [win]
    - {{ posix }}coreutils         # [win]
    - {{ posix }}zip               # [win]

  host:
    - r-base
    - r-mlecens
    - r-rcpp
    - r-rcppeigen
    - r-coda
    - r-foreach
    - r-survival

  run:
    - r-base
    - {{native}}gcc-libs         # [win]
    - r-mlecens
    - r-rcpp
    - r-rcppeigen
    - r-coda
    - r-foreach
    - r-survival

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('icenReg')"           # [not win]
    - "\"%R%\" -e \"library('icenReg')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: https://CRAN.R-project.org/package=icenReg
  license: LGPL (>= 2.0, < 3)
  summary: Regression models for interval censored data. Currently supports Cox-PH, proportional
    odds, and accelerated failure time models. Allows for semi and fully parametric
    models (parametric only for accelerated failure time models) and Bayesian parametric
    models. Includes functions for easy visual diagnostics of model fits and imputation
    of censored data.
  license_family: LGPL

# The original CRAN metadata for this package was:

# Package: icenReg
# Type: Package
# Title: Regression Models for Interval Censored Data
# Version: 2.0.15
# Date: 2020-10-03
# Author: Clifford Anderson-Bergman
# Depends: survival, Rcpp, coda
# Imports: foreach, methods, MLEcens
# LinkingTo: Rcpp, RcppEigen
# Maintainer: Clifford Anderson-Bergman <pistacliffcho@gmail.com>
# Description: Regression models for interval censored data. Currently supports Cox-PH, proportional odds, and accelerated failure time models. Allows for semi and fully parametric models (parametric only for accelerated failure time models) and Bayesian parametric models. Includes functions for easy visual diagnostics of model fits and imputation of censored data.
# License: LGPL (>= 2.0, < 3)
# Packaged: 2020-10-04 05:35:09 UTC; cliffordanderson-bergman
# RoxygenNote: 6.1.1
# NeedsCompilation: yes
# Repository: CRAN
# Date/Publication: 2020-10-04 06:20:02 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
