{% set version = '2.5.2' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-excursions
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/excursions_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/excursions/excursions_{{ version }}.tar.gz
  sha256: eabd4187b2fde90f79c34781728e5fb94b666c98ed958d1c937d01083bf71ba8

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

# Suggests: INLA (>= 21.08.31), testthat, rgeos, rgdal
requirements:
  build:
    - {{ compiler('c') }}              # [not win]
    - {{ compiler('m2w64_c') }}        # [win]
    - {{ compiler('cxx') }}            # [not win]
    - {{ compiler('m2w64_cxx') }}      # [win]
    - {{ posix }}filesystem        # [win]
    - {{ posix }}make
    - {{ posix }}sed               # [win]
    - {{ posix }}coreutils         # [win]
    - {{ posix }}zip               # [win]

  host:
    - r-base
    - r-matrix
    - r-sp
    - r-withr

  run:
    - r-base
    - {{native}}gcc-libs         # [win]
    - r-matrix
    - r-sp
    - r-withr

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('excursions')"           # [not win]
    - "\"%R%\" -e \"library('excursions')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: https://github.com/davidbolin/excursions
  license: GPL-3
  summary: Functions that compute probabilistic excursion sets, contour credibility regions,
    contour avoiding regions, and simultaneous confidence bands for latent Gaussian
    random processes and fields. The package also contains functions that calculate
    these quantities for models estimated with the INLA package. The main references
    for excursions are Bolin and Lindgren (2015) <doi:10.1111/rssb.12055>, Bolin and
    Lindgren (2017) <doi:10.1080/10618600.2016.1228537>, and Bolin and Lindgren (2018)
    <doi:10.18637/jss.v086.i05>. These can be generated by the citation function in
    R.
  license_family: GPL3
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-3'

extra:
  recipe-maintainers:
    - katietz

# The original CRAN metadata for this package was:

# Package: excursions
# Type: Package
# Title: Excursion Sets and Contour Credibility Regions for Random Fields
# Version: 2.5.2
# Authors@R: c( person("David", "Bolin", email = "davidbolin@gmail.com", role = c("cre", "aut")), person("Finn", "Lindgren", email = "finn.lindgren@gmail.com", role = "aut"))
# Description: Functions that compute probabilistic excursion sets, contour credibility regions, contour avoiding regions, and simultaneous confidence bands for latent Gaussian random processes and fields. The package also contains functions that calculate these quantities for models estimated with the INLA package. The main references for excursions are Bolin and Lindgren (2015) <doi:10.1111/rssb.12055>, Bolin and Lindgren (2017) <doi:10.1080/10618600.2016.1228537>, and Bolin and Lindgren (2018) <doi:10.18637/jss.v086.i05>. These can be generated by the citation function in R.
# Depends: R (>= 3.5), Matrix, sp
# Suggests: INLA (>= 21.08.31), testthat, rgeos, rgdal
# Imports: graphics, methods, stats, withr
# Additional_repositories: https://inla.r-inla-download.org/R/testing
# BugReports: https://github.com/davidbolin/excursions/issues
# License: GPL (>= 3)
# URL: https://github.com/davidbolin/excursions
# Copyright: The R package and code, and the main programs, were written by and are Copyright by David Bolin and Finn Lindgren, and are redistributable under the GNU Public License, version 3 or later.  The package also includes code from the libraries CAMD from the SuiteSparse collection of Tim Davis, as well as functions from the GNU Scientific library and the RngStreams library by Pierre L'Ecuyer.  For details see the COPYRIGHTS file.
# NeedsCompilation: yes
# RoxygenNote: 7.1.1
# Encoding: UTF-8
# Packaged: 2021-09-15 08:09:38 UTC; bolinjd
# Author: David Bolin [cre, aut], Finn Lindgren [aut]
# Maintainer: David Bolin <davidbolin@gmail.com>
# Repository: CRAN
# Date/Publication: 2021-09-17 08:20:05 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
