{% set version = '2.5.5' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-excursions
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/excursions_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/excursions/excursions_{{ version }}.tar.gz
  sha256: 12e5d838a6a720f959f9b4b53cbbd5e88d07d2cdd59059b0792f9b07939493fa

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

# Suggests: INLA (>= 21.08.31), testthat (>= 3.0.0), sf, rgdal
requirements:
  build:
    - {{ compiler('c') }}              # [not win]
    - {{ compiler('m2w64_c') }}        # [win]
    - {{ compiler('cxx') }}            # [not win]
    - {{ compiler('m2w64_cxx') }}      # [win]
    - {{ posix }}filesystem        # [win]
    - {{ posix }}make
    - {{ posix }}sed               # [win]
    - {{ posix }}grep              # [win]
    - {{ posix }}autoconf
    - {{ posix }}automake          # [not win]
    - {{ posix }}automake-wrapper  # [win]
    - {{ posix }}pkg-config
    - {{ posix }}make
    - {{ posix }}coreutils         # [win]
    - {{ posix }}zip               # [win]

  host:
    - r-base
    - r-matrix
    - r-sp
    - r-withr
    - gsl

  run:
    - r-base
    - {{native}}gcc-libs         # [win]
    - r-matrix
    - r-sp
    - r-withr
    - gsl

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('excursions')"           # [not win]
    - "\"%R%\" -e \"library('excursions')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: https://github.com/davidbolin/excursions
  license: GPL-3
  summary: Functions that compute probabilistic excursion sets, contour credibility regions,
    contour avoiding regions, and simultaneous confidence bands for latent Gaussian
    random processes and fields. The package also contains functions that calculate
    these quantities for models estimated with the INLA package. The main references
    for excursions are Bolin and Lindgren (2015) <doi:10.1111/rssb.12055>, Bolin and
    Lindgren (2017) <doi:10.1080/10618600.2016.1228537>, and Bolin and Lindgren (2018)
    <doi:10.18637/jss.v086.i05>. These can be generated by the citation function in
    R.
  license_family: GPL3
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-3'

extra:
  recipe-maintainers:
    - katietz

# The original CRAN metadata for this package was:

# Package: excursions
# Type: Package
# Title: Excursion Sets and Contour Credibility Regions for Random Fields
# Version: 2.5.5
# Authors@R: c( person("David", "Bolin", email = "davidbolin@gmail.com", role = c("cre", "aut")), person("Finn", "Lindgren", email = "finn.lindgren@gmail.com", role = "aut"))
# Description: Functions that compute probabilistic excursion sets, contour credibility regions, contour avoiding regions, and simultaneous confidence bands for latent Gaussian random processes and fields. The package also contains functions that calculate these quantities for models estimated with the INLA package. The main references for excursions are Bolin and Lindgren (2015) <doi:10.1111/rssb.12055>, Bolin and Lindgren (2017) <doi:10.1080/10618600.2016.1228537>, and Bolin and Lindgren (2018) <doi:10.18637/jss.v086.i05>. These can be generated by the citation function in R.
# Depends: R (>= 3.5), Matrix, sp
# Suggests: INLA (>= 21.08.31), testthat (>= 3.0.0), sf, rgdal
# Imports: graphics, methods, stats, withr
# SystemRequirements: Gnu Scientific Library version >= 2.1
# Additional_repositories: https://inla.r-inla-download.org/R/testing
# BugReports: https://github.com/davidbolin/excursions/issues
# License: GPL (>= 3)
# URL: https://github.com/davidbolin/excursions
# Copyright: The R package and code, and the main programs, were written by and are Copyright by David Bolin and Finn Lindgren, and are redistributable under the GNU Public License, version 3 or later.  The package also includes code from the libraries CAMD from the SuiteSparse collection of Tim Davis, and the RngStreams library by Pierre L'Ecuyer.  For details see the COPYRIGHTS file.
# NeedsCompilation: yes
# RoxygenNote: 7.2.3
# Encoding: UTF-8
# Config/testthat/parallel: true
# Config/testthat/edition: 3
# Packaged: 2023-01-24 10:42:58 UTC; bolinjd
# Author: David Bolin [cre, aut], Finn Lindgren [aut]
# Maintainer: David Bolin <davidbolin@gmail.com>
# Repository: CRAN
# Date/Publication: 2023-01-25 09:10:02 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
