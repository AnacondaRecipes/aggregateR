{% set version = '1.23-1' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-dtw
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/dtw_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/dtw/dtw_{{ version }}.tar.gz
  sha256: 6ed6a3b52be673ce2617b8d48723c7c488c95aab88fe2912d7e00507838e826d

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

requirements:
  build:
    - {{ compiler('c') }}              # [not win]
    - {{ compiler('m2w64_c') }}        # [win]
    - {{ posix }}filesystem        # [win]
    - {{ posix }}make
    - {{ posix }}sed               # [win]
    - {{ posix }}coreutils         # [win]
    - {{ posix }}zip               # [win]

  host:
    - r-base
    - r-proxy

  run:
    - r-base
    - {{native}}gcc-libs         # [win]
    - r-proxy

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('dtw')"           # [not win]
    - "\"%R%\" -e \"library('dtw')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: https://dynamictimewarping.github.io/, http://dtw.r-forge.r-project.org/
  license: GPL-2
  summary: A comprehensive implementation of dynamic time warping (DTW) algorithms in R.  DTW
    computes the optimal (least cumulative distance) alignment between points of two
    time series.  Common DTW variants covered include local (slope) and global (window)
    constraints, subsequence matches, arbitrary distance definitions, normalizations,
    minimum variance matching, and so on.  Provides cumulative distances, alignments,
    specialized plot styles, etc., as described in Giorgino (2009) <doi:10.18637/jss.v031.i07>.
  license_family: GPL2
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-2'

# The original CRAN metadata for this package was:

# Package: dtw
# Type: Package
# Title: Dynamic Time Warping Algorithms
# Description: A comprehensive implementation of dynamic time warping (DTW) algorithms in R.  DTW computes the optimal (least cumulative distance) alignment between points of two time series.  Common DTW variants covered include local (slope) and global (window) constraints, subsequence matches, arbitrary distance definitions, normalizations, minimum variance matching, and so on.  Provides cumulative distances, alignments, specialized plot styles, etc., as described in Giorgino (2009) <doi:10.18637/jss.v031.i07>.
# Authors@R: c(person("Toni","Giorgino",email="toni.giorgino@gmail.com",role=c("aut","cre")))
# Version: 1.23-1
# Date: 2022-9-19
# Depends: R (>= 2.10.0), proxy
# Imports: graphics, grDevices, stats, utils
# License: GPL (>= 2)
# URL: https://dynamictimewarping.github.io/, http://dtw.r-forge.r-project.org/
# RoxygenNote: 7.2.1
# Encoding: UTF-8
# NeedsCompilation: yes
# Packaged: 2022-09-19 17:02:06 UTC; toni
# Author: Toni Giorgino [aut, cre]
# Maintainer: Toni Giorgino <toni.giorgino@gmail.com>
# Repository: CRAN
# Date/Publication: 2022-09-19 17:36:11 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
