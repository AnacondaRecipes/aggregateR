{% set version = '0.2.0' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-cubeview
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/cubeview_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/cubeview/cubeview_{{ version }}.tar.gz
  sha256: aba1eae81d0c315cdc09ad7abb434f036a6b90627af7e123e939f5244584a28c

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip
  noarch: generic

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

# Suggests: methods, shiny
requirements:
  build:
    - {{ posix }}zip               # [win]

  host:
    - r-base
    - r-base64enc
    - r-htmltools
    - r-htmlwidgets
    - r-lattice
    - r-raster
    - r-stars
    - r-viridislite

  run:
    - r-base
    - r-base64enc
    - r-htmltools
    - r-htmlwidgets
    - r-lattice
    - r-raster
    - r-stars
    - r-viridislite

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('cubeview')"           # [not win]
    - "\"%R%\" -e \"library('cubeview')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: https://CRAN.R-project.org/package=cubeview
  license: MIT
  summary: Creates a 3D data cube view of a RasterStack/Brick, typically a collection/array of
    RasterLayers (along z-axis) with the same geographical extent (x and y dimensions)
    and resolution, provided by package 'raster'. Slices through each dimension (x/y/z),
    freely adjustable in location, are mapped to the visible sides of the cube. The
    cube can be freely rotated. Zooming and panning can be used to focus on different
    areas of the cube.
  license_family: MIT
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/MIT'
    - LICENSE

extra:
  recipe-maintainers:
    - katietz

# The original CRAN metadata for this package was:

# Package: cubeview
# Type: Package
# Title: View 3D Raster Cubes Interactively
# Version: 0.2.0
# Date: 2019-09-23
# Authors@R: c(person(given = "Tim", family = "Appelhans", role = c("cre", "aut"), email = "tim.appelhans@gmail.com"), person(given = "Stefan", family = "Woellauer", role = "aut", email = "stephan.woellauer@geo.uni-marburg.de"), person("three.js authors", role = c("ctb", "cph"), comment = "three.js library"))
# Maintainer: Tim Appelhans <tim.appelhans@gmail.com>
# Description: Creates a 3D data cube view of a RasterStack/Brick, typically a collection/array of RasterLayers (along z-axis) with the same geographical extent (x and y dimensions) and resolution, provided by package 'raster'. Slices through each dimension (x/y/z), freely adjustable in location, are mapped to the visible sides of the cube. The cube can be freely rotated. Zooming and panning can be used to focus on different areas of the cube.
# License: MIT + file LICENSE
# Encoding: UTF-8
# Depends: R (>= 2.10)
# Imports: base64enc, htmltools, htmlwidgets, lattice, raster, stars, viridisLite
# Suggests: methods, shiny
# LazyData: true
# RoxygenNote: 6.1.1
# NeedsCompilation: no
# Packaged: 2019-09-24 07:00:28 UTC; Tim
# Author: Tim Appelhans [cre, aut], Stefan Woellauer [aut], three.js authors [ctb, cph] (three.js library)
# Repository: CRAN
# Date/Publication: 2019-09-24 07:20:02 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
