{% set version = '1.0.1' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-workflowsets
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/workflowsets_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/workflowsets/workflowsets_{{ version }}.tar.gz
  sha256: 11ae3a3d2122cd923b3ce14738b7ae66d5a3b4bbbbf85323c512d61d3a1568e7

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip
  noarch: generic

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

# Suggests: covr, dials (>= 0.1.0), finetune, kknn, knitr, modeldata, recipes (>= 1.0.0), rmarkdown, spelling, testthat (>= 3.0.0), tidyclust, yardstick (>= 1.0.0)
requirements:
  build:
    - {{ posix }}zip               # [win]

  host:
    - r-base
    - r-cli
    - r-dplyr >=1.0.0
    - r-generics >=0.1.2
    - r-ggplot2
    - r-glue
    - r-hardhat >=1.2.0
    - r-lifecycle >=1.0.0
    - r-parsnip >=1.0.0
    - r-pillar >=1.7.0
    - r-prettyunits
    - r-purrr
    - r-rlang
    - r-rsample >=0.0.9
    - r-tibble >=3.1.0
    - r-tidyr
    - r-tune >=1.1.0
    - r-vctrs
    - r-withr
    - r-workflows >=1.0.0

  run:
    - r-base
    - r-cli
    - r-dplyr >=1.0.0
    - r-generics >=0.1.2
    - r-ggplot2
    - r-glue
    - r-hardhat >=1.2.0
    - r-lifecycle >=1.0.0
    - r-parsnip >=1.0.0
    - r-pillar >=1.7.0
    - r-prettyunits
    - r-purrr
    - r-rlang
    - r-rsample >=0.0.9
    - r-tibble >=3.1.0
    - r-tidyr
    - r-tune >=1.1.0
    - r-vctrs
    - r-withr
    - r-workflows >=1.0.0

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('workflowsets')"           # [not win]
    - "\"%R%\" -e \"library('workflowsets')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: https://github.com/tidymodels/workflowsets, https://workflowsets.tidymodels.org
  license: MIT
  summary: A workflow is a combination of a model and preprocessors (e.g, a formula, recipe,
    etc.) (Kuhn and Silge (2021) <https://www.tmwr.org/>). In order to try different
    combinations of these, an object can be created that contains many workflows. There
    are functions to create workflows en masse as well as training them and visualizing
    the results.
  license_family: MIT
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/MIT'
    - LICENSE

# The original CRAN metadata for this package was:

# Package: workflowsets
# Title: Create a Collection of 'tidymodels' Workflows
# Version: 1.0.1
# Authors@R: c( person("Max", "Kuhn", , "max@posit.co", role = c("aut"), comment = c(ORCID = "0000-0003-2402-136X")), person("Simon", "Couch", , "simon.couch@posit.co", role = c("aut", "cre"), comment = c(ORCID = "0000-0001-5676-5107")), person(given = "Posit Software, PBC", role = c("cph", "fnd")) )
# Description: A workflow is a combination of a model and preprocessors (e.g, a formula, recipe, etc.) (Kuhn and Silge (2021) <https://www.tmwr.org/>). In order to try different combinations of these, an object can be created that contains many workflows. There are functions to create workflows en masse as well as training them and visualizing the results.
# License: MIT + file LICENSE
# URL: https://github.com/tidymodels/workflowsets, https://workflowsets.tidymodels.org
# BugReports: https://github.com/tidymodels/workflowsets/issues
# Depends: R (>= 3.5)
# Imports: cli, dplyr (>= 1.0.0), generics (>= 0.1.2), ggplot2, glue, hardhat (>= 1.2.0), lifecycle (>= 1.0.0), parsnip (>= 1.0.0), pillar (>= 1.7.0), prettyunits, purrr, rlang, rsample (>= 0.0.9), stats, tibble (>= 3.1.0), tidyr, tune (>= 1.1.0), vctrs, withr, workflows (>= 1.0.0)
# Suggests: covr, dials (>= 0.1.0), finetune, kknn, knitr, modeldata, recipes (>= 1.0.0), rmarkdown, spelling, testthat (>= 3.0.0), tidyclust, yardstick (>= 1.0.0)
# VignetteBuilder: knitr
# Config/Needs/website: discrim, rpart, mda, klaR, earth, tidymodels, tidyverse/tidytemplate
# Config/testthat/edition: 3
# Encoding: UTF-8
# Language: en-US
# LazyData: true
# RoxygenNote: 7.2.3
# NeedsCompilation: no
# Packaged: 2023-04-06 18:37:45 UTC; simoncouch
# Author: Max Kuhn [aut] (<https://orcid.org/0000-0003-2402-136X>), Simon Couch [aut, cre] (<https://orcid.org/0000-0001-5676-5107>), Posit Software, PBC [cph, fnd]
# Maintainer: Simon Couch <simon.couch@posit.co>
# Repository: CRAN
# Date/Publication: 2023-04-06 22:40:02 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
