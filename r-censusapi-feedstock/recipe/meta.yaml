{% set version = '0.8.0' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-censusapi
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/censusapi_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/censusapi/censusapi_{{ version }}.tar.gz
  sha256: 1998a52c533c315510799b7caaca0f8a06a5206c030ffd07f3cb8155a7695cf3

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip
  noarch: generic

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

# Suggests: knitr, rmarkdown
requirements:
  build:
    - {{ posix }}zip               # [win]

  host:
    - r-base
    - r-httr
    - r-jsonlite

  run:
    - r-base
    - r-httr
    - r-jsonlite

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('censusapi')"           # [not win]
    - "\"%R%\" -e \"library('censusapi')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: https://www.hrecht.com/censusapi/, https://github.com/hrecht/censusapi
  license: GPL-3
  summary: A wrapper for the U.S. Census Bureau APIs that returns data frames of Census data
    and metadata. Available datasets include the Decennial Census, American Community
    Survey, Small Area Health Insurance Estimates, Small Area Income and Poverty Estimates,
    Population Estimates and Projections, and more.
  license_family: GPL3
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-3'

extra:
  recipe-maintainers:
    - katietz

# The original CRAN metadata for this package was:

# Package: censusapi
# Version: 0.8.0
# Title: Retrieve Data from the Census APIs
# Authors@R: person("Hannah", "Recht", email = "censusapi.rstats@gmail.com", role = c("aut", "cre"))
# Description: A wrapper for the U.S. Census Bureau APIs that returns data frames of Census data and metadata. Available datasets include the Decennial Census, American Community Survey, Small Area Health Insurance Estimates, Small Area Income and Poverty Estimates, Population Estimates and Projections, and more.
# URL: https://www.hrecht.com/censusapi/, https://github.com/hrecht/censusapi
# BugReports: https://github.com/hrecht/censusapi/issues
# Depends: R (>= 3.0.0)
# License: GPL-3
# LazyData: true
# RoxygenNote: 7.2.1
# Imports: httr, jsonlite, utils
# Suggests: knitr, rmarkdown
# Encoding: UTF-8
# NeedsCompilation: no
# Packaged: 2022-08-08 17:13:24 UTC; hrecht
# Author: Hannah Recht [aut, cre]
# Maintainer: Hannah Recht <censusapi.rstats@gmail.com>
# Repository: CRAN
# Date/Publication: 2022-08-09 15:30:16 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
