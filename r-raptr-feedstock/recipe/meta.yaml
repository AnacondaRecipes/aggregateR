{% set version = '1.0.0' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-raptr
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/raptr_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/raptr/raptr_{{ version }}.tar.gz
  sha256: f45bd7325b960d3d1c0cdd0bc156902574ba265982846e89c72aa41431fae11e

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

# Suggests: knitr, roxygen2, rmarkdown, testthat, RgoogleMaps (>= 1.4.5.3), dplyr (>= 1.0.8), vegan (>= 2.6.2), gurobi (>= 8.0.0), gridExtra (>= 2.3), rgl (>= 1.0.1)
requirements:
  build:
    - {{ compiler('c') }}              # [not win]
    - {{ compiler('m2w64_c') }}        # [win]
    - {{ compiler('cxx') }}            # [not win]
    - {{ compiler('m2w64_cxx') }}      # [win]
    - {{ posix }}filesystem        # [win]
    - {{ posix }}make
    - {{ posix }}sed               # [win]
    - {{ posix }}coreutils         # [win]
    - {{ posix }}zip               # [win]

  host:
    - r-base
    - r-bh
    - r-matrix >=1.4.1
    - r-pbsmapping >=2.73.0
    - r-rcolorbrewer >=1.1.3
    - r-rcpp
    - r-rcppeigen
    - r-adehabitathr >=0.4.19
    - r-assertthat >=0.2.1
    - r-boot >=1.3.28
    - r-ggplot2 >=3.4.0
    - r-hypervolume >=2.0.7
    - r-ks >=1.13.5
    - r-mvtnorm >=1.1.3
    - r-scales >=1.2.0
    - r-sf >=1.0.9
    - r-shape >=1.4.6
    - r-sp >=1.4.6
    - r-terra >=1.6.47
    - r-withr >=2.5.0

  run:
    - r-base
    - {{native}}gcc-libs         # [win]
    - r-bh
    - r-matrix >=1.4.1
    - r-pbsmapping >=2.73.0
    - r-rcolorbrewer >=1.1.3
    - r-rcpp
    - r-rcppeigen
    - r-adehabitathr >=0.4.19
    - r-assertthat >=0.2.1
    - r-boot >=1.3.28
    - r-ggplot2 >=3.4.0
    - r-hypervolume >=2.0.7
    - r-ks >=1.13.5
    - r-mvtnorm >=1.1.3
    - r-scales >=1.2.0
    - r-sf >=1.0.9
    - r-shape >=1.4.6
    - r-sp >=1.4.6
    - r-terra >=1.6.47
    - r-withr >=2.5.0

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('raptr')"           # [not win]
    - "\"%R%\" -e \"library('raptr')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: https://jeffrey-hanson.com/raptr/, https://github.com/jeffreyhanson/raptr
  license: GPL-3
  summary: Biodiversity is in crisis. The overarching aim of conservation is to preserve biodiversity
    patterns and processes. To this end, protected areas are established to buffer species
    and preserve biodiversity processes. But resources are limited and so protected
    areas must be cost-effective. This package contains tools to generate plans for
    protected areas (prioritizations), using spatially explicit targets for biodiversity
    patterns and processes. To obtain solutions in a feasible amount  of time, this
    package uses the commercial 'Gurobi' software (obtained from <https://www.gurobi.com/>).
    For more information on using this package, see Hanson et al. (2018) <doi:10.1111/2041-210X.12862>.
  license_family: GPL3
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-3'

# The original CRAN metadata for this package was:

# Package: raptr
# Type: Package
# Title: Representative and Adequate Prioritization Toolkit in R
# Version: 1.0.0
# Authors@R: c(person(c("Jeffrey", "O"), "Hanson", email="jeffrey.hanson@uqconnect.edu.au", role = c("aut", "cre")), person(c("Jonathan", "R"), "Rhodes", role = c("aut")), person(c("Hugh", "P"), "Possingham", role = c("aut")), person(c("Richard", "A"), "Fuller", role = c("aut")))
# Description: Biodiversity is in crisis. The overarching aim of conservation is to preserve biodiversity patterns and processes. To this end, protected areas are established to buffer species and preserve biodiversity processes. But resources are limited and so protected areas must be cost-effective. This package contains tools to generate plans for protected areas (prioritizations), using spatially explicit targets for biodiversity patterns and processes. To obtain solutions in a feasible amount  of time, this package uses the commercial 'Gurobi' software (obtained from <https://www.gurobi.com/>). For more information on using this package, see Hanson et al. (2018) <doi:10.1111/2041-210X.12862>.
# Imports: utils, methods, stats, graphics, grDevices, sp (>= 1.4.6), Matrix (>= 1.4.1), assertthat (>= 0.2.1), boot (>= 1.3.28), PBSmapping (>= 2.73.0), scales (>= 1.2.0), shape (>= 1.4.6), adehabitatHR (>= 0.4.19), RColorBrewer (>= 1.1.3), ggplot2 (>= 3.4.0), hypervolume (>= 2.0.7), ks (>= 1.13.5), mvtnorm (>= 1.1.3), withr (>= 2.5.0),
# Depends: R (>= 4.0.0), sf (>= 1.0.9), terra (>= 1.6.47)
# Suggests: knitr, roxygen2, rmarkdown, testthat, RgoogleMaps (>= 1.4.5.3), dplyr (>= 1.0.8), vegan (>= 2.6.2), gurobi (>= 8.0.0), gridExtra (>= 2.3), rgl (>= 1.0.1)
# LinkingTo: Rcpp, RcppEigen, BH
# LazyData: true
# License: GPL-3
# Encoding: UTF-8
# Language: en-US
# URL: https://jeffrey-hanson.com/raptr/, https://github.com/jeffreyhanson/raptr
# BugReports: https://github.com/jeffreyhanson/raptr/issues
# VignetteBuilder: knitr
# Collate: 'RcppExports.R' 'raptr-internal.R' 'generics.R' 'DemandPoints.R' 'misc.R' 'PlanningUnitPoints.R' 'AttributeSpace.R' 'AttributeSpaces.R' 'GurobiOpts.R' 'ManualOpts.R' 'calcSpeciesAverageInPus.R' 'calcBoundaryData.R' 'RapData.R' 'RapReliableOpts.R' 'RapResults.R' 'RapUnreliableOpts.R' 'RapUnsolved.R' 'RapSolved.R' 'convert2PolySet.R' 'data.R' 'deprecated.R' 'package.R' 'rap.R' 'rrap.proportion.held.R' 'sim.pus.R' 'sim.space.R' 'sim.species.R' 'urap.proportion.held.R' 'zzz.R'
# RoxygenNote: 7.2.3
# NeedsCompilation: yes
# Packaged: 2023-03-14 04:53:07 UTC; jeff
# Author: Jeffrey O Hanson [aut, cre], Jonathan R Rhodes [aut], Hugh P Possingham [aut], Richard A Fuller [aut]
# Maintainer: Jeffrey O Hanson <jeffrey.hanson@uqconnect.edu.au>
# Repository: CRAN
# Date/Publication: 2023-03-14 08:20:15 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
