{% set version = '0.19' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-extrafont
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/extrafont_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/extrafont/extrafont_{{ version }}.tar.gz
  sha256: 4e8f90152df13fc5dee573222a26b4d66553493fdf6af1c7777e59521ccdab8d

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip
  noarch: generic

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

# Suggests: fontcm
requirements:
  build:
    - {{ posix }}zip               # [win]

  host:
    - r-base
    - r-rttf2pt1
    - r-extrafontdb

  run:
    - r-base
    - r-rttf2pt1
    - r-extrafontdb

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('extrafont')"           # [not win]
    - "\"%R%\" -e \"library('extrafont')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: https://github.com/wch/extrafont
  license: GPL-2
  summary: Tools to using fonts other than the standard PostScript fonts. This package makes
    it easy to use system TrueType fonts and with PDF or PostScript output files, and
    with bitmap output files in Windows. extrafont can also be used with fonts packaged
    specifically to be used with, such as the fontcm package, which has Computer Modern
    PostScript fonts with math symbols.
  license_family: GPL2
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-2'

# The original CRAN metadata for this package was:

# Package: extrafont
# Title: Tools for Using Fonts
# Version: 0.19
# Author: Winston Chang <winston@stdout.org>
# Maintainer: Winston Chang <winston@stdout.org>
# Description: Tools to using fonts other than the standard PostScript fonts. This package makes it easy to use system TrueType fonts and with PDF or PostScript output files, and with bitmap output files in Windows. extrafont can also be used with fonts packaged specifically to be used with, such as the fontcm package, which has Computer Modern PostScript fonts with math symbols.
# Depends: R (>= 2.15)
# Imports: extrafontdb, grDevices, utils, Rttf2pt1
# Suggests: fontcm
# License: GPL-2
# URL: https://github.com/wch/extrafont
# RoxygenNote: 7.1.2
# NeedsCompilation: no
# Packaged: 2023-01-18 02:47:05 UTC; winston
# Repository: CRAN
# Date/Publication: 2023-01-18 08:40:12 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
