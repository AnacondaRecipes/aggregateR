{% set version = '0.1.6' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-pollster
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/pollster_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/pollster/pollster_{{ version }}.tar.gz
  sha256: fd42046a8392631ea37e8e1ca7fd7858851edc205b3124dd60e15d55cdf05e7e

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip
  noarch: generic

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

# Suggests: ggplot2 (>= 3.3.0), knitr, rmarkdown
requirements:
  build:
    - {{ posix }}zip               # [win]

  host:
    - r-base
    - r-dplyr >=0.8.0
    - r-forcats >=1.0.0
    - r-labelled >=2.0.0
    - r-rlang >=0.4.5
    - r-stringr >=1.0.0
    - r-tidyr >=1.1.0

  run:
    - r-base
    - r-dplyr >=0.8.0
    - r-forcats >=1.0.0
    - r-labelled >=2.0.0
    - r-rlang >=0.4.5
    - r-stringr >=1.0.0
    - r-tidyr >=1.1.0

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('pollster')"           # [not win]
    - "\"%R%\" -e \"library('pollster')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: https://CRAN.R-project.org/package=pollster
  license: CC0
  summary: Calculate common types of tables for weighted survey data. Options include topline
    and (2-way and 3-way) crosstab tables of categorical or ordinal data as well as
    summary tables of weighted numeric variables. Optionally, include the margin of
    error at selected confidence intervals including the design effect. The design effect
    is calculated as described by Kish (1965) <doi:10.1002/bimj.19680100122> beginning
    on page 257. Output takes the form of tibbles (simple data frames). This package
    conveniently handles labelled data, such as that commonly used by 'Stata' and 'SPSS.'
    Complex survey design is not supported at this time.
  license_family: CC

# The original CRAN metadata for this package was:

# Package: pollster
# Type: Package
# Title: Calculate Crosstab and Topline Tables of Weighted Survey Data
# Version: 0.1.6
# Author: John D. Johnson [aut, cre]
# Maintainer: John D. Johnson <john.d.johnson@marquette.edu>
# Description: Calculate common types of tables for weighted survey data. Options include topline and (2-way and 3-way) crosstab tables of categorical or ordinal data as well as summary tables of weighted numeric variables. Optionally, include the margin of error at selected confidence intervals including the design effect. The design effect is calculated as described by Kish (1965) <doi:10.1002/bimj.19680100122> beginning on page 257. Output takes the form of tibbles (simple data frames). This package conveniently handles labelled data, such as that commonly used by 'Stata' and 'SPSS.' Complex survey design is not supported at this time.
# Depends: R (>= 2.10)
# Imports: dplyr (>= 0.8.0), stringr (>= 1.0.0), tidyr (>= 1.1.0), labelled (>= 2.0.0), forcats (>= 1.0.0), rlang (>= 0.4.5)
# Suggests: ggplot2 (>= 3.3.0), knitr, rmarkdown
# License: CC0
# Encoding: UTF-8
# LazyData: true
# RoxygenNote: 7.2.0
# VignetteBuilder: knitr
# NeedsCompilation: no
# Packaged: 2023-05-12 18:43:13 UTC; johnsonjoh
# Repository: CRAN
# Date/Publication: 2023-05-12 19:00:05 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
