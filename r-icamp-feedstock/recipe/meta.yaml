{% set version = '1.5.12' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-icamp
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/iCAMP_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/iCAMP/iCAMP_{{ version }}.tar.gz
  sha256: f12e4cb751b5205e71125fce258fb97cee5bd55f011e343057c5615aa7aca067

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip
  noarch: generic

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

requirements:
  build:
    - {{ posix }}zip               # [win]

  host:
    - r-base
    - r-dirichletreg
    - r-hmisc
    - r-ape
    - r-bigmemory
    - r-data.table
    - r-minpack.lm
    - r-nortest
    - r-permute
    - r-vegan

  run:
    - r-base
    - r-dirichletreg
    - r-hmisc
    - r-ape
    - r-bigmemory
    - r-data.table
    - r-minpack.lm
    - r-nortest
    - r-permute
    - r-vegan

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('iCAMP')"           # [not win]
    - "\"%R%\" -e \"library('iCAMP')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: https://github.com/DaliangNing/iCAMP1
  license: GPL-2
  summary: To implement a general framework to quantitatively infer Community Assembly Mechanisms
    by Phylogenetic-bin-based null model analysis, abbreviated as 'iCAMP' (Ning et al
    2020) <doi:10.1038/s41467-020-18560-z>. It can quantitatively assess the relative
    importance of different community assembly processes, such as selection, dispersal,
    and drift, for both communities and each phylogenetic group ('bin'). Each bin usually
    consists of different taxa from a family or an order. The package also provides
    functions to implement some other published methods, including neutral taxa percentage
    (Burns et al 2016) <doi:10.1038/ismej.2015.142> based on neutral theory model and
    quantifying assembly processes based on entire-community null models ('QPEN', Stegen
    et al 2013) <doi:10.1038/ismej.2013.93>. It also includes some handy functions,
    particularly for big datasets, such as phylogenetic and taxonomic null model analysis
    at both community and bin levels, between-taxa niche difference and phylogenetic
    distance calculation, phylogenetic signal test within phylogenetic groups, midpoint
    root of big trees, etc. Version 1.3.x mainly improved the function for 'QPEN' and
    added function 'icamp.cate()' to summarize 'iCAMP' results for different categories
    of taxa (e.g. core versus rare taxa).
  license_family: GPL2
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-2'

# The original CRAN metadata for this package was:

# Package: iCAMP
# Type: Package
# Title: Infer Community Assembly Mechanisms by Phylogenetic-Bin-Based Null Model Analysis
# Version: 1.5.12
# Date: 2022-5-29
# Author: Daliang Ning
# Maintainer: Daliang Ning <ningdaliang@ou.edu>
# Imports: vegan,parallel,permute,ape,bigmemory,nortest,minpack.lm,Hmisc,stats4,DirichletReg,data.table
# Depends: R (>= 3.5)
# Description: To implement a general framework to quantitatively infer Community Assembly Mechanisms by Phylogenetic-bin-based null model analysis, abbreviated as 'iCAMP' (Ning et al 2020) <doi:10.1038/s41467-020-18560-z>. It can quantitatively assess the relative importance of different community assembly processes, such as selection, dispersal, and drift, for both communities and each phylogenetic group ('bin'). Each bin usually consists of different taxa from a family or an order. The package also provides functions to implement some other published methods, including neutral taxa percentage (Burns et al 2016) <doi:10.1038/ismej.2015.142> based on neutral theory model and quantifying assembly processes based on entire-community null models ('QPEN', Stegen et al 2013) <doi:10.1038/ismej.2013.93>. It also includes some handy functions, particularly for big datasets, such as phylogenetic and taxonomic null model analysis at both community and bin levels, between-taxa niche difference and phylogenetic distance calculation, phylogenetic signal test within phylogenetic groups, midpoint root of big trees, etc. Version 1.3.x mainly improved the function for 'QPEN' and added function 'icamp.cate()' to summarize 'iCAMP' results for different categories of taxa (e.g. core versus rare taxa).
# License: GPL-2
# URL: https://github.com/DaliangNing/iCAMP1
# NeedsCompilation: no
# Packaged: 2022-05-29 17:16:02 UTC; ndl81
# Repository: CRAN
# Date/Publication: 2022-06-01 08:00:02 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
