{% set version = '1.5-0' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-onion
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/onion_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/onion/onion_{{ version }}.tar.gz
  sha256: c946e4eb8599bc9c9a8683c0c33cdc5479814e71fac1a3fc995a9a052fe7051f

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

# Suggests: testthat,knitr,rmarkdown
requirements:
  build:
    - {{ compiler('c') }}              # [not win]
    - {{ compiler('m2w64_c') }}        # [win]
    - {{ posix }}filesystem        # [win]
    - {{ posix }}make
    - {{ posix }}sed               # [win]
    - {{ posix }}coreutils         # [win]
    - {{ posix }}zip               # [win]

  host:
    - r-base
    - r-emulator

  run:
    - r-base
    - {{native}}gcc-libs         # [win]
    - r-emulator

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('onion')"           # [not win]
    - "\"%R%\" -e \"library('onion')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: https://github.com/RobinHankin/onion
  license: GPL-2
  summary: Quaternions and Octonions are four- and eight- dimensional extensions of the complex
    numbers.  They are normed division algebras over the real numbers and find applications
    in spatial rotations (quaternions), and string theory and relativity (octonions).  The
    quaternions are noncommutative and the octonions nonassociative.  See the package
    vignette for more details.
  license_family: GPL2
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-2'

extra:
  recipe-maintainers:
    - katietz

# The original CRAN metadata for this package was:

# Package: onion
# Version: 1.5-0
# Title: Octonions and Quaternions
# LazyData: TRUE
# Authors@R: person(given=c("Robin", "K. S."), family="Hankin", role = c("aut","cre"), email="hankin.robin@gmail.com", comment = c(ORCID = "0000-0001-5982-0415"))
# Description: Quaternions and Octonions are four- and eight- dimensional extensions of the complex numbers.  They are normed division algebras over the real numbers and find applications in spatial rotations (quaternions), and string theory and relativity (octonions).  The quaternions are noncommutative and the octonions nonassociative.  See the package vignette for more details.
# Maintainer: Robin K. S. Hankin <hankin.robin@gmail.com>
# License: GPL-2
# Depends: methods, R (>= 3.5.0)
# Suggests: testthat,knitr,rmarkdown
# VignetteBuilder: knitr
# Imports: emulator
# URL: https://github.com/RobinHankin/onion
# BugReports: https://github.com/RobinHankin/onion/issues
# NeedsCompilation: yes
# Packaged: 2021-02-11 01:14:49 UTC; rhankin
# Author: Robin K. S. Hankin [aut, cre] (<https://orcid.org/0000-0001-5982-0415>)
# Repository: CRAN
# Date/Publication: 2021-02-11 07:00:02 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
