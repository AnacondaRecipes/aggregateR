{% set version = '1.4.2' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-bpcp
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/bpcp_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/bpcp/bpcp_{{ version }}.tar.gz
  sha256: 3673814484e80f5d563cc0a62e99c682aedbd78c0f0f1e01c4ec686967bdfaf5

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip
  noarch: generic

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

requirements:
  build:
    - {{ posix }}zip               # [win]

  host:
    - r-base
    - r-ggplot2
    - r-survival

  run:
    - r-base
    - r-ggplot2
    - r-survival

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('bpcp')"           # [not win]
    - "\"%R%\" -e \"library('bpcp')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: https://CRAN.R-project.org/package=bpcp
  license: GPL-2
  summary: Calculates nonparametric pointwise confidence intervals for the survival distribution
    for right censored data, and for medians [Fay and Brittain <DOI:10.1002/sim.6905>].
    Has two-sample tests for dissimilarity (e.g., difference, ratio or odds ratio) in
    survival at a fixed time, and differences in medians [Fay, Proschan, and Brittain
    <DOI:10.1111/biom.12231>]. Basically, the package gives exact inference methods
    for one- and two-sample exact inferences for Kaplan-Meier curves (e.g., generalizing
    Fisher's exact test to allow for right censoring), which are especially important
    for latter parts of the survival curve, small sample sizes or heavily censored data.
    Includes mid-p options.
  license_family: GPL2
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-2'

extra:
  recipe-maintainers:
    - katietz

# The original CRAN metadata for this package was:

# Package: bpcp
# Type: Package
# Title: Beta Product Confidence Procedure for Right Censored Data
# Version: 1.4.2
# Date: 2022-03-11
# Author: Michael P. Fay [aut, cre], Allyson Mateja [ctb]
# Maintainer: Michael P. Fay <mfay@niaid.nih.gov>
# Depends: stats, survival, ggplot2, methods
# Description: Calculates nonparametric pointwise confidence intervals for the survival distribution for right censored data, and for medians [Fay and Brittain <DOI:10.1002/sim.6905>]. Has two-sample tests for dissimilarity (e.g., difference, ratio or odds ratio) in survival at a fixed time, and differences in medians [Fay, Proschan, and Brittain <DOI:10.1111/biom.12231>]. Basically, the package gives exact inference methods for one- and two-sample exact inferences for Kaplan-Meier curves (e.g., generalizing Fisher's exact test to allow for right censoring), which are especially important for latter parts of the survival curve, small sample sizes or heavily censored data. Includes mid-p options.
# License: GPL (>= 2)
# LazyLoad: yes
# NeedsCompilation: no
# Packaged: 2022-03-11 20:40:05 UTC; faym
# Repository: CRAN
# Date/Publication: 2022-03-11 23:10:11 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
