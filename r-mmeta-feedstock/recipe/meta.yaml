{% set version = '3.0.0' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-mmeta
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/mmeta_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/mmeta/mmeta_{{ version }}.tar.gz
  sha256: c1ca7e0b862968b44d01f72ecd2b2158e0e9c703d7b830dee199b3dc94f51521

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

# Suggests: testthat (>= 3.0.0)
requirements:
  build:
    - {{ compiler('c') }}              # [not win]
    - {{ compiler('m2w64_c') }}        # [win]
    - {{ compiler('fortran') }}        # [not win]
    - {{ compiler('m2w64_fortran') }}  # [win]
    - {{ posix }}filesystem        # [win]
    - {{ posix }}make
    - {{ posix }}sed               # [win]
    - {{ posix }}coreutils         # [win]
    - {{ posix }}zip               # [win]

  host:
    - r-base
    - r-aod
    - r-ggplot2

  run:
    - r-base
    - {{native}}gcc-libs         # [win]
    - r-aod
    - r-ggplot2

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('mmeta')"           # [not win]
    - "\"%R%\" -e \"library('mmeta')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: https://CRAN.R-project.org/package=mmeta
  license: GPL-2
  summary: Multiple 2 by 2 tables often arise in meta-analysis which combines statistical evidence
    from multiple studies. Two risks within the same study are possibly correlated because
    they share some common factors such as environment and population structure. This
    package implements a set of novel Bayesian approaches for multivariate meta analysis
    when the risks within the same study are independent or correlated. The exact posterior
    inference of odds ratio, relative risk, and risk difference given either a single
    2 by 2 table or multiple 2 by 2 tables is provided. Luo, Chen, Su, Chu, (2014) <doi:10.18637/jss.v056.i11>,
    Chen, Luo, (2011) <doi:10.1002/sim.4248>, Chen, Chu, Luo, Nie, Chen, (2015) <doi:10.1177/0962280211430889>,
    Chen, Luo, Chu, Su, Nie, (2014) <doi:10.1080/03610926.2012.700379>, Chen, Luo, Chu,
    Wei, (2013) <doi:10.1080/19466315.2013.791483>.
  license_family: GPL2
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-2'

extra:
  recipe-maintainers:
    - katietz

# The original CRAN metadata for this package was:

# Package: mmeta
# Type: Package
# Title: Multivariate Meta-Analysis
# Version: 3.0.0
# Date: 2023-01-16
# Authors@R: c(person("Sheng", "Luo", role="aut"), person("Yong", "Chen", role ="aut", email = "ychen123@pennmedicine.upenn.edu" ), person("Xiao", "Su", role = "aut"), person("Haitao", "Chu", role = "aut"), person("Jiajie", "Chen", role = "cre", email = "jiajie.chen@pennmedicine.upenn.edu"), person("Wally", "Gilks", role = "ctb"), person("Giovanni", "Petris", role = "ctb"), person("Luca", "Tardella", role = "ctb"))
# Maintainer: Jiajie Chen <jiajie.chen@pennmedicine.upenn.edu>
# Description: Multiple 2 by 2 tables often arise in meta-analysis which combines statistical evidence from multiple studies. Two risks within the same study are possibly correlated because they share some common factors such as environment and population structure. This package implements a set of novel Bayesian approaches for multivariate meta analysis when the risks within the same study are independent or correlated. The exact posterior inference of odds ratio, relative risk, and risk difference given either a single 2 by 2 table or multiple 2 by 2 tables is provided. Luo, Chen, Su, Chu, (2014) <doi:10.18637/jss.v056.i11>, Chen, Luo, (2011) <doi:10.1002/sim.4248>, Chen, Chu, Luo, Nie, Chen, (2015) <doi:10.1177/0962280211430889>, Chen, Luo, Chu, Su, Nie, (2014) <doi:10.1080/03610926.2012.700379>, Chen, Luo, Chu, Wei, (2013) <doi:10.1080/19466315.2013.791483>.
# Depends: R (>= 2.10.0)
# Imports: aod,ggplot2,stats
# License: GPL (>= 2)
# Packaged: 2023-01-24 19:06:27 UTC; thech
# NeedsCompilation: yes
# LazyLoad: no
# Repository: CRAN
# Date/Publication: 2023-01-24 19:20:02 UTC
# Suggests: testthat (>= 3.0.0)
# Config/testthat/edition: 3
# Encoding: UTF-8
# RoxygenNote: 7.2.2
# Author: Sheng Luo [aut], Yong Chen [aut], Xiao Su [aut], Haitao Chu [aut], Jiajie Chen [cre], Wally Gilks [ctb], Giovanni Petris [ctb], Luca Tardella [ctb]

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
