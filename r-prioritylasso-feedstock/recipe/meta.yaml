{% set version = '0.3.1' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-prioritylasso
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/prioritylasso_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/prioritylasso/prioritylasso_{{ version }}.tar.gz
  sha256: c6b5cd4e1e59634112b3e817d127da9ee75010e1b6ab4751ca51dbf0f289c4ee

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip
  noarch: generic

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

# Suggests: testthat, knitr, rmarkdown, pROC, bookdown, ipflasso
requirements:
  build:
    - {{ posix }}zip               # [win]

  host:
    - r-base
    - r-checkmate
    - r-glmnet
    - r-survival

  run:
    - r-base
    - r-checkmate
    - r-glmnet
    - r-survival

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('prioritylasso')"           # [not win]
    - "\"%R%\" -e \"library('prioritylasso')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: https://CRAN.R-project.org/package=prioritylasso
  license: GPL-2
  summary: Fits successive Lasso models for several blocks of (omics) data with different priorities
    and takes the predicted values as an offset for the next block. Also offers options
    to deal with block-wise missingness in multi-omics data.
  license_family: GPL2
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-2'

extra:
  recipe-maintainers:
    - katietz

# The original CRAN metadata for this package was:

# Package: prioritylasso
# Type: Package
# Title: Analyzing Multiple Omics Data with an Offset Approach
# Version: 0.3.1
# Author: Simon Klau, Roman Hornung, Alina Bauer, Jonas Hagenberg
# Maintainer: Roman Hornung <hornung@ibe.med.uni-muenchen.de>
# Description: Fits successive Lasso models for several blocks of (omics) data with different priorities and takes the predicted values as an offset for the next block. Also offers options to deal with block-wise missingness in multi-omics data.
# Depends: R (>= 3.5.0)
# License: GPL-2
# LazyData: TRUE
# Imports: survival, glmnet, utils, checkmate
# RoxygenNote: 7.2.3
# Encoding: UTF-8
# Suggests: testthat, knitr, rmarkdown, pROC, bookdown, ipflasso
# VignetteBuilder: knitr
# NeedsCompilation: no
# Packaged: 2023-03-30 14:07:05 UTC; hornung
# Repository: CRAN
# Date/Publication: 2023-04-10 21:00:02 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
