{% set version = '5.6' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-mixak
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/mixAK_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/mixAK/mixAK_{{ version }}.tar.gz
  sha256: 6506f67f894fc5507652f6f9c45121da8e9fb9782f88eebacba50f282e856ba0

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

# Suggests: mvtnorm
requirements:
  build:
    - {{ compiler('c') }}              # [not win]
    - {{ compiler('m2w64_c') }}        # [win]
    - {{ compiler('cxx') }}            # [not win]
    - {{ compiler('m2w64_cxx') }}      # [win]
    - {{ posix }}filesystem        # [win]
    - {{ posix }}make
    - {{ posix }}sed               # [win]
    - {{ posix }}coreutils         # [win]
    - {{ posix }}zip               # [win]

  host:
    - r-base
    - r-coda
    - r-colorspace
    - r-fastghquad
    - r-lme4 >=1.0
    - r-mnormt

  run:
    - r-base
    - {{native}}gcc-libs         # [win]
    - r-coda
    - r-colorspace
    - r-fastghquad
    - r-lme4 >=1.0
    - r-mnormt

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('mixAK')"           # [not win]
    - "\"%R%\" -e \"library('mixAK')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: http://msekce.karlin.mff.cuni.cz/~komarek/
  license: GPL-3
  summary: Contains a mixture of statistical methods including the MCMC methods to analyze normal
    mixtures. Additionally, model based clustering methods are implemented to perform
    classification based on (multivariate) longitudinal (or otherwise correlated) data.
    The basis for such clustering is a mixture of multivariate generalized linear mixed
    models.
  license_family: GPL3
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-3'

# The original CRAN metadata for this package was:

# Package: mixAK
# Version: 5.6
# Date: 2023-09-25
# Title: Multivariate Normal Mixture Models and Mixtures of Generalized Linear Mixed Models Including Model Based Clustering
# Authors@R: person(given = "Arnost", family = "Komarek", role = c("aut", "cre"), email = "arnost.komarek@mff.cuni.cz", comment = c(ORCID = "0000-0001-8778-3762"))
# Depends: R (>= 3.0.0), colorspace, lme4 (>= 1.0)
# Imports: graphics, stats, methods, splines, fastGHQuad, mnormt, parallel, coda
# Suggests: mvtnorm
# Description: Contains a mixture of statistical methods including the MCMC methods to analyze normal mixtures. Additionally, model based clustering methods are implemented to perform classification based on (multivariate) longitudinal (or otherwise correlated) data. The basis for such clustering is a mixture of multivariate generalized linear mixed models.
# Encoding: UTF-8
# License: GPL (>= 3)
# URL: http://msekce.karlin.mff.cuni.cz/~komarek/
# NeedsCompilation: yes
# Packaged: 2023-09-25 10:01:08 UTC; komarek
# Author: Arnost Komarek [aut, cre] (<https://orcid.org/0000-0001-8778-3762>)
# Maintainer: Arnost Komarek <arnost.komarek@mff.cuni.cz>
# Repository: CRAN
# Date/Publication: 2023-09-25 11:00:02 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
