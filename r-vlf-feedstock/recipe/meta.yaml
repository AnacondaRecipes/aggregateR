{% set version = '1.1' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-vlf
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/VLF_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/VLF/VLF_{{ version }}.tar.gz
  sha256: 35325787a9cfc838a01c09610a3630d8a14b2bc943131add59a46260ba3dca24

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip
  noarch: generic

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

requirements:
  build:
    - {{ posix }}zip               # [win]

  host:
    - r-base

  run:
    - r-base

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('VLF')"           # [not win]
    - "\"%R%\" -e \"library('VLF')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: https://CRAN.R-project.org/package=VLF
  license: GPL-3
  summary: Using frequency matrices, very low frequency variants (VLFs) are assessed for amino
    acid and nucleotide sequences.  The VLFs are then compared to see if they occur
    in only one member of a species, singleton VLFs, or if they occur in multiple members
    of a species, shared VLFs.  The amino acid and nucleotide VLFs are then compared
    to see if they are concordant with one another.  Amino acid VLFs are also assessed
    to determine if they lead to a change in amino acid residue type, and potential
    changes to protein structures. Based on Stoeckle and Kerr (2012) <doi:10.1371/journal.pone.0043992>.
  license_family: GPL3
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-3'

extra:
  recipe-maintainers:
    - katietz

# The original CRAN metadata for this package was:

# Package: VLF
# Type: Package
# Title: Frequency Matrix Approach for Assessing Very Low Frequency Variants in Sequence Records
# Version: 1.1
# Date: 2022-08-17
# Author: Taryn B. T. Athey [aut, cre], Paul D. McNicholas [aut, cre], Jarrett D. Phillips [ctb]
# Maintainer: Taryn B. T. Athey <taryn.athey@gmail.com>
# Description: Using frequency matrices, very low frequency variants (VLFs) are assessed for amino acid and nucleotide sequences.  The VLFs are then compared to see if they occur in only one member of a species, singleton VLFs, or if they occur in multiple members of a species, shared VLFs.  The amino acid and nucleotide VLFs are then compared to see if they are concordant with one another.  Amino acid VLFs are also assessed to determine if they lead to a change in amino acid residue type, and potential changes to protein structures. Based on Stoeckle and Kerr (2012) <doi:10.1371/journal.pone.0043992>.
# License: GPL (>= 3)
# Depends: R (>= 2.10)
# NeedsCompilation: no
# Repository: CRAN
# Packaged: 2022-08-17 21:23:08 UTC; jarrettphillips
# Date/Publication: 2022-08-18 12:30:06 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
