{% set version = '3.2.4' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-filesstrings
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/filesstrings_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/filesstrings/filesstrings_{{ version }}.tar.gz
  sha256: 8377c9bf24fda7d1b66a1f6ed31eddfa577d69de775a4a2700bd74d9269483ca

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip
  noarch: generic

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

# Suggests: covr, dplyr, knitr, rmarkdown, spelling, testthat (>= 2.1)
requirements:
  build:
    - {{ posix }}zip               # [win]

  host:
    - r-base
    - r-checkmate >=1.9.3
    - r-magrittr >=1.5
    - r-purrr >=0.3.0
    - r-rlang >=0.3.3
    - r-strex >=1.6
    - r-stringi >=1.7.8
    - r-stringr >=1.5
    - r-withr >=2.1.0

  run:
    - r-base
    - r-checkmate >=1.9.3
    - r-magrittr >=1.5
    - r-purrr >=0.3.0
    - r-rlang >=0.3.3
    - r-strex >=1.6
    - r-stringi >=1.7.8
    - r-stringr >=1.5
    - r-withr >=2.1.0

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('filesstrings')"           # [not win]
    - "\"%R%\" -e \"library('filesstrings')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: https://github.com/rorynolan/filesstrings
  license: GPL-3
  summary: This started out as a package for file and string manipulation.  Since then, the 'fs'
    and 'strex' packages emerged, offering functionality previously given by this package
    (but it's done better in these new ones).  Those packages have hence almost pushed
    'filesstrings' into extinction.  However, it still has a small number of unique,
    handy file manipulation functions which can be seen in the vignette.  One example
    is a function to remove spaces from all file names in a directory.
  license_family: GPL3
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-3'

# The original CRAN metadata for this package was:

# Type: Package
# Package: filesstrings
# Title: Handy File and String Manipulation
# Version: 3.2.4
# Authors@R: c( person("Rory", "Nolan", , "rorynoolan@gmail.com", role = c("aut", "cre", "cph"), comment = c(ORCID = "0000-0002-5239-4043")), person("Sergi", "Padilla-Parra", , "spadilla@well.ox.ac.uk", role = "ths", comment = c(ORCID = "0000-0002-8010-9481")) )
# Maintainer: Rory Nolan <rorynoolan@gmail.com>
# Description: This started out as a package for file and string manipulation.  Since then, the 'fs' and 'strex' packages emerged, offering functionality previously given by this package (but it's done better in these new ones).  Those packages have hence almost pushed 'filesstrings' into extinction.  However, it still has a small number of unique, handy file manipulation functions which can be seen in the vignette.  One example is a function to remove spaces from all file names in a directory.
# License: GPL-3
# URL: https://github.com/rorynolan/filesstrings
# BugReports: https://github.com/rorynolan/filesstrings/issues
# Depends: R (>= 3.5), stringr (>= 1.5)
# Imports: checkmate (>= 1.9.3), magrittr (>= 1.5), purrr (>= 0.3.0), rlang (>= 0.3.3), strex (>= 1.6), stringi (>= 1.7.8), withr (>= 2.1.0)
# Suggests: covr, dplyr, knitr, rmarkdown, spelling, testthat (>= 2.1)
# VignetteBuilder: knitr
# Encoding: UTF-8
# Language: en-US
# RoxygenNote: 7.2.3
# NeedsCompilation: no
# Packaged: 2023-01-25 15:55:46 UTC; rnolan
# Author: Rory Nolan [aut, cre, cph] (<https://orcid.org/0000-0002-5239-4043>), Sergi Padilla-Parra [ths] (<https://orcid.org/0000-0002-8010-9481>)
# Repository: CRAN
# Date/Publication: 2023-01-25 17:10:02 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
