{% set version = '1.5.1' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-gtrendsr
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/gtrendsR_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/gtrendsR/gtrendsR_{{ version }}.tar.gz
  sha256: 5d5c4e534e33c8a1908cee0a983675ac534d743e9b023a106d56bc750e636e15

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip
  noarch: generic

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

# Suggests: knitr, rmarkdown, tinytest
requirements:
  build:
    - {{ posix }}zip               # [win]

  host:
    - r-base
    - r-anytime
    - r-curl
    - r-ggplot2
    - r-jsonlite

  run:
    - r-base
    - r-anytime
    - r-curl
    - r-ggplot2
    - r-jsonlite

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('gtrendsR')"           # [not win]
    - "\"%R%\" -e \"library('gtrendsR')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: https://github.com/PMassicotte/gtrendsR
  license: GPL-2
  summary: An interface for retrieving and displaying the information returned online by Google
    Trends is provided. Trends (number of hits) over the time as well as geographic
    representation of the results can be displayed.
  license_family: GPL2
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-2'

# The original CRAN metadata for this package was:

# Package: gtrendsR
# Type: Package
# Title: Perform and Display Google Trends Queries
# Version: 1.5.1
# Authors@R: c(person("Philippe", "Massicotte", email = "pmassicotte@hotmail.com", role = c("aut", "cre")), person("Dirk", "Eddelbuettel", email = "edd@debian.org", role = "aut"))
# Description: An interface for retrieving and displaying the information returned online by Google Trends is provided. Trends (number of hits) over the time as well as geographic representation of the results can be displayed.
# License: GPL (>= 2)
# BugReports: https://github.com/PMassicotte/gtrendsR/issues
# URL: https://github.com/PMassicotte/gtrendsR
# Depends: R (>= 3.5.0)
# LazyData: yes
# Imports: ggplot2, jsonlite, anytime, curl
# RoxygenNote: 7.2.0
# Suggests: knitr, rmarkdown, tinytest
# Encoding: UTF-8
# NeedsCompilation: no
# Packaged: 2022-05-23 16:15:00 UTC; filoche
# Author: Philippe Massicotte [aut, cre], Dirk Eddelbuettel [aut]
# Maintainer: Philippe Massicotte <pmassicotte@hotmail.com>
# Repository: CRAN
# Date/Publication: 2022-05-23 16:40:02 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
