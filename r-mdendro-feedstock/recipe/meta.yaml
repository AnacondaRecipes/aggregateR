{% set version = '2.1.0' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-mdendro
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/mdendro_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/mdendro/mdendro_{{ version }}.tar.gz
  sha256: aec3d524abafc09e1b8c3eed99d9f6f518aef81426556473b6808ce7b03af5c2

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

# Suggests: ape, cluster, dendextend, knitr, rmarkdown
requirements:
  build:
    - {{ compiler('c') }}              # [not win]
    - {{ compiler('m2w64_c') }}        # [win]
    - {{ compiler('cxx') }}            # [not win]
    - {{ compiler('m2w64_cxx') }}      # [win]
    - {{ posix }}filesystem        # [win]
    - {{ posix }}make
    - {{ posix }}sed               # [win]
    - {{ posix }}coreutils         # [win]
    - {{ posix }}zip               # [win]

  host:
    - r-base
    - r-rcpp

  run:
    - r-base
    - {{native}}gcc-libs         # [win]
    - r-rcpp

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('mdendro')"           # [not win]
    - "\"%R%\" -e \"library('mdendro')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: https://deim.urv.cat/~sergio.gomez/mdendro.php
  license: AGPL-3
  summary: A comprehensive collection of linkage methods for agglomerative hierarchical clustering
    on a matrix of proximity data (distances or similarities), returning a multifurcated
    dendrogram or multidendrogram. Multidendrograms can group more than two clusters
    when ties in proximity data occur, and therefore they do not depend on the order
    of the input data. Descriptive measures to analyze the resulting dendrogram are
    additionally provided.
  license_family: AGPL
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/AGPL-3'

extra:
  recipe-maintainers:
    - katietz

# The original CRAN metadata for this package was:

# Package: mdendro
# Version: 2.1.0
# Date: 2021-09-12
# Title: Extended Agglomerative Hierarchical Clustering
# Description: A comprehensive collection of linkage methods for agglomerative hierarchical clustering on a matrix of proximity data (distances or similarities), returning a multifurcated dendrogram or multidendrogram. Multidendrograms can group more than two clusters when ties in proximity data occur, and therefore they do not depend on the order of the input data. Descriptive measures to analyze the resulting dendrogram are additionally provided.
# Encoding: latin1
# Authors@R: c(person(given = "Alberto", family = "Fernndez", email = "alberto.fernandez@urv.cat", role = c("aut", "cre"), comment = c(ORCID = "0000-0002-1241-1646")), person(given = "Sergio", family = "Gmez", email = "sergio.gomez@urv.cat", role = c("aut"), comment = c(ORCID = "0000-0003-1820-0062")))
# URL: https://deim.urv.cat/~sergio.gomez/mdendro.php
# License: AGPL-3
# Imports: graphics, grDevices, Rcpp, stats, utils
# LinkingTo: Rcpp
# Suggests: ape, cluster, dendextend, knitr, rmarkdown
# VignetteBuilder: knitr, rmarkdown
# NeedsCompilation: yes
# SystemRequirements: C++11
# Packaged: 2021-09-12 13:54:41 UTC; Alberto
# Author: Alberto Fernndez [aut, cre] (<https://orcid.org/0000-0002-1241-1646>), Sergio Gmez [aut] (<https://orcid.org/0000-0003-1820-0062>)
# Maintainer: Alberto Fernndez <alberto.fernandez@urv.cat>
# Repository: CRAN
# Date/Publication: 2021-09-12 21:40:07 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
