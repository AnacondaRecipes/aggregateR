{% set version = '0.14.0' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-metr
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/metR_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/metR/metR_{{ version }}.tar.gz
  sha256: 7e0790dff21fd24cc150b7e761c82d8c2266437aa6ce495b1a783ad33b79be27

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip
  noarch: generic

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

# Suggests: maps, covr, irlba, knitr, ncdf4, pkgdown, reshape2, rmarkdown, testthat (>= 2.1.0), viridis, PCICt, gridExtra, vdiffr, proj4, kriging, raster, rgdal, here, gsignal
requirements:
  build:
    - {{ posix }}zip               # [win]

  host:
    - r-base
    - r-formula
    - r-checkmate
    - r-data.table
    - r-digest
    - r-formula.tools
    - r-ggplot2 >=3.0.0
    - r-gtable
    - r-isoband
    - r-lubridate
    - r-memoise
    - r-plyr
    - r-purrr
    - r-scales
    - r-sf
    - r-stringr

  run:
    - r-base
    - r-formula
    - r-checkmate
    - r-data.table
    - r-digest
    - r-formula.tools
    - r-ggplot2 >=3.0.0
    - r-gtable
    - r-isoband
    - r-lubridate
    - r-memoise
    - r-plyr
    - r-purrr
    - r-scales
    - r-sf
    - r-stringr

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('metR')"           # [not win]
    - "\"%R%\" -e \"library('metR')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: https://github.com/eliocamp/metR
  license: GPL-3
  summary: Many useful functions and extensions for dealing with meteorological data in the tidy
    data framework. Extends 'ggplot2' for better plotting of scalar and vector fields
    and provides commonly used analysis methods in the atmospheric sciences.
  license_family: GPL3
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-3'

# The original CRAN metadata for this package was:

# Type: Package
# Package: metR
# Language: en-GB
# Title: Tools for Easier Analysis of Meteorological Fields
# Version: 0.14.0
# Authors@R: c(person(given = "Elio", family = "Campitelli", role = c("cre", "aut"), email = "elio.campitelli@cima.fcen.uba.ar", comment = c(ORCID = "0000-0002-7742-9230")))
# Description: Many useful functions and extensions for dealing with meteorological data in the tidy data framework. Extends 'ggplot2' for better plotting of scalar and vector fields and provides commonly used analysis methods in the atmospheric sciences.
# License: GPL-3
# URL: https://github.com/eliocamp/metR
# BugReports: https://github.com/eliocamp/metR/issues
# Depends: R (>= 2.10)
# Imports: checkmate, data.table, digest, Formula, formula.tools, ggplot2 (>= 3.0.0), grid, gtable, memoise, plyr, scales, sf, stringr, purrr, isoband, lubridate
# Suggests: maps, covr, irlba, knitr, ncdf4, pkgdown, reshape2, rmarkdown, testthat (>= 2.1.0), viridis, PCICt, gridExtra, vdiffr, proj4, kriging, raster, rgdal, here, gsignal
# ByteCompile: yes
# Encoding: UTF-8
# LazyData: true
# RoxygenNote: 7.2.3
# VignetteBuilder: knitr
# NeedsCompilation: no
# Packaged: 2023-03-23 18:45:04 UTC; elio
# Author: Elio Campitelli [cre, aut] (<https://orcid.org/0000-0002-7742-9230>)
# Maintainer: Elio Campitelli <elio.campitelli@cima.fcen.uba.ar>
# Repository: CRAN
# Date/Publication: 2023-03-23 22:52:04 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
