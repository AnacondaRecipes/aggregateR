{% set version = '0.5.4' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-designmatch
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/designmatch_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/designmatch/designmatch_{{ version }}.tar.gz
  sha256: 019b92f10065f8fbb832546e259a3bdb18705df532b1256434455d432b6777f4

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip
  noarch: generic

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

requirements:
  build:
    - {{ posix }}zip               # [win]

  host:
    - r-base
    - r-mass
    - r-highs
    - r-lattice
    - r-slam

  run:
    - r-base
    - r-mass
    - r-highs
    - r-lattice
    - r-slam

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('designmatch')"           # [not win]
    - "\"%R%\" -e \"library('designmatch')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: https://CRAN.R-project.org/package=designmatch
  license: GPL-2 | GPL-3
  summary: Includes functions for the construction of matched samples that are balanced and representative
    by design.  Among others, these functions can be used for matching in observational
    studies with treated and control units, with cases and controls, in related settings
    with instrumental variables, and in discontinuity designs.  Also, they can be used
    for the design of randomized experiments, for example, for matching before randomization.  By
    default, 'designmatch' uses the 'highs' optimization solver, but its performance
    is greatly enhanced by the 'Gurobi' optimization solver and its associated R interface.  For
    their installation, please follow the instructions at <https://www.gurobi.com/documentation/quickstart.html>
    and <https://www.gurobi.com/documentation/7.0/refman/r_api_overview.html>.  We have
    also included directions in the gurobi_installation file in the inst folder.
  license_family: GPL3
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-2'
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-3'

# The original CRAN metadata for this package was:

# Package: designmatch
# Type: Package
# Title: Matched Samples that are Balanced and Representative by Design
# Version: 0.5.4
# Date: 2023-08-29
# Author: Jose R. Zubizarreta <zubizarreta@hcp.med.harvard.edu>, Cinar Kilcioglu <ckilcioglu16@gsb.columbia.edu>, Juan P. Vielma <jvielma@mit.edu>, Eric R. Cohn <ericcohn@g.harvard.edu>
# Maintainer: Jose R. Zubizarreta <zubizarreta@hcp.med.harvard.edu>
# Depends: R (>= 3.2), lattice, MASS, slam, highs
# Enhances: gurobi, Rcplex, Rglpk, Rmosek, Rsymphony
# License: GPL-2 | GPL-3
# Description: Includes functions for the construction of matched samples that are balanced and representative by design.  Among others, these functions can be used for matching in observational studies with treated and control units, with cases and controls, in related settings with instrumental variables, and in discontinuity designs.  Also, they can be used for the design of randomized experiments, for example, for matching before randomization.  By default, 'designmatch' uses the 'highs' optimization solver, but its performance is greatly enhanced by the 'Gurobi' optimization solver and its associated R interface.  For their installation, please follow the instructions at <https://www.gurobi.com/documentation/quickstart.html> and <https://www.gurobi.com/documentation/7.0/refman/r_api_overview.html>.  We have also included directions in the gurobi_installation file in the inst folder.
# NeedsCompilation: no
# Packaged: 2023-08-29 15:47:00 UTC; eric
# Repository: CRAN
# Date/Publication: 2023-08-29 16:30:09 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
