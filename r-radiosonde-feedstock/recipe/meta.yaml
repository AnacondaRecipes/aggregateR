{% set version = '4.2' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-radiosonde
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/RadioSonde_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/RadioSonde/RadioSonde_{{ version }}.tar.gz
  sha256: 2cb4d16ac4a00fa7e0eb0e958b41a49cbb95f2c51563d5964861ee2eb7bfcc0a

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip
  noarch: generic

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

requirements:
  build:
    - {{ posix }}zip               # [win]

  host:
    - r-base
    - r-fields

  run:
    - r-base
    - r-fields

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('RadioSonde')"           # [not win]
    - "\"%R%\" -e \"library('RadioSonde')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: ''
  license: GPL-2
  summary: A collection of programs for plotting SKEW-T,log p diagrams and wind profiles for
    data collected by radiosondes (the typical weather balloon-borne instrument). The
    format of this plot with companion lines to assess atmospheric stability are both
    standard  in meteorology and difficult to create from basic graphics functions.
    Hence this package. One novel feature is being able add several profiles to the
    same plot for comparison. Use "help(ExampleSonde)" for an explanation of the variables
    needed and how they should be named in a data frame. See <https://github.com/dnychka/Radiosonde>
    for the package home page.
  license_family: GPL2
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-2'

extra:
  recipe-maintainers:
    - katietz

# The original CRAN metadata for this package was:

# Package: RadioSonde
# Version: 4.2
# Date: 2022-05-21
# Title: Tools for Plotting Skew-T Diagrams and Wind Profiles
# Author: Doug Nychka, Eric Gilleland, Liangying Zhang, Tim Hoar, Kate Young
# Maintainer: Doug Nychka <nychka@mines.edu>
# Description: A collection of programs for plotting SKEW-T,log p diagrams and wind profiles for data collected by radiosondes (the typical weather balloon-borne instrument). The format of this plot with companion lines to assess atmospheric stability are both standard  in meteorology and difficult to create from basic graphics functions. Hence this package. One novel feature is being able add several profiles to the same plot for comparison. Use "help(ExampleSonde)" for an explanation of the variables needed and how they should be named in a data frame. See <https://github.com/dnychka/Radiosonde> for the package home page.
# License: GPL (>= 2)
# URL:
# Depends: R (>= 4.0), fields
# Packaged: 2022-05-22 15:55:20 UTC; nychka
# Repository: CRAN
# Date/Publication: 2022-05-23 11:10:02 UTC
# NeedsCompilation: no

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
