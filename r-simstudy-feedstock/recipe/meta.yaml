{% set version = '0.7.0' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-simstudy
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/simstudy_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/simstudy/simstudy_{{ version }}.tar.gz
  sha256: eb5b1524d4b02a98e3a15cff08f42575bc202c09770d84d25c794d4267402e11

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

# Suggests: covr, dplyr, formatR, gee, ggplot2, grid, gridExtra, hedgehog, knitr, magrittr, Matrix, mgcv, ordinal, pracma, rmarkdown, scales, splines, survival, testthat, gtsummary, survminer, katex, dirmult
requirements:
  build:
    - {{ compiler('c') }}              # [not win]
    - {{ compiler('m2w64_c') }}        # [win]
    - {{ compiler('cxx') }}            # [not win]
    - {{ compiler('m2w64_cxx') }}      # [win]
    - {{ posix }}filesystem        # [win]
    - {{ posix }}make
    - {{ posix }}sed               # [win]
    - {{ posix }}coreutils         # [win]
    - {{ posix }}zip               # [win]

  host:
    - r-base
    - r-rcpp
    - r-backports
    - r-data.table
    - r-glue
    - r-mvnfast
    - r-pbv >=0.4_22

  run:
    - r-base
    - {{native}}gcc-libs         # [win]
    - r-rcpp
    - r-backports
    - r-data.table
    - r-glue
    - r-mvnfast
    - r-pbv >=0.4_22

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('simstudy')"           # [not win]
    - "\"%R%\" -e \"library('simstudy')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: https://github.com/kgoldfeld/simstudy, https://kgoldfeld.github.io/simstudy/, https://kgoldfeld.github.io/simstudy/dev/
  license: GPL-3
  summary: Simulates data sets in order to explore modeling techniques or better understand data
    generating processes. The user specifies a set of relationships between covariates,
    and generates data based on these specifications. The final data sets can represent
    data from randomized control trials, repeated measure (longitudinal) designs, and
    cluster randomized trials. Missingness can be generated using various mechanisms
    (MCAR, MAR, NMAR).
  license_family: GPL3
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-3'

# The original CRAN metadata for this package was:

# Type: Package
# Package: simstudy
# Title: Simulation of Study Data
# Version: 0.7.0
# Date: 2023-06-01
# Authors@R: c(person(given = "Keith", family = "Goldfeld", role = c("aut", "cre"), email = "keith.goldfeld@nyulangone.org", comment = c(ORCID = "0000-0002-0292-8780")), person(given = "Jacob", family = "Wujciak-Jens", role = "aut", email = "jacob@wujciak.de", comment = c(ORCID = "0000-0002-7281-3989")))
# Description: Simulates data sets in order to explore modeling techniques or better understand data generating processes. The user specifies a set of relationships between covariates, and generates data based on these specifications. The final data sets can represent data from randomized control trials, repeated measure (longitudinal) designs, and cluster randomized trials. Missingness can be generated using various mechanisms (MCAR, MAR, NMAR).
# License: GPL-3
# URL: https://github.com/kgoldfeld/simstudy, https://kgoldfeld.github.io/simstudy/, https://kgoldfeld.github.io/simstudy/dev/
# BugReports: https://github.com/kgoldfeld/simstudy/issues
# Depends: R (>= 3.3.0)
# Imports: data.table, glue, methods, mvnfast, Rcpp, backports
# Suggests: covr, dplyr, formatR, gee, ggplot2, grid, gridExtra, hedgehog, knitr, magrittr, Matrix, mgcv, ordinal, pracma, rmarkdown, scales, splines, survival, testthat, gtsummary, survminer, katex, dirmult
# LinkingTo: Rcpp, pbv (>= 0.4-22)
# VignetteBuilder: knitr
# Encoding: UTF-8
# RoxygenNote: 7.2.3
# NeedsCompilation: yes
# Packaged: 2023-06-01 13:27:29 UTC; keith
# Author: Keith Goldfeld [aut, cre] (<https://orcid.org/0000-0002-0292-8780>), Jacob Wujciak-Jens [aut] (<https://orcid.org/0000-0002-7281-3989>)
# Maintainer: Keith Goldfeld <keith.goldfeld@nyulangone.org>
# Repository: CRAN
# Date/Publication: 2023-06-01 13:40:02 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
