{% set version = '1.30.3' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-crunch
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/crunch_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/crunch/crunch_{{ version }}.tar.gz
  sha256: 4b46864fa3b96c9a79ed05f40b4ca2383e7078020615501d7256817715d3a90f

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip
  noarch: generic

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

# Suggests: base64enc, covr, crunchy, devtools, haven, httptest (>= 3.0.0), knitr, lintr, magrittr, mime, rmarkdown, rstudioapi, spelling, styler, testthat (>= 2.0.0), withr
requirements:
  build:
    - {{ posix }}zip               # [win]

  host:
    - r-base
    - r-abind
    - r-crayon
    - r-curl
    - r-httpcache >=0.1.4
    - r-httr >=1.0.0
    - r-jsonlite >=0.9.15

  run:
    - r-base
    - r-abind
    - r-crayon
    - r-curl
    - r-httpcache >=0.1.4
    - r-httr >=1.0.0
    - r-jsonlite >=0.9.15

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('crunch')"           # [not win]
    - "\"%R%\" -e \"library('crunch')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: https://crunch.io/r/crunch/, https://github.com/Crunch-io/rcrunch
  license: LGPL-3
  summary: The Crunch.io service <https://crunch.io/> provides a cloud-based data store and analytic
    engine, as well as an intuitive web interface. Using this package, analysts can
    interact with and manipulate Crunch datasets from within R. Importantly, this allows
    technical researchers to collaborate naturally with team members, managers, and
    clients who prefer a point-and-click interface.
  license_family: LGPL
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/LGPL-3'

# The original CRAN metadata for this package was:

# Package: crunch
# Type: Package
# Title: Crunch.io Data Tools
# Description: The Crunch.io service <https://crunch.io/> provides a cloud-based data store and analytic engine, as well as an intuitive web interface. Using this package, analysts can interact with and manipulate Crunch datasets from within R. Importantly, this allows technical researchers to collaborate naturally with team members, managers, and clients who prefer a point-and-click interface.
# Version: 1.30.3
# Authors@R: c( person("Greg", "Freedman Ellis", role = c("aut", "cre"), email = "greg@crunch.io"), person("Jonathan", "Keane", role="aut", email="jkeane@gmail.com"), person("Mike", "Malecki", role="aut", email="mike@crunch.io"), person("Neal", "Richardson", role="aut", email="neal.p.richardson@gmail.com"), person("Gordon", "Shotwell", role="aut", email="gordon.shotwell@gmail.com"), person("Aljaz", "Sluga", role="aut", email="aljaz.sluga@crunch.io"))
# URL: https://crunch.io/r/crunch/, https://github.com/Crunch-io/rcrunch
# BugReports: https://github.com/Crunch-io/rcrunch/issues
# License: LGPL (>= 3)
# Depends: R (>= 3.0.0)
# Imports: abind, crayon, curl, grDevices, httr (>= 1.0.0), httpcache (>= 0.1.4), jsonlite (>= 0.9.15), methods
# Suggests: base64enc, covr, crunchy, devtools, haven, httptest (>= 3.0.0), knitr, lintr, magrittr, mime, rmarkdown, rstudioapi, spelling, styler, testthat (>= 2.0.0), withr
# VignetteBuilder: knitr
# Language: en-US
# Encoding: UTF-8
# RoxygenNote: 7.2.3
# LazyData: true
# Collate: 'AllClasses.R' 'AllGenerics.R' 'variable-definition.R' 'R-to-variable.R' 'SO-survey.R' 'abstract-categories.R' 'abstract-category.R' 'add-subvariable.R' 'add-variable.R' 'api.R' 'append-dataset.R' 'archive-and-publish.R' 'as-data-frame.R' 'as-vector.R' 'auth.R' 'automation.R' 'batches.R' 'case-variables.R' 'case-when-variable.R' 'categories.R' 'category.R' 'change-category-id.R' 'combine-categories.R' 'compare-categories.R' 'compare-datasets.R' 'compare-subvariables.R' 'compare-variables.R' 'compare.R' 'conditional-transform.R' 'consent.R' 'context-manager.R' 'copy.R' 'crunch-data-frame.R' 'crunch.R' 'crunchbox.R' 'cube-collapse-dimensions.R' 'cube-dims.R' 'cube-index-table.R' 'cube-query.R' 'cube-residuals.R' 'cube-result.R' 'cube-subset.R' 'transform.R' 'cube-transforms.R' 'cube-variables.R' 'cut.R' 'dataset-catalog.R' 'dataset-extract.R' 'dataset-order.R' 'dataset-reference.R' 'dataset-stream.R' 'dataset-update.R' 'dataset.R' 'datetime.R' 'shoji-catalog.R' 'decks.R' 'delete.R' 'dichotomize.R' 'dimension-transforms.R' 'drop-rows.R' 'edit-lock.R' 'export-dataset.R' 'expressions.R' 'fill-variable.R' 'filters.R' 'folders.R' 'fork-and-merge.R' 'formula.R' 'gadgets.R' 'geo.R' 'get-datasets.R' 'github.R' 'hide-variables.R' 'insertions.R' 'interact.R' 'join-dataset.R' 'json.R' 'length.R' 'make-array.R' 'members.R' 'merge-crunch-data-frame.R' 'misc.R' 'multitables.R' 'new-dataset.R' 'ordering.R' 'palettes.R' 'permission-catalog.R' 'permissions.R' 'show.R' 'pretty-print.R' 'private-variables.R' 'progress.R' 'project-folder.R' 'projects.R' 'rowwise.R' 'search.R' 'session.R' 'share.R' 'shoji-entity.R' 'shoji-folder.R' 'shoji-order-slots.R' 'shoji-order.R' 'shoji.R' 'slides.R' 'sliding-categories.R' 'subtotals-and-headings.R' 'subvariables.R' 'summary-insertions.R' 'tab-book.R' 'teams.R' 'transform-calculate.R' 'tuple.R' 'univariate.R' 'user-info.R' 'user.R' 'variable-as-methods.R' 'variable-catalog.R' 'variable-derivation.R' 'variable-folder.R' 'variable-metadata.R' 'variable-order.R' 'variable-summary.R' 'variable-type.R' 'variable-update.R' 'variable.R' 'variables.R' 'versions.R' 'weight.R' 'zcl.R'
# NeedsCompilation: no
# Packaged: 2023-08-30 14:53:22 UTC; gregfreedmanellis
# Author: Greg Freedman Ellis [aut, cre], Jonathan Keane [aut], Mike Malecki [aut], Neal Richardson [aut], Gordon Shotwell [aut], Aljaz Sluga [aut]
# Maintainer: Greg Freedman Ellis <greg@crunch.io>
# Repository: CRAN
# Date/Publication: 2023-08-30 17:10:11 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
