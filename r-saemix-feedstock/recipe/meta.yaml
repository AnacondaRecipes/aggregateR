{% set version = '3.0' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-saemix
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/saemix_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/saemix/saemix_{{ version }}.tar.gz
  sha256: f0d4de6e22354fda340a659513fa2ce4d9cefc8a6dbd0e80433e994937135d9d

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip
  noarch: generic

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

# Suggests: testthat, MASS, survival
requirements:
  build:
    - {{ posix }}zip               # [win]

  host:
    - r-base
    - r-ggplot2
    - r-gridextra
    - r-npde >=3.2
    - r-rlang

  run:
    - r-base
    - r-ggplot2
    - r-gridextra
    - r-npde >=3.2
    - r-rlang

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('saemix')"           # [not win]
    - "\"%R%\" -e \"library('saemix')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: https://CRAN.R-project.org/package=saemix
  license: GPL-2
  summary: 'The ''saemix'' package implements the Stochastic Approximation EM algorithm for parameter
    estimation in (non)linear mixed effects models. The SAEM algorithm (i) computes
    the maximum likelihood estimator of the population parameters, without any approximation
    of the model (linearisation, quadrature approximation,...), using the Stochastic
    Approximation Expectation Maximization (SAEM) algorithm, (ii) provides standard
    errors for the maximum likelihood estimator (iii) estimates the conditional modes,
    the conditional means and the conditional standard deviations of the individual
    parameters, using the Hastings-Metropolis algorithm (see Comets et al. (2017) <doi:10.18637/jss.v080.i03>).
    Many applications of SAEM in agronomy, animal breeding and PKPD analysis have been
    published by members of the Monolix group. The full PDF documentation for the package
    including references about the algorithm and examples can be downloaded on the github
    of the IAME research institute for ''saemix'': <https://github.com/iame-researchCenter/saemix/blob/7638e1b09ccb01cdff173068e01c266e906f76eb/docsaem.pdf>.'
  license_family: GPL2
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-2'

extra:
  recipe-maintainers:
    - katietz

# The original CRAN metadata for this package was:

# Package: saemix
# Title: Stochastic Approximation Expectation Maximization (SAEM) Algorithm
# Version: 3.0
# Authors@R: c( person("Emmanuelle", "Comets", role = c("aut", "cre"), email = "emmanuelle.comets@inserm.fr"), person("Audrey", "Lavenu", role = "aut"), person("Marc", "Lavielle", role = "aut"), person("Belhal", "Karimi", role = "aut"), person("Maud", "Delattre", role = "ctb"), person("Marilou", "Chanel", role = "ctb"), person("Johannes", "Ranke", role = "ctb", comment = c(ORCID = "0000-0003-4371-6538")), person("Sofia", "Kaisaridi", role = "ctb"), person("Lucie", "Fayette", role = "ctb"))
# Description: The 'saemix' package implements the Stochastic Approximation EM algorithm for parameter estimation in (non)linear mixed effects models. The SAEM algorithm (i) computes the maximum likelihood estimator of the population parameters, without any approximation of the model (linearisation, quadrature approximation,...), using the Stochastic Approximation Expectation Maximization (SAEM) algorithm, (ii) provides standard errors for the maximum likelihood estimator (iii) estimates the conditional modes, the conditional means and the conditional standard deviations of the individual parameters, using the Hastings-Metropolis algorithm (see Comets et al. (2017) <doi:10.18637/jss.v080.i03>). Many applications of SAEM in agronomy, animal breeding and PKPD analysis have been published by members of the Monolix group. The full PDF documentation for the package including references about the algorithm and examples can be downloaded on the github of the IAME research institute for 'saemix': <https://github.com/iame-researchCenter/saemix/blob/7638e1b09ccb01cdff173068e01c266e906f76eb/docsaem.pdf>.
# License: GPL (>= 2)
# LazyLoad: yes
# LazyData: yes
# Imports: graphics, stats, methods, gridExtra, ggplot2, grid, rlang
# Suggests: testthat, MASS, survival
# Depends: npde (>= 3.2)
# Encoding: UTF-8
# RoxygenNote: 7.1.2
# NeedsCompilation: no
# Collate: 'aaa_generics.R' 'SaemixData.R' 'SaemixModel.R' 'SaemixRes.R' 'SaemixObject.R' 'backward.R' 'compute_LL.R' 'forward.R' 'func_FIM.R' 'func_aux.R' 'func_compare.R' 'func_distcond.R' 'func_estimParam.R' 'func_npde.R' 'func_plots.R' 'func_simulations.R' 'func_stepwise.R' 'main.R' 'main_estep.R' 'main_initialiseMainAlgo.R' 'main_mstep.R' 'stepwise.R' 'zzz.R'
# Packaged: 2022-02-08 11:23:32 UTC; eco
# Author: Emmanuelle Comets [aut, cre], Audrey Lavenu [aut], Marc Lavielle [aut], Belhal Karimi [aut], Maud Delattre [ctb], Marilou Chanel [ctb], Johannes Ranke [ctb] (<https://orcid.org/0000-0003-4371-6538>), Sofia Kaisaridi [ctb], Lucie Fayette [ctb]
# Maintainer: Emmanuelle Comets <emmanuelle.comets@inserm.fr>
# Repository: CRAN
# Date/Publication: 2022-02-08 15:30:05 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
