{% set version = '0.6.0.1' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-stacomirtools
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/stacomirtools_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/stacomirtools/stacomirtools_{{ version }}.tar.gz
  sha256: 5ea0bb8a9edc29f6e8edff933ee70053f1417a153e3fa5863484b7262b9881c3

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip
  noarch: generic

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

# Suggests: testthat, withr
requirements:
  build:
    - {{ posix }}zip               # [win]

  host:
    - r-base
    - r-dbi
    - r-rodbc
    - r-rpostgres
    - r-pool
    - r-xtable

  run:
    - r-base
    - r-dbi
    - r-rodbc
    - r-rpostgres
    - r-pool
    - r-xtable

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('stacomirtools')"           # [not win]
    - "\"%R%\" -e \"library('stacomirtools')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: https://CRAN.R-project.org/package=stacomirtools
  license: GPL-2
  summary: S4 class wrappers for the 'ODBC' and Pool DBI connection, also provides some utilities
    to paste small datasets to clipboard, rename columns. It is used by the package
    'stacomiR' for connections to the database. Development versions of 'stacomiR' are
    available in R-forge.
  license_family: GPL2
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-2'

extra:
  recipe-maintainers:
    - katietz

# The original CRAN metadata for this package was:

# Package: stacomirtools
# Version: 0.6.0.1
# Date: 2022-04-28
# Title: Connection Class for Package stacomiR
# Authors@R: c( person("Cedric", "Briand", role = c("aut", "cre"), email = "cedric.briand00@gmail.com"), person("Marion", "Legrand", role = "aut", email = "tableau-salt-loire@logrami.fr"), person("Beaulaton", "Laurent", role = "ctb", email = "laurent.beaulaton@ofb.gouv.fr"))
# Author: Cedric Briand [aut, cre], Marion Legrand [aut], Beaulaton Laurent [ctb]
# Maintainer: Cedric Briand <cedric.briand00@gmail.com>
# Description: S4 class wrappers for the 'ODBC' and Pool DBI connection, also provides some utilities to paste small datasets to clipboard, rename columns. It is used by the package 'stacomiR' for connections to the database. Development versions of 'stacomiR' are available in R-forge.
# License: GPL (>= 2)
# Collate: 'ConnectionODBC.R' 'RequeteODBC.R' 'RequeteODBCwhere.R' 'RequeteODBCwheredate.R' 'utilities.R' 'stacomirtools.R' 'stacomirtools-package.R''ConnectionDB.R' 'RequeteDB.R' 'RequeteDBwhere.R' 'RequeteDBwheredate.R' 'zzz.R'
# LazyLoad: yes
# Depends: RODBC, DBI, pool
# Imports: methods, xtable, utils, RPostgres
# Suggests: testthat, withr
# NeedsCompilation: no
# RoxygenNote: 7.1.2
# Packaged: 2022-04-29 10:00:13 UTC; cedric.briand
# Repository: CRAN
# Date/Publication: 2022-04-29 11:40:02 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
