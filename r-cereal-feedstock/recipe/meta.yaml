{% set version = '0.1.0' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-cereal
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/cereal_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/cereal/cereal_{{ version }}.tar.gz
  sha256: 59c3799ab2de7e3dc93a31c244e4fec74caf7a2e403dce97fbbc1d342e87490b

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip
  noarch: generic

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

# Suggests: covr, testthat (>= 3.0.0), withr
requirements:
  build:
    - {{ posix }}zip               # [win]

  host:
    - r-base
    - r-jsonlite
    - r-rlang
    - r-tibble
    - r-vctrs

  run:
    - r-base
    - r-jsonlite
    - r-rlang
    - r-tibble
    - r-vctrs

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('cereal')"           # [not win]
    - "\"%R%\" -e \"library('cereal')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: https://r-lib.github.io/cereal/, https://github.com/r-lib/cereal/
  license: MIT
  summary: The 'vctrs' package provides a concept of vector prototype that can be especially
    useful when deploying models and code.  Serialize these object prototypes to 'JSON'
    so they can be used to check and coerce data in production systems, and deserialize
    'JSON' back to the correct object prototypes.
  license_family: MIT
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/MIT'
    - LICENSE

# The original CRAN metadata for this package was:

# Package: cereal
# Title: Serialize 'vctrs' Objects to 'JSON'
# Version: 0.1.0
# Authors@R: c( person("Julia", "Silge", , "julia.silge@posit.co", role = c("cre", "aut"), comment = c(ORCID = "0000-0002-3671-836X")), person("Davis", "Vaughan", , "davis@posit.co", role = "aut"), person("Posit Software, PBC", role = c("cph", "fnd")) )
# Description: The 'vctrs' package provides a concept of vector prototype that can be especially useful when deploying models and code.  Serialize these object prototypes to 'JSON' so they can be used to check and coerce data in production systems, and deserialize 'JSON' back to the correct object prototypes.
# License: MIT + file LICENSE
# URL: https://r-lib.github.io/cereal/, https://github.com/r-lib/cereal/
# BugReports: https://github.com/r-lib/cereal/issues
# Depends: R (>= 3.6)
# Imports: jsonlite, rlang, tibble, vctrs
# Suggests: covr, testthat (>= 3.0.0), withr
# Config/Needs/website: tidyverse/tidytemplate
# Config/testthat/edition: 3
# Encoding: UTF-8
# RoxygenNote: 7.2.3
# Language: en-US
# NeedsCompilation: no
# Packaged: 2023-06-08 19:18:13 UTC; juliasilge
# Author: Julia Silge [cre, aut] (<https://orcid.org/0000-0002-3671-836X>), Davis Vaughan [aut], Posit Software, PBC [cph, fnd]
# Maintainer: Julia Silge <julia.silge@posit.co>
# Repository: CRAN
# Date/Publication: 2023-06-09 14:00:26 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
