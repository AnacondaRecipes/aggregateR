{% set version = '0.5.0' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-komaletter
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/komaletter_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/komaletter/komaletter_{{ version }}.tar.gz
  sha256: 4faa361a99a3d8183839307667415f0dce10e0c4e62a20e52d49a4642c5c61f2

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip
  noarch: generic

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

# Suggests: knitr (>= 1.8)
requirements:
  build:
    - {{ posix }}zip               # [win]

  host:
    - r-base
    - r-rmarkdown >=0.6

  run:
    - r-base
    - r-rmarkdown >=0.6

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('komaletter')"           # [not win]
    - "\"%R%\" -e \"library('komaletter')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: https://rnuske.github.io/komaletter/, https://github.com/rnuske/komaletter
  license: GPL-3
  summary: Write beautiful yet customizable letters in R Markdown and directly obtain the finished
    PDF. Smooth generation of PDFs is realized by 'rmarkdown', the 'pandoc-letter' template
    and the 'KOMA-Script' letter class. 'KOMA-Script' provides enhanced replacements
    for the standard 'LaTeX' classes with emphasis on typography and versatility. 'KOMA-Script'
    is particularly useful for international writers as it handles various paper formats
    well, provides layouts for many common window envelope types (e.g. German, US, French,
    Japanese) and lets you define your own layouts. The package comes with a default
    letter layout based on 'DIN 5008B'.
  license_family: GPL3
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-3'

extra:
  recipe-maintainers:
    - katietz

# The original CRAN metadata for this package was:

# Package: komaletter
# Title: Simply Beautiful PDF Letters from Markdown
# Version: 0.5.0
# Authors@R: c( person("Robert", "Nuske", role=c("aut", "cre"), email="robert.nuske@mailbox.org", comment=c(ORCID="0000-0001-9773-2061")), person("Dirk", "Eddelbuettel", role="aut", comment=c(ORCID="0000-0001-6419-907X")), person("Aaron", "Wolen", role="aut", comment=c(ORCID="0000-0003-2542-2202")))
# Description: Write beautiful yet customizable letters in R Markdown and directly obtain the finished PDF. Smooth generation of PDFs is realized by 'rmarkdown', the 'pandoc-letter' template and the 'KOMA-Script' letter class. 'KOMA-Script' provides enhanced replacements for the standard 'LaTeX' classes with emphasis on typography and versatility. 'KOMA-Script' is particularly useful for international writers as it handles various paper formats well, provides layouts for many common window envelope types (e.g. German, US, French, Japanese) and lets you define your own layouts. The package comes with a default letter layout based on 'DIN 5008B'.
# License: GPL-3
# URL: https://rnuske.github.io/komaletter/, https://github.com/rnuske/komaletter
# BugReports: https://github.com/rnuske/komaletter/issues
# Encoding: UTF-8
# Depends: R (>= 3.0)
# Imports: rmarkdown (>= 0.6)
# Suggests: knitr (>= 1.8)
# VignetteBuilder: knitr
# RoxygenNote: 7.2.3
# NeedsCompilation: no
# Packaged: 2023-02-26 20:09:03 UTC; rnuske
# Author: Robert Nuske [aut, cre] (<https://orcid.org/0000-0001-9773-2061>), Dirk Eddelbuettel [aut] (<https://orcid.org/0000-0001-6419-907X>), Aaron Wolen [aut] (<https://orcid.org/0000-0003-2542-2202>)
# Maintainer: Robert Nuske <robert.nuske@mailbox.org>
# Repository: CRAN
# Date/Publication: 2023-02-27 01:10:07 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
