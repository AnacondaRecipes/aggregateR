{% set version = '0.4.0' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-dcurves
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/dcurves_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/dcurves/dcurves_{{ version }}.tar.gz
  sha256: 4c80808c85bfb35c3b0a211da07c06e8c23a3c0c074836de232f05b54e8c97c2

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip
  noarch: generic

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

# Suggests: covr (>= 3.5.1), gtsummary (>= 1.4.0), knitr (>= 1.32), rmarkdown (>= 2.7), spelling (>= 2.2), testthat (>= 3.0.2), tidyr (>= 1.1.3)
requirements:
  build:
    - {{ posix }}zip               # [win]

  host:
    - r-base
    - r-broom >=0.7.10
    - r-dplyr >=1.0.5
    - r-ggplot2 >=3.3.3
    - r-glue >=1.4.2
    - r-purrr >=0.3.4
    - r-rlang >=0.4.10
    - r-scales >=1.1.1
    - r-survival
    - r-tibble >=3.1.0

  run:
    - r-base
    - r-broom >=0.7.10
    - r-dplyr >=1.0.5
    - r-ggplot2 >=3.3.3
    - r-glue >=1.4.2
    - r-purrr >=0.3.4
    - r-rlang >=0.4.10
    - r-scales >=1.1.1
    - r-survival
    - r-tibble >=3.1.0

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('dcurves')"           # [not win]
    - "\"%R%\" -e \"library('dcurves')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: https://github.com/ddsjoberg/dcurves, https://www.danieldsjoberg.com/dcurves/
  license: MIT
  summary: 'Diagnostic and prognostic models are typically evaluated with measures of accuracy
    that do not address clinical consequences. Decision-analytic techniques allow assessment
    of clinical outcomes, but often require collection of additional information may
    be cumbersome to apply to models that yield a continuous result. Decision curve
    analysis is a method for evaluating and comparing prediction models that incorporates
    clinical consequences, requires only the data set on which the models are tested,
    and can be applied to models that have either continuous or dichotomous results.
    See the following references for details on the methods: Vickers (2006) <doi:10.1177/0272989X06295361>,
    Vickers (2008) <doi:10.1186/1472-6947-8-53>, and Pfeiffer (2020) <doi:10.1002/bimj.201800240>.'
  license_family: MIT
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/MIT'
    - LICENSE

# The original CRAN metadata for this package was:

# Package: dcurves
# Title: Decision Curve Analysis for Model Evaluation
# Version: 0.4.0
# Authors@R: c(person(given = "Daniel D.", family = "Sjoberg", role = c("aut", "cre", "cph"), email = "danield.sjoberg@gmail.com"), person(given = "Emily", family = "Vertosick", role = "ctb", email = "vertosie@mskcc.org"))
# Description: Diagnostic and prognostic models are typically evaluated with measures of accuracy that do not address clinical consequences. Decision-analytic techniques allow assessment of clinical outcomes, but often require collection of additional information may be cumbersome to apply to models that yield a continuous result. Decision curve analysis is a method for evaluating and comparing prediction models that incorporates clinical consequences, requires only the data set on which the models are tested, and can be applied to models that have either continuous or dichotomous results. See the following references for details on the methods: Vickers (2006) <doi:10.1177/0272989X06295361>, Vickers (2008) <doi:10.1186/1472-6947-8-53>, and Pfeiffer (2020) <doi:10.1002/bimj.201800240>.
# License: MIT + file LICENSE
# URL: https://github.com/ddsjoberg/dcurves, https://www.danieldsjoberg.com/dcurves/
# BugReports: https://github.com/ddsjoberg/dcurves/issues
# Depends: R (>= 3.5)
# Imports: broom (>= 0.7.10), dplyr (>= 1.0.5), ggplot2 (>= 3.3.3), glue (>= 1.4.2), purrr (>= 0.3.4), rlang (>= 0.4.10), scales (>= 1.1.1), survival, tibble (>= 3.1.0)
# Suggests: covr (>= 3.5.1), gtsummary (>= 1.4.0), knitr (>= 1.32), rmarkdown (>= 2.7), spelling (>= 2.2), testthat (>= 3.0.2), tidyr (>= 1.1.3)
# VignetteBuilder: knitr
# ByteCompile: true
# Config/testthat/edition: 3
# Config/testthat/parallel: true
# Encoding: UTF-8
# Language: en-US
# LazyData: true
# RoxygenNote: 7.2.3
# NeedsCompilation: no
# Packaged: 2022-12-23 18:40:39 UTC; SjobergD
# Author: Daniel D. Sjoberg [aut, cre, cph], Emily Vertosick [ctb]
# Maintainer: Daniel D. Sjoberg <danield.sjoberg@gmail.com>
# Repository: CRAN
# Date/Publication: 2022-12-23 19:00:02 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
