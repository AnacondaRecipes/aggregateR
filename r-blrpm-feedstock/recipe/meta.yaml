{% set version = '1.0' %}

{% set posix = 'm2-' if win else '' %}
{% set native = 'm2w64-' if win else '' %}

package:
  name: r-blrpm
  version: {{ version|replace("-", "_") }}

source:
  url:
    - {{ cran_mirror }}/src/contrib/BLRPM_{{ version }}.tar.gz
    - {{ cran_mirror }}/src/contrib/Archive/BLRPM/BLRPM_{{ version }}.tar.gz
  sha256: fdc28cefad0eb47b2693cdab02f19a33f8161e9a436c8b0a2be3734df8940097

build:
  merge_build_host: True  # [win]
  # If this is a new build for the same version, increment the build number.
  number: 0
  # no skip
  noarch: generic

  # This is required to make R link correctly on Linux.
  rpaths:
    - lib/R/lib/
    - lib/

requirements:
  build:
    - {{ posix }}zip               # [win]

  host:
    - r-base
    - r-r6

  run:
    - r-base
    - r-r6

test:
  commands:
    # You can put additional test commands to be run here.
    - $R -e "library('BLRPM')"           # [not win]
    - "\"%R%\" -e \"library('BLRPM')\""  # [win]

  # You can also put a file called run_test.py, run_test.sh, or run_test.bat
  # in the recipe that will be run at test time.

  # requires:
    # Put any additional test requirements here.

about:
  home: https://CRAN.R-project.org/package=BLRPM
  license: GPL-2
  summary: Due to a limited availability of observed high-resolution precipitation records with
    adequate length, simulations with stochastic precipitation models are used to generate
    series for subsequent studies [e.g. Khaliq and Cunmae, 1996, <doi:10.1016/0022-1694(95)02894-3>,
    Vandenberghe et al., 2011, <doi:10.1029/2009WR008388>]. This package contains an
    R implementation of the original Bartlett-Lewis rectangular pulse model (BLRPM),
    developed by Rodriguez-Iturbe et al. (1987) <doi:10.1098/rspa.1987.0039>. It contains
    a function for simulating a precipitation time series based on storms and cells
    generated by the model with given or estimated model parameters. Additionally BLRPM
    parameters can be estimated from a given or simulated precipitation time series.
    The model simulations can be plotted in a three-layer plot including an overview
    of generated storms and cells by the model (which can also be plotted individually),
    a continuous step-function and a discrete precipitation time series at a chosen
    aggregation level.
  license_family: GPL2
  license_file:
    - '{{ environ["PREFIX"] }}/lib/R/share/licenses/GPL-2'

extra:
  recipe-maintainers:
    - katietz

# The original CRAN metadata for this package was:

# Package: BLRPM
# Type: Package
# Title: Stochastic Rainfall Generator Bartlett-Lewis Rectangular Pulse Model
# Version: 1.0
# Date: 2017-10-04
# Author: Christoph Ritschel
# Maintainer: Christoph Ritschel <christoph.ritschel@met.fu-berlin.de>
# Depends: R6
# Description: Due to a limited availability of observed high-resolution precipitation records with adequate length, simulations with stochastic precipitation models are used to generate series for subsequent studies [e.g. Khaliq and Cunmae, 1996, <doi:10.1016/0022-1694(95)02894-3>, Vandenberghe et al., 2011, <doi:10.1029/2009WR008388>]. This package contains an R implementation of the original Bartlett-Lewis rectangular pulse model (BLRPM), developed by Rodriguez-Iturbe et al. (1987) <doi:10.1098/rspa.1987.0039>. It contains a function for simulating a precipitation time series based on storms and cells generated by the model with given or estimated model parameters. Additionally BLRPM parameters can be estimated from a given or simulated precipitation time series. The model simulations can be plotted in a three-layer plot including an overview of generated storms and cells by the model (which can also be plotted individually), a continuous step-function and a discrete precipitation time series at a chosen aggregation level.
# License: GPL (>= 2)
# RoxygenNote: 5.0.1
# NeedsCompilation: no
# Packaged: 2017-10-06 09:37:15 UTC; kruud
# Repository: CRAN
# Date/Publication: 2017-10-06 11:42:37 UTC

# See
# https://docs.conda.io/projects/conda-build for
# more information about meta.yaml
